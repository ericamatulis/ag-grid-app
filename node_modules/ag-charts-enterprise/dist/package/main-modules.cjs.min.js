"use strict";var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__export=(e,t)=>{for(var i in t)__defProp(e,i,{get:t[i],enumerable:!0})},__copyProps=(e,t,i,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of __getOwnPropNames(t))!__hasOwnProp.call(e,a)&&a!==i&&__defProp(e,a,{get:()=>t[a],enumerable:!(o=__getOwnPropDesc(t,a))||o.enumerable});return e},__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),__decorateClass=(e,t,i,o)=>{for(var a=o>1?void 0:o?__getOwnPropDesc(t,i):t,s=e.length-1,r;s>=0;s--)(r=e[s])&&(a=(o?r(t,i,a):r(a))||a);return o&&a&&__defProp(t,i,a),a},main_modules_exports={};__export(main_modules_exports,{AllCartesianEnterpriseModules:()=>AllCartesianEnterpriseModules,AllEnterpriseModules:()=>AllEnterpriseModules,AllFlowProportionEnterpriseModules:()=>AllFlowProportionEnterpriseModules,AllGaugeEnterpriseModules:()=>AllGaugeEnterpriseModules,AllHierarchyEnterpriseModules:()=>AllHierarchyEnterpriseModules,AllPolarEnterpriseModules:()=>AllPolarEnterpriseModules,AllStandaloneEnterpriseModules:()=>AllStandaloneEnterpriseModules,AllTopologyEnterpriseModules:()=>AllTopologyEnterpriseModules,AngleCategoryAxisModule:()=>AngleCategoryAxisModule,AngleNumberAxisModule:()=>AngleNumberAxisModule,BoxPlotSeriesModule:()=>BoxPlotSeriesModule,CandlestickSeriesModule:()=>CandlestickSeriesModule,ChordSeriesModule:()=>ChordSeriesModule,ConeFunnelSeriesModule:()=>ConeFunnelSeriesModule,FlowProportionChartModule:()=>FlowProportionChartModule,FunnelSeriesModule:()=>FunnelSeriesModule,GaugeChartModule:()=>GaugeChartModule,HeatmapSeriesModule:()=>HeatmapSeriesModule,HierarchyChartModule:()=>HierarchyChartModule,LinearGaugeSeriesModule:()=>LinearGaugeSeriesModule,MapLineBackgroundSeriesModule:()=>MapLineBackgroundSeriesModule,MapLineSeriesModule:()=>MapLineSeriesModule,MapMarkerSeriesModule:()=>MapMarkerSeriesModule,MapShapeBackgroundSeriesModule:()=>MapShapeBackgroundSeriesModule,MapShapeSeriesModule:()=>MapShapeSeriesModule,ModuleRegistry:()=>ModuleRegistry,NightingaleSeriesModule:()=>NightingaleSeriesModule,OhlcSeriesModule:()=>OhlcSeriesModule,OrdinalTimeAxisModule:()=>OrdinalTimeAxisModule,PyramidSeriesModule:()=>PyramidSeriesModule,RadarAreaSeriesModule:()=>RadarAreaSeriesModule,RadarLineSeriesModule:()=>RadarLineSeriesModule,RadialBarSeriesModule:()=>RadialBarSeriesModule,RadialColumnSeriesModule:()=>RadialColumnSeriesModule,RadialGaugeSeriesModule:()=>RadialGaugeSeriesModule,RadiusCategoryAxisModule:()=>RadiusCategoryAxisModule,RadiusNumberAxisModule:()=>RadiusNumberAxisModule,RangeAreaSeriesModule:()=>RangeAreaSeriesModule,RangeBarSeriesModule:()=>RangeBarSeriesModule,SankeySeriesModule:()=>SankeySeriesModule,StandaloneChartModule:()=>StandaloneChartModule,SunburstSeriesModule:()=>SunburstSeriesModule,TopologyChartModule:()=>TopologyChartModule,TreemapSeriesModule:()=>TreemapSeriesModule,WaterfallSeriesModule:()=>WaterfallSeriesModule}),module.exports=__toCommonJS(main_modules_exports);var import_ag_charts_community173=require("ag-charts-community"),import_ag_charts_community13=require("ag-charts-community"),import_ag_charts_core8=require("ag-charts-core"),import_ag_charts_community5=require("ag-charts-community"),import_ag_charts_core3=require("ag-charts-core");function loopSymmetrically(e,t,i){const o=(s,r,n,l)=>{let c=e[0];for(let p=s;n>0?p<=r:p>r;p+=n){const h=e[p];if(l(c,h))return!0;c=h}return!1},a=Math.floor(e.length/2);return o(t,a,t,i)?!0:o(e.length-t,a,-t,i)}var import_ag_charts_community=require("ag-charts-community"),{OR,POSITIVE_NUMBER,NAN,AxisInterval,TempValidate}=import_ag_charts_community._ModuleSupport,AngleAxisInterval=class extends AxisInterval{};__decorateClass([TempValidate(OR(POSITIVE_NUMBER,NAN))],AngleAxisInterval.prototype,"minSpacing",2);var import_ag_charts_community4=require("ag-charts-community"),import_ag_charts_core2=require("ag-charts-core"),import_ag_charts_community3=require("ag-charts-community"),import_ag_charts_core=require("ag-charts-core"),import_ag_charts_community2=require("ag-charts-community"),{BaseProperties,ChartAxisDirection,ARRAY,BOOLEAN,COLOR_STRING,FONT_STYLE,FONT_WEIGHT,LINE_DASH,NUMBER,OBJECT,POSITIVE_NUMBER:POSITIVE_NUMBER2,RATIO,STRING,UNION,AND,COLOR_STRING_ARRAY,TempValidate:TempValidate2,MATCHING_CROSSLINE_TYPE,createId,Group}=import_ag_charts_community2._ModuleSupport,PolarCrossLineLabel=class extends BaseProperties{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};__decorateClass([TempValidate2(BOOLEAN,{optional:!0})],PolarCrossLineLabel.prototype,"enabled",2),__decorateClass([TempValidate2(STRING,{optional:!0})],PolarCrossLineLabel.prototype,"text",2),__decorateClass([TempValidate2(FONT_STYLE,{optional:!0})],PolarCrossLineLabel.prototype,"fontStyle",2),__decorateClass([TempValidate2(FONT_WEIGHT,{optional:!0})],PolarCrossLineLabel.prototype,"fontWeight",2),__decorateClass([TempValidate2(POSITIVE_NUMBER2)],PolarCrossLineLabel.prototype,"fontSize",2),__decorateClass([TempValidate2(STRING)],PolarCrossLineLabel.prototype,"fontFamily",2),__decorateClass([TempValidate2(NUMBER)],PolarCrossLineLabel.prototype,"padding",2),__decorateClass([TempValidate2(COLOR_STRING,{optional:!0})],PolarCrossLineLabel.prototype,"color",2),__decorateClass([TempValidate2(BOOLEAN,{optional:!0})],PolarCrossLineLabel.prototype,"parallel",2);var PolarCrossLine=class extends BaseProperties{constructor(){super(...arguments),this.id=createId(this),this.defaultColorRange=[],this.shape="polygon",this.label=new PolarCrossLineLabel,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction=ChartAxisDirection.X,this.axisInnerRadius=0,this.axisOuterRadius=0,this.lineGroup=new Group({name:this.id}),this.rangeGroup=new Group({name:this.id}),this.labelGroup=new Group({name:this.id}),this._isRange=void 0}assignCrossLineGroup(e,t){e!==this._isRange&&(e?this.rangeGroup.appendChild(t):this.lineGroup.appendChild(t)),this._isRange=e}setSectorNodeProps(e){e.fill=this.fill,e.fillOpacity=this.fillOpacity??1,e.stroke=this.stroke,e.strokeOpacity=this.strokeOpacity??1,e.strokeWidth=this.strokeWidth??1,e.lineDash=this.lineDash}setLabelNodeProps(e,t,i,o,a){const{label:s}=this;e.x=t,e.y=i,e.text=s.text,e.textAlign="center",e.textBaseline=o,e.rotation=a,e.rotationCenterX=t,e.rotationCenterY=i,e.fill=s.color,e.fontFamily=s.fontFamily,e.fontSize=s.fontSize,e.fontStyle=s.fontStyle,e.visible=!0}};__decorateClass([TempValidate2(BOOLEAN,{optional:!0})],PolarCrossLine.prototype,"enabled",2),__decorateClass([TempValidate2(UNION(["range","line"],"a crossLine type"))],PolarCrossLine.prototype,"type",2),__decorateClass([TempValidate2(AND(MATCHING_CROSSLINE_TYPE("range"),ARRAY.restrict({length:2})),{optional:!0})],PolarCrossLine.prototype,"range",2),__decorateClass([TempValidate2(MATCHING_CROSSLINE_TYPE("value"),{optional:!0})],PolarCrossLine.prototype,"value",2),__decorateClass([TempValidate2(COLOR_STRING_ARRAY)],PolarCrossLine.prototype,"defaultColorRange",2),__decorateClass([TempValidate2(COLOR_STRING,{optional:!0})],PolarCrossLine.prototype,"fill",2),__decorateClass([TempValidate2(RATIO,{optional:!0})],PolarCrossLine.prototype,"fillOpacity",2),__decorateClass([TempValidate2(COLOR_STRING,{optional:!0})],PolarCrossLine.prototype,"stroke",2),__decorateClass([TempValidate2(NUMBER,{optional:!0})],PolarCrossLine.prototype,"strokeWidth",2),__decorateClass([TempValidate2(RATIO,{optional:!0})],PolarCrossLine.prototype,"strokeOpacity",2),__decorateClass([TempValidate2(LINE_DASH,{optional:!0})],PolarCrossLine.prototype,"lineDash",2),__decorateClass([TempValidate2(UNION(["polygon","circle"],"a shape"))],PolarCrossLine.prototype,"shape",2),__decorateClass([TempValidate2(OBJECT)],PolarCrossLine.prototype,"label",2);var{ChartAxisDirection:ChartAxisDirection2,getCrossLineValue,validateCrossLineValue,normalizeAngle360,Group:Group2,Path,Sector,RotatableText,ContinuousScale}=import_ag_charts_community3._ModuleSupport,AngleCrossLine=class extends PolarCrossLine{constructor(){super(),this.direction=ChartAxisDirection2.X,this.polygonNode=new Path,this.sectorNode=new Sector,this.lineNode=new Path,this.crossLineRange=new Group2,this.labelNode=new RotatableText,this.ticks=[],this.crossLineRange.append(this.polygonNode),this.crossLineRange.append(this.sectorNode),this.crossLineRange.append(this.lineNode),this.labelGroup.append(this.labelNode)}visibilityCheck(){if(!ContinuousScale.is(this.scale))return!0;const[e,t]=this.scale.domain,i=getCrossLineValue(this);if((0,import_ag_charts_core.isArray)(i)){const[o,a]=i;return o>=e&&o<=t&&a>=o&&a<=t}else return i>=e&&i<=t}update(e){const{scale:t}=this;if(!t||!this.isValid()||!validateCrossLineValue(getCrossLineValue(this),t)||!this.visibilityCheck()){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}this.rangeGroup.visible=e,this.lineGroup.visible=e,this.labelGroup.visible=e,this.updateLineNode(e),this.updatePolygonNode(e),this.updateSectorNode(e),this.updateLabelNode(e)}updateLineNode(e){const{scale:t,type:i,value:o,lineNode:a}=this;if(!e||i!=="line"||!t){a.visible=!1;return}const s=t.convert(o);if(isNaN(s)){a.visible=!1;return}const{axisInnerRadius:r,axisOuterRadius:n}=this;a.visible=!0,a.stroke=this.stroke,a.strokeOpacity=this.strokeOpacity??1,a.strokeWidth=this.strokeWidth??1,a.fill=void 0,a.lineDash=this.lineDash;const l=n*Math.cos(s),c=n*Math.sin(s),p=r*Math.cos(s),h=r*Math.sin(s);a.path.clear(!0),a.path.moveTo(p,h),a.path.lineTo(l,c),this.assignCrossLineGroup(!1,this.crossLineRange)}updatePolygonNode(e){const{polygonNode:t,range:i,scale:o,shape:a,type:s,ticks:r}=this;if(!e||s!=="range"||a!=="polygon"||!o||!i){t.visible=!1;return}const{axisInnerRadius:n,axisOuterRadius:l}=this,c=r.indexOf(i[0]),p=r.indexOf(i[1]),u=(c<=p?r.slice(c,p+1):r.slice(c).concat(r.slice(0,p+1))).map(f=>o.convert(f));t.visible=!0,this.setSectorNodeProps(t);const{path:d}=t;d.clear(!0),u.forEach((f,g)=>{const m=l*Math.cos(f),y=l*Math.sin(f);g===0?d.moveTo(m,y):d.lineTo(m,y)}),n===0?d.lineTo(0,0):u.slice().reverse().forEach(f=>{const g=n*Math.cos(f),m=n*Math.sin(f);d.lineTo(g,m)}),t.path.closePath(),this.assignCrossLineGroup(!0,this.crossLineRange)}updateSectorNode(e){const{sectorNode:t,range:i,scale:o,shape:a,type:s}=this;if(!e||s!=="range"||a!=="circle"||!o||!i){t.visible=!1;return}const{axisInnerRadius:r,axisOuterRadius:n}=this,l=i.map(h=>o.convert(h)),c=o.step??0,p=o instanceof import_ag_charts_community3._ModuleSupport.BandScale?c/2:0;t.visible=!0,this.setSectorNodeProps(t),t.centerX=0,t.centerY=0,t.innerRadius=r,t.outerRadius=n,t.startAngle=l[0]-p,t.endAngle=l[1]+p,this.assignCrossLineGroup(!0,this.crossLineRange)}updateLabelNode(e){const{label:t,labelNode:i,range:o,scale:a,type:s,ticks:r}=this;if(!e||t.enabled===!1||!t.text||!a||s==="range"&&!o){i.visible=!1;return}i.visible=!0;const{axisInnerRadius:n,axisOuterRadius:l}=this;let c,p,h,u;if(s==="line"){const d=normalizeAngle360(a.convert(this.value)),f=1.5*Math.PI,g=(0,import_ag_charts_core.isNumberEqual)(d,f)||d>f||d<Math.PI/2,m=(n+l)/2*Math.cos(d),y=(n+l)/2*Math.sin(d);c=m+t.padding*Math.cos(d+Math.PI/2),p=y+t.padding*Math.sin(d+Math.PI/2),u=g?"top":"bottom",h=g?d:d-Math.PI}else{const[d,f]=o.map(b=>normalizeAngle360(a.convert(b)));let g=(d+f)/2;d>f&&(g-=Math.PI),g=normalizeAngle360(g);const m=((0,import_ag_charts_core.isNumberEqual)(g,0)||g>0)&&g<Math.PI;let y;this.shape==="circle"||r.length<3?y=l-t.padding:y=l*Math.cos(Math.PI/r.length)-t.padding,c=y*Math.cos(g),p=y*Math.sin(g),u=m?"bottom":"top",h=m?g-Math.PI/2:g+Math.PI/2}this.setLabelNodeProps(i,c,p,u,h)}};AngleCrossLine.className="AngleCrossLine";var{ChartAxisDirection:ChartAxisDirection3,NUMBER:NUMBER2,UNION:UNION2,ProxyOnWrite,TextWrapper,TextUtils,TempValidate:TempValidate3,toRadians,normalizeAngle360:normalizeAngle3602,normalizeAngle360Inclusive,Path:Path2,RotatableText:RotatableText2,Transformable,BBox}=import_ag_charts_community4._ModuleSupport,AngleAxisLabel=class extends import_ag_charts_community4._ModuleSupport.AxisLabel{constructor(){super(...arguments),this.orientation="fixed"}};__decorateClass([TempValidate3(UNION2(["fixed","parallel","perpendicular"],"a label orientation"))],AngleAxisLabel.prototype,"orientation",2);var AngleAxis=class extends import_ag_charts_community4._ModuleSupport.PolarAxis{constructor(e,t){super(e,t),this.startAngle=0,this.endAngle=void 0,this.labelData=[],this.tickData=[],this.radiusLine=this.axisGroup.appendChild(new Path2),this.includeInvisibleDomains=!0}get direction(){return ChartAxisDirection3.X}createLabel(){return new AngleAxisLabel}calculateTickLayout(e){const{nice:t,scale:i}=this,o={nice:t,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0},a=t?i.niceDomain(o,e):e,s=this.generateAngleTicks(a);this.tickData=s;const r=s.map(l=>l.value),n=r.reduce((l,c)=>Math.max(typeof c=="number"?(0,import_ag_charts_core2.countFractionDigits)(c):0,l),0);return{niceDomain:a,primaryTickCount:void 0,tickDomain:a,ticks:r,fractionDigits:n,bbox:this.getBBox()}}update(){super.update(),this.updateRadiusLine()}normalizedAngles(){const e=normalizeAngle3602(-Math.PI/2+toRadians(this.startAngle)),t=this.endAngle!=null?normalizeAngle360Inclusive(toRadians(this.endAngle)-toRadians(this.startAngle)):2*Math.PI,i=e+t;return[e,i]}computeRange(){this.range=this.normalizedAngles()}updateSelections(){const e=this.tickData;this.gridLineGroupSelection.update(this.gridLength&&this.gridLine.enabled?e:[]),this.tickLineGroupSelection.update(this.tick.enabled?e:[]),this.tickLabelGroupSelection.update(this.label.enabled?e:[]),this.gridLineGroupSelection.cleanup(),this.tickLineGroupSelection.cleanup(),this.tickLabelGroupSelection.cleanup()}updatePosition(){const{translation:e,axisGroup:t,gridGroup:i,crossLineRangeGroup:o,crossLineLineGroup:a,crossLineLabelGroup:s}=this,r=Math.floor(e.x),n=Math.floor(e.y);t.translationX=r,t.translationY=n,i.translationX=r,i.translationY=n,o.translationX=r,o.translationY=n,a.translationX=r,a.translationY=n,s.translationX=r,s.translationY=n}updateRadiusLine(){const e=this.radiusLine,{path:t}=e;t.clear(!0);const{points:i,closePath:o}=this.getAxisLinePoints();i.forEach(({x:a,y:s,moveTo:r,arc:n,radius:l=0,startAngle:c=0,endAngle:p=0})=>{n?t.arc(a,s,l,c,p):r?t.moveTo(a,s):t.lineTo(a,s)}),o&&t.closePath(),e.visible=this.line.enabled,e.stroke=this.line.stroke,e.strokeWidth=this.line.width,e.fill=void 0}getAxisLinePoints(){const{scale:e,shape:t,gridLength:i}=this,[o,a]=this.range,s=(0,import_ag_charts_core2.isNumberEqual)(a-o,2*Math.PI),r=[];if(t==="circle")s?r.push({x:i,y:0,moveTo:!0},{x:0,y:0,radius:i,startAngle:0,endAngle:2*Math.PI,arc:!0,moveTo:!1}):r.push({x:i*Math.cos(o),y:i*Math.sin(o),moveTo:!0},{x:0,y:0,radius:i,startAngle:normalizeAngle3602(o),endAngle:normalizeAngle3602(a),arc:!0,moveTo:!1});else if(t==="polygon"){const n=e.ticks({nice:this.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0})?.map(l=>e.convert(l));n&&n.length>2&&n.forEach((l,c)=>{const p=i*Math.cos(l),h=i*Math.sin(l),u=c===0;r.push({x:p,y:h,moveTo:u})})}return{points:r,closePath:s}}updateGridLines(){const{scale:e,gridLength:t,gridLine:{style:i,width:o},innerRadiusRatio:a}=this;if(!(i&&t>0))return;const s=t*a,r=i.length;this.gridLineGroupSelection.each((n,l,c)=>{const{value:p}=l,{stroke:h,lineDash:u}=i[c%r],d=e.convert(p);n.x1=s*Math.cos(d),n.y1=s*Math.sin(d),n.x2=t*Math.cos(d),n.y2=t*Math.sin(d),n.stroke=h,n.strokeWidth=o,n.lineDash=u,n.fill=void 0}),this.gridLineGroupSelection.cleanup()}updateLabels(){const{label:e,tickLabelGroupSelection:t}=this;t.each((i,o,a)=>{const s=this.labelData[a];if(!s||s.hidden){i.visible=!1;return}i.text=s.text,i.setFont(e),i.fill=e.color,i.x=s.x,i.y=s.y,i.textAlign=s.textAlign,i.textBaseline=s.textBaseline,i.visible=!0,s.rotation?(i.rotation=s.rotation,i.rotationCenterX=s.x,i.rotationCenterY=s.y):i.rotation=0})}updateTickLines(){const{scale:e,gridLength:t,tick:i,tickLineGroupSelection:o}=this;o.each((a,s)=>{const{value:r}=s,n=e.convert(r),l=Math.cos(n),c=Math.sin(n);a.x1=t*l,a.y1=t*c,a.x2=(t+i.size)*l,a.y2=(t+i.size)*c,a.stroke=i.stroke,a.strokeWidth=i.width})}createLabelNodeData(e,t,i){const{label:o,gridLength:a,scale:s,tick:r}=this;if(!o.enabled)return[];const n=new RotatableText2,l=i.x-this.translation.x,c=i.x+i.width-this.translation.x,p=e.map((h,u)=>{const{value:d}=h,f=a+o.spacing+r.size,g=s.convert(d),m=Math.cos(g),y=Math.sin(g),b=f*m,S=f*y,{textAlign:D,textBaseline:k}=this.getLabelAlign(g),A=u===e.length-1&&d!==e[0]&&(0,import_ag_charts_core2.isNumberEqual)(normalizeAngle3602(g),normalizeAngle3602(s.convert(e[0]))),x=this.getLabelRotation(g);let v=this.formatTick(d,u,s.domain);n.text=v,n.x=b,n.y=S,n.setFont(o),n.textAlign=D,n.textBaseline=k,n.rotation=x,x&&(n.rotationCenterX=b,n.rotationCenterY=S);let N=x?Transformable.toCanvas(n):n.getBBox();if(N&&t.hideWhenNecessary&&!x){const O=l-N.x,_=N.x+N.width-c,R=1;if(O>R||_>R){const I=N.width-Math.max(O,_);v=TextWrapper.wrapText(v,{maxWidth:I,font:o,textWrap:"never"}),v===TextUtils.EllipsisChar&&(v=""),n.text=v,N=n.getBBox()}}return{text:v,x:b,y:S,textAlign:D,textBaseline:k,hidden:v===""||h.hidden||A,rotation:x,box:N}});return o.avoidCollisions&&this.avoidLabelCollisions(p),p}computeLabelsBBox(e,t){this.labelData=this.createLabelNodeData(this.tickData,e,t);const i=this.labelData.map(({box:o})=>o).filter(o=>o!=null);return!this.label.enabled||i.length===0?null:BBox.merge(i)}getLabelOrientation(){const{label:e}=this;return e instanceof AngleAxisLabel?e.orientation:"fixed"}getLabelRotation(e){let t=toRadians(this.label.rotation??0);e=normalizeAngle3602(e);const i=this.getLabelOrientation();return i==="parallel"?(t+=e,e>=0&&e<Math.PI?t-=Math.PI/2:t+=Math.PI/2):i==="perpendicular"&&(t+=e,e>=Math.PI/2&&e<1.5*Math.PI&&(t+=Math.PI)),t}getLabelAlign(e){const t=Math.cos(e),i=Math.sin(e);let o,a;const s=this.getLabelOrientation(),r=(0,import_ag_charts_core2.isNumberEqual)(t,0),n=(0,import_ag_charts_core2.isNumberEqual)(i,0),l=(0,import_ag_charts_core2.isNumberEqual)(t,1),c=(0,import_ag_charts_core2.isNumberEqual)(i,-1),p=t>0&&!r,h=i>0&&!n;return s==="parallel"?(o="center",a=l&&n||h?"top":"bottom"):s==="perpendicular"?(o=c||p?"left":"right",a="middle"):(o="right",r?o="center":p&&(o="left"),a="bottom",n?a="middle":h&&(a="top")),{textAlign:o,textBaseline:a}}updateCrossLines(){const{shape:e,gridLength:t,innerRadiusRatio:i}=this;this.crossLines.forEach(o=>{o instanceof AngleCrossLine&&(o.ticks=this.tickData.map(a=>a.value),o.shape=e,o.axisOuterRadius=t,o.axisInnerRadius=t*i)}),super.updateCrossLines()}};AngleAxis.CrossLineConstructor=AngleCrossLine,__decorateClass([ProxyOnWrite("rotation"),TempValidate3(NUMBER2)],AngleAxis.prototype,"startAngle",2),__decorateClass([TempValidate3(NUMBER2,{optional:!0})],AngleAxis.prototype,"endAngle",2);var{RATIO:RATIO2,OBJECT:OBJECT2,TempValidate:TempValidate4,CategoryScale}=import_ag_charts_community5._ModuleSupport,AngleCategoryAxis=class extends AngleAxis{constructor(e){super(e,new CategoryScale),this.groupPaddingInner=0,this.paddingInner=0,this.interval=new AngleAxisInterval}generateAngleTicks(){const{scale:e,gridLength:t}=this,{values:i,minSpacing:o}=this.interval,a=i??e.ticks({nice:this.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0})??[];if(a.length<2||o==null)return a.map(c=>({value:c,visible:!0}));const s=a[0],r=e.convert(s),n=t*Math.cos(r),l=t*Math.sin(r);for(let c=1;c<a.length-1;c++){const p=a[c],h=e.convert(p);if(h-r>Math.PI)break;const u=t*Math.cos(h),d=t*Math.sin(h);if(Math.sqrt((u-n)**2+(d-l)**2)>o){const g=new Set([s]);return loopSymmetrically(a,c,(m,y)=>{g.add(y)}),a.map(m=>{const y=g.has(m);return{value:m,visible:y}})}}return[{value:s,visible:!0}]}avoidLabelCollisions(e){const{minSpacing:t}=this.label;if(e.length<3)return;const i=(l,c)=>{if(l.hidden||c.hidden)return!1;if(t==null)return l.box.collidesBBox(c.box);const p=l.box.clone().grow(t/2),h=c.box.clone().grow(t/2);return p.collidesBBox(h)},o=e[0],a=e.at(-1),s=new Set([o]),r=(0,import_ag_charts_core3.isNumberEqual)(o.x,a.x)&&(0,import_ag_charts_core3.isNumberEqual)(o.y,a.y),n=Math.floor(e.length/2);for(let l=1;l<=n;l++){const c=r?e.slice(0,-1):e;if(!loopSymmetrically(c,l,i)){loopSymmetrically(c,l,(h,u)=>{s.add(u)});break}}e.forEach(l=>{s.has(l)||(l.hidden=!0,l.box=void 0)})}};AngleCategoryAxis.className="AngleCategoryAxis",AngleCategoryAxis.type="angle-category",__decorateClass([TempValidate4(RATIO2)],AngleCategoryAxis.prototype,"groupPaddingInner",2),__decorateClass([TempValidate4(RATIO2)],AngleCategoryAxis.prototype,"paddingInner",2),__decorateClass([TempValidate4(OBJECT2)],AngleCategoryAxis.prototype,"interval",2);var import_ag_charts_community7=require("ag-charts-community"),import_ag_charts_core5=require("ag-charts-core"),import_ag_charts_community6=require("ag-charts-community"),import_ag_charts_core4=require("ag-charts-core"),{range,isDenseInterval,LinearScale}=import_ag_charts_community6._ModuleSupport,LinearAngleScale=class he extends LinearScale{constructor(){super(...arguments),this.arcLength=0}static getNiceStepAndTickCount(t,i){const[o,a]=i;let s=LinearScale.getTickStep(o,a,t);const r=isNaN(t.maxTickCount)?1/0:t.maxTickCount,n=Math.abs(a-o)/s;let l=Math.pow(2,Math.ceil(Math.log(n)/Math.log(2)));return l>r&&(l/=2,s*=2),{count:l,step:s}}ticks(t,i=this.domain){const{arcLength:o}=this;if(!i||i.length<2||i.some(c=>!isFinite(c))||o<=0)return[];const{nice:a,interval:s}=t,[r,n]=i;if(s){const c=Math.abs(s),p=this.getPixelRange();if(!isDenseInterval((n-r)/c,p))return range(r,n,c)}let l;if(a&&this.hasNiceRange()){const c=super.niceDomain(t,i);l=he.getNiceStepAndTickCount(t,c).step}else l=LinearScale.getTickStep(r,n,t);return range(r,n,l)}hasNiceRange(){const t=this.range.slice().sort((o,a)=>o-a);return[Math.PI,2*Math.PI].some(o=>(0,import_ag_charts_core4.isNumberEqual)(o,t[1]-t[0]))}niceDomain(t,i=this.domain){const o=super.niceDomain(t,i);if(!this.hasNiceRange())return o;const a=o[0]>o[1],s=a?o[1]:o[0],{step:r,count:n}=he.getNiceStepAndTickCount(t,o),l=1/r,c=r>=1?Math.ceil(s/r+n)*r:Math.ceil((s+n*r)*l)/l;return a?[c,s]:[s,c]}getPixelRange(){return this.arcLength}},{AND:AND2,GREATER_THAN,LESS_THAN,NUMBER_OR_NAN,OBJECT:OBJECT3,TempValidate:TempValidate5,angleBetween,normalisedExtentWithMetadata,findMinMax}=import_ag_charts_community7._ModuleSupport,AngleNumberAxis=class extends AngleAxis{constructor(e){super(e,new LinearAngleScale),this.shape="circle",this.interval=new AngleAxisInterval}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:o,clipped:a}=normalisedExtentWithMetadata(e,t,i);return{domain:o,clipped:a}}updateScale(){super.updateScale(),this.scale.arcLength=this.getRangeArcLength()}getRangeArcLength(){const{range:e}=this,t=Math.min(...e),i=Math.max(...e),o=angleBetween(t,i)||2*Math.PI,a=this.gridLength;return o*a}generateAngleTicks(e){const{scale:t,range:i,nice:o}=this,{values:a,step:s,minSpacing:r,maxSpacing:n}=this.interval;let l;if(a==null){const{arcLength:c}=t,p=n?Math.floor(c/n):1,h=r?Math.floor(c/r):1/0,u=Math.floor(4/Math.PI*Math.abs(i[0]-i[1])),d=Math.max(p,Math.min(h,u)),f={nice:o,interval:s,tickCount:d,minTickCount:p,maxTickCount:h};l=t.ticks(f,e)}else{const[c,p]=findMinMax(e.map(Number));l=a.filter(h=>h>=c&&h<=p).sort((h,u)=>h-u)}return l.map(c=>({value:c,visible:!0}))}avoidLabelCollisions(e){const{minSpacing:t}=this.label,i=(s,r)=>{if(s.hidden||r.hidden)return!1;if(t==null)return s.box.collidesBBox(r.box);const n=s.box.clone().grow(t/2),l=r.box.clone().grow(t/2);return n.collidesBBox(l)},o=e[0],a=e.at(-1);o!==a&&(0,import_ag_charts_core5.isNumberEqual)(o.x,a.x)&&(0,import_ag_charts_core5.isNumberEqual)(o.y,a.y)&&(a.hidden=!0);for(let s=1;s<e.length;s*=2){let r=!1;for(let n=s;n<e.length;n+=s){const l=e[n],c=e[n-s];if(i(c,l)){r=!0;break}}if(!r){e.forEach((n,l)=>{l%s>0&&(n.hidden=!0,n.box=void 0)});return}}e.forEach((s,r)=>{r>0&&(s.hidden=!0,s.box=void 0)})}};AngleNumberAxis.className="AngleNumberAxis",AngleNumberAxis.type="angle-number",__decorateClass([TempValidate5(AND2(NUMBER_OR_NAN,LESS_THAN("max")),{optional:!0})],AngleNumberAxis.prototype,"min",2),__decorateClass([TempValidate5(AND2(NUMBER_OR_NAN,GREATER_THAN("min")),{optional:!0})],AngleNumberAxis.prototype,"max",2),__decorateClass([TempValidate5(OBJECT3)],AngleNumberAxis.prototype,"interval",2);var import_ag_charts_community8=require("ag-charts-community"),{OrdinalTimeScale}=import_ag_charts_community8._ModuleSupport,OrdinalTimeAxis=class extends import_ag_charts_community8._ModuleSupport.CategoryAxis{constructor(e){super(e,new OrdinalTimeScale)}};OrdinalTimeAxis.className="OrdinalTimeAxis",OrdinalTimeAxis.type="ordinal-time";var import_ag_charts_community11=require("ag-charts-community"),import_ag_charts_community10=require("ag-charts-community"),import_ag_charts_core7=require("ag-charts-core"),import_ag_charts_community9=require("ag-charts-community"),import_ag_charts_core6=require("ag-charts-core"),{ChartAxisDirection:ChartAxisDirection4,TempValidate:TempValidate6,NUMBER:NUMBER3,getCrossLineValue:getCrossLineValue2,validateCrossLineValue:validateCrossLineValue2,normalizeAngle360:normalizeAngle3603,toRadians:toRadians2,Group:Group3,Path:Path3,Sector:Sector2,RotatableText:RotatableText3}=import_ag_charts_community9._ModuleSupport,RadiusCrossLineLabel=class extends PolarCrossLineLabel{constructor(){super(...arguments),this.positionAngle=void 0}};__decorateClass([TempValidate6(NUMBER3,{optional:!0})],RadiusCrossLineLabel.prototype,"positionAngle",2);var RadiusCrossLine=class extends PolarCrossLine{constructor(){super(),this.direction=ChartAxisDirection4.Y,this.label=new RadiusCrossLineLabel,this.polygonNode=new Path3,this.sectorNode=new Sector2,this.crossLineRange=new Group3,this.labelNode=new RotatableText3,this.outerRadius=0,this.innerRadius=0,this.crossLineRange.append(this.polygonNode),this.crossLineRange.append(this.sectorNode),this.labelGroup.append(this.labelNode)}update(e){const{scale:t}=this;if(!t||!this.isValid()||!validateCrossLineValue2(getCrossLineValue2(this),t)){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}this.updateRadii();const{innerRadius:i,outerRadius:o}=this;e&&(e=i>=this.axisInnerRadius&&o<=this.axisOuterRadius),this.rangeGroup.visible=e,this.lineGroup.visible=e,this.labelGroup.visible=e,this.updatePolygonNode(e),this.updateSectorNode(e),this.updateLabelNode(e),this.assignCrossLineGroup(this.type==="range",this.crossLineRange)}updateRadii(){const{range:e,scale:t,type:i,axisInnerRadius:o,axisOuterRadius:a}=this;if(!t)return{innerRadius:0,outerRadius:0};const s=l=>a+o-l;let r,n;if(i==="line")r=s(t.convert(this.value)),n=r;else{const l=Math.abs(t?.bandwidth??0),c=e.map(p=>t.convert(p));r=s(Math.max(...c)),n=s(Math.min(...c))+l}this.outerRadius=r,this.innerRadius=n}drawPolygon(e,t,i){t.forEach((o,a)=>{const s=e*Math.cos(o),r=e*Math.sin(o);a===0?i.path.moveTo(s,r):i.path.lineTo(s,r)}),i.path.closePath()}updatePolygonNode(e){const{gridAngles:t,polygonNode:i,scale:o,shape:a,type:s,innerRadius:r,outerRadius:n}=this;if(!e||a!=="polygon"||!o||!t){i.visible=!1;return}i.visible=!0;const l=this.getPadding();i.path.clear(!0),this.drawPolygon(n-l,t,i);const c=t.slice().reverse(),p=s==="line"?n-l:r+l;this.drawPolygon(p,c,i),this.setSectorNodeProps(i)}updateSectorNode(e){const{axisInnerRadius:t,axisOuterRadius:i,scale:o,sectorNode:a,shape:s,innerRadius:r,outerRadius:n}=this;if(!e||s!=="circle"||!o){a.visible=!1;return}a.visible=!0,a.startAngle=0,a.endAngle=2*Math.PI;const l=this.getPadding(),c=(0,import_ag_charts_core6.clamp)(t,r+l,i),p=(0,import_ag_charts_core6.clamp)(t,n-l,i);a.innerRadius=Math.min(c,p),a.outerRadius=Math.max(c,p),this.setSectorNodeProps(a)}updateLabelNode(e){const{innerRadius:t,label:i,labelNode:o,scale:a,shape:s,type:r}=this;if(!e||i.enabled===!1||!i.text||!a){o.visible=!1;return}const n=normalizeAngle3603(toRadians2((i.positionAngle??0)-90)),l=((0,import_ag_charts_core6.isNumberEqual)(n,0)||n>0)&&n<Math.PI,c=l?n-Math.PI/2:n+Math.PI/2;let p;const h=this.gridAngles??[];r==="line"?p=t+i.padding:s==="circle"||h.length<3?p=t-i.padding:p=t*Math.cos(Math.PI/h.length)-i.padding;const u=p*Math.cos(n),d=p*Math.sin(n);let f;r==="line"?f=l?"top":"bottom":f=l?"bottom":"top",this.setLabelNodeProps(o,u,d,f,c)}getPadding(){const{scale:e}=this;if(!e)return 0;const t=Math.abs(e.bandwidth??0),i=Math.abs(e.step??0);return e instanceof import_ag_charts_community9._ModuleSupport.BandScale?(i-t)/2:0}};RadiusCrossLine.className="RadiusCrossLine";var{ChartAxisDirection:ChartAxisDirection5,ZIndexMap,NUMBER:NUMBER4,BOOLEAN:BOOLEAN2,TempValidate:TempValidate7,normalizeAngle360:normalizeAngle3604,toRadians:toRadians3,Caption,Group:Group4,Path:Path4,Line,Selection,AxisTickGenerator,AxisGroupZIndexMap}=import_ag_charts_community10._ModuleSupport,RadiusAxisLabel=class extends import_ag_charts_community10._ModuleSupport.AxisLabel{constructor(){super(...arguments),this.autoRotateAngle=335}};__decorateClass([TempValidate7(BOOLEAN2,{optional:!0})],RadiusAxisLabel.prototype,"autoRotate",2),__decorateClass([TempValidate7(NUMBER4)],RadiusAxisLabel.prototype,"autoRotateAngle",2);var RadiusAxis=class extends import_ag_charts_community10._ModuleSupport.PolarAxis{constructor(e,t){super(e,t),this.positionAngle=0,this.tickGenerator=new AxisTickGenerator(this),this.generatedTicks=void 0,this.lineNode=this.axisGroup.appendChild(new Line({name:`${this.id}-Axis-line`,zIndex:AxisGroupZIndexMap.AxisLine})),this.gridPathGroup=this.gridGroup.appendChild(new Group4({name:`${this.id}-gridPaths`,zIndex:ZIndexMap.AXIS_GRID})),this.gridPathSelection=Selection.select(this.gridPathGroup,Path4),this.axisGroup.appendChild(this.title.caption.node),this.destroyFns.push(this.title.caption.registerInteraction(this.moduleCtx,"afterend"))}get direction(){return ChartAxisDirection5.Y}getAxisTransform(){const e=this.scale.range[0],{translation:t,positionAngle:i,innerRadiusRatio:o}=this,a=e*o,s=toRadians3(i);return{translationX:t.x,translationY:t.y-e-a,rotation:s,rotationCenterX:0,rotationCenterY:e+a}}update(){super.update(),this.updateTitle();const{enabled:e,stroke:t,width:i}=this.line;this.lineNode.setProperties({stroke:t,strokeWidth:e?i:0,x1:0,y1:this.range[0],x2:0,y2:this.range[1]})}calculateTickLayout(e,t,i,o){const{parallelFlipRotation:a,regularFlipRotation:s}=this.calculateRotations(),r=[0,1],n=this.label.getSideFlag(),l=n*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding),c=this.tickGenerator.generateTicks({domain:e,niceMode:t,visibleRange:r,primaryTickCount:o,parallelFlipRotation:a,regularFlipRotation:s,labelX:l,sideFlag:n}),{tickData:p,primaryTickCount:h=o}=c,{ticks:u,rawTicks:d,tickDomain:f,fractionDigits:g,niceDomain:m=e}=p,y=u.map(b=>this.getTickLabelProps(b,c));return this.generatedTicks={ticks:u,labels:y},{ticks:d,tickDomain:f,niceDomain:m,primaryTickCount:h,fractionDigits:g}}updateSelections(){const{generatedTicks:e}=this;if(!e)return;const{ticks:t,labels:i}=e;this.gridLineGroupSelection.update(this.gridLength?t:[]),this.tickLineGroupSelection.update(t),this.tickLabelGroupSelection.update(i),this.gridPathSelection.update(this.gridLine.enabled?this.prepareGridPathTickData(t):[]),this.gridLineGroupSelection.cleanup(),this.tickLineGroupSelection.cleanup(),this.tickLabelGroupSelection.cleanup(),this.gridPathSelection.cleanup()}updateLabels(){if(!this.label.enabled)return;const e=import_ag_charts_community10._ModuleSupport.resetAxisLabelSelectionFn();this.tickLabelGroupSelection.each((t,i)=>{t.fill=i.fill,t.fontFamily=i.fontFamily,t.fontSize=i.fontSize,t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.text=i.text,t.textBaseline=i.textBaseline,t.textAlign=i.textAlign??"center",t.setProperties(e(t,i))})}updateGridLines(){super.updateGridLines();const{gridLine:{style:e,width:t},shape:i,generatedTicks:o}=this;if(!e||!o)return;const a=e.length,s=(u,d)=>{const{stroke:f,lineDash:g}=e[d%a];u.stroke=f,u.strokeWidth=t,u.lineDash=g,u.fill=void 0},[r,n]=this.gridRange??[0,2*Math.PI],l=(0,import_ag_charts_core7.isNumberEqual)(n-r,2*Math.PI),h=i==="circle"?(u,d)=>{const{path:f}=u;f.clear(!0);const g=this.getTickRadius(d);l?(f.moveTo(g,0),f.arc(0,0,g,0,2*Math.PI)):(f.moveTo(g*Math.cos(r),g*Math.sin(r)),f.arc(0,0,g,normalizeAngle3604(r),normalizeAngle3604(n))),l&&f.closePath()}:(u,d)=>{const{path:f}=u,g=this.gridAngles;if(f.clear(!0),!g||g.length<3)return;const m=this.getTickRadius(d);g.forEach((y,b)=>{const S=m*Math.cos(y),D=m*Math.sin(y);b===0?f.moveTo(S,D):f.lineTo(S,D),g.forEach((k,A)=>{const x=m*Math.cos(k),v=m*Math.sin(k);A===0?f.moveTo(x,v):f.lineTo(x,v)}),f.closePath()}),f.closePath()};this.gridPathSelection.each((u,d,f)=>{s(u,f),h(u,d)})}updateTitle(){const e=n=>n.defaultValue,{title:t,range:i,moduleCtx:{callbackCache:o}}=this,{formatter:a=e}=this.title;t.caption.enabled=t.enabled,t.caption.fontFamily=t.fontFamily,t.caption.fontSize=t.fontSize,t.caption.fontStyle=t.fontStyle,t.caption.fontWeight=t.fontWeight,t.caption.color=t.color,t.caption.wrapping=t.wrapping;let s=!1;const r=t.caption.node;t.enabled&&(s=!0,r.rotation=Math.PI/2,r.x=Math.floor((i[0]+i[1])/2),r.y=-Caption.SMALL_PADDING,r.textAlign="center",r.textBaseline="bottom",r.text=o.call(this,a,this.getTitleFormatterParams(this.scale.domain))),r.visible=s}updateCrossLines(){this.crossLines.forEach(e=>{if(e instanceof RadiusCrossLine){const{shape:t,gridAngles:i,range:o,innerRadiusRatio:a}=this,s=o[0];e.shape=t,e.gridAngles=i,e.axisOuterRadius=s,e.axisInnerRadius=s*a}}),super.updateCrossLines()}createLabel(){return new RadiusAxisLabel}getTickLabelProps(e,t){const{label:i}=this,{combinedRotation:o,textBaseline:a,textAlign:s}=t,r=this.scale.range,n=e.tickLabel,c=i.getSideFlag()*(this.getTickSize()+i.spacing+this.seriesAreaPadding),p=n!==""&&n!=null;return{...this.getLabelStyles({value:e.tickLabel}),tickId:e.tickId,rotation:o,rotationCenterX:c,translationY:e.translationY,text:n,textAlign:s,textBaseline:a,visible:p,x:c,y:0,range:r}}};RadiusAxis.CrossLineConstructor=RadiusCrossLine,__decorateClass([TempValidate7(NUMBER4)],RadiusAxis.prototype,"positionAngle",2);var{RATIO:RATIO3,ProxyPropertyOnWrite,TempValidate:TempValidate8,CategoryScale:CategoryScale2}=import_ag_charts_community11._ModuleSupport,RadiusCategoryAxis=class extends RadiusAxis{constructor(e){super(e,new CategoryScale2),this.shape="circle",this.groupPaddingInner=0,this.paddingInner=0,this.paddingOuter=0}normaliseDataDomain(e){return{domain:e,clipped:!1}}prepareGridPathTickData(e){return e.slice().reverse()}getTickRadius(e){const{scale:t,innerRadiusRatio:i}=this,o=t.range[0],a=o*i;if(CategoryScale2.is(t)){const s=t.domain,r=s.length-1-s.indexOf(e.tick);return r===0?a:t.inset+t.step*(r-.5)+t.bandwidth/2}else{const s=(o-a)/t.domain.length;return o-e.translationY+a-s/2}}};RadiusCategoryAxis.className="RadiusCategoryAxis",RadiusCategoryAxis.type="radius-category",__decorateClass([TempValidate8(RATIO3)],RadiusCategoryAxis.prototype,"groupPaddingInner",2),__decorateClass([ProxyPropertyOnWrite("scale","paddingInner"),TempValidate8(RATIO3)],RadiusCategoryAxis.prototype,"paddingInner",2),__decorateClass([ProxyPropertyOnWrite("scale","paddingOuter"),TempValidate8(RATIO3)],RadiusCategoryAxis.prototype,"paddingOuter",2);var import_ag_charts_community12=require("ag-charts-community"),{AND:AND3,GREATER_THAN:GREATER_THAN2,LESS_THAN:LESS_THAN2,NUMBER_OR_NAN:NUMBER_OR_NAN2,TempValidate:TempValidate9,normalisedExtentWithMetadata:normalisedExtentWithMetadata2,LinearScale:LinearScale2}=import_ag_charts_community12._ModuleSupport,RadiusNumberAxis=class extends RadiusAxis{constructor(e){super(e,new LinearScale2),this.shape="polygon"}prepareGridPathTickData(e){const{scale:t}=this,i=t.domain[1];return e.filter(({tick:o})=>o!==i).sort((o,a)=>a.tick-o.tick)}getTickRadius(e){const{scale:t}=this,i=t.range[0],o=i*this.innerRadiusRatio;return i-e.translationY+o}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:o,clipped:a}=normalisedExtentWithMetadata2(e,t,i);return{domain:o,clipped:a}}};RadiusNumberAxis.className="RadiusNumberAxis",RadiusNumberAxis.type="radius-number",__decorateClass([TempValidate9(AND3(NUMBER_OR_NAN2,LESS_THAN2("max")),{optional:!0})],RadiusNumberAxis.prototype,"min",2),__decorateClass([TempValidate9(AND3(NUMBER_OR_NAN2,GREATER_THAN2("min")),{optional:!0})],RadiusNumberAxis.prototype,"max",2);var{cartesianAxisLabelOptionsDefs,cartesianAxisOptionsDefs,cartesianAxisCrosshairOptions,continuousAxisOptions,commonAxisLabelOptionsDefs,commonAxisOptionsDefs,commonCrossLineOptionsDefs,commonCrossLineLabelOptionsDefs,numberFormatValidator}=import_ag_charts_community13._ModuleSupport,ordinalTimeAxisOptionsDefs={...cartesianAxisOptionsDefs,type:(0,import_ag_charts_core8.required)((0,import_ag_charts_core8.constant)("ordinal-time")),paddingInner:import_ag_charts_core8.ratio,paddingOuter:import_ag_charts_core8.ratio,groupPaddingInner:import_ag_charts_core8.ratio,label:{...cartesianAxisLabelOptionsDefs,format:import_ag_charts_core8.string},interval:continuousAxisOptions((0,import_ag_charts_core8.or)(import_ag_charts_core8.number,import_ag_charts_core8.date),!0).interval,crosshair:cartesianAxisCrosshairOptions(!0)},angleNumberAxisOptionsDefs={...commonAxisOptionsDefs,...continuousAxisOptions(import_ag_charts_core8.number),type:(0,import_ag_charts_core8.required)((0,import_ag_charts_core8.constant)("angle-number")),crossLines:(0,import_ag_charts_core8.arrayOfDefs)(commonCrossLineOptionsDefs),startAngle:import_ag_charts_core8.number,endAngle:import_ag_charts_core8.number,label:{...commonAxisLabelOptionsDefs,orientation:(0,import_ag_charts_core8.union)("fixed","parallel","perpendicular"),format:numberFormatValidator}},invalidOptionsFromIntegratedCharts={innerRadiusRatio:import_ag_charts_core8.ratio},angleCategoryAxisOptionsDefs={...commonAxisOptionsDefs,...invalidOptionsFromIntegratedCharts,type:(0,import_ag_charts_core8.required)((0,import_ag_charts_core8.constant)("angle-category")),shape:(0,import_ag_charts_core8.union)("polygon","circle"),crossLines:(0,import_ag_charts_core8.arrayOfDefs)(commonCrossLineOptionsDefs),startAngle:import_ag_charts_core8.number,endAngle:import_ag_charts_core8.number,paddingInner:import_ag_charts_core8.ratio,groupPaddingInner:import_ag_charts_core8.ratio,label:{...commonAxisLabelOptionsDefs,orientation:(0,import_ag_charts_core8.union)("fixed","parallel","perpendicular")}},radiusNumberAxisOptionsDefs={...commonAxisOptionsDefs,...continuousAxisOptions(import_ag_charts_core8.number),type:(0,import_ag_charts_core8.required)((0,import_ag_charts_core8.constant)("radius-number")),shape:(0,import_ag_charts_core8.union)("polygon","circle"),positionAngle:import_ag_charts_core8.number,innerRadiusRatio:import_ag_charts_core8.ratio,crossLines:(0,import_ag_charts_core8.arrayOfDefs)({...commonCrossLineOptionsDefs,label:{...commonCrossLineLabelOptionsDefs,positionAngle:import_ag_charts_core8.number}},"cross-line options"),title:{enabled:import_ag_charts_core8.boolean,text:import_ag_charts_core8.string,spacing:import_ag_charts_core8.positiveNumber,formatter:import_ag_charts_core8.callback,...import_ag_charts_core8.fontOptionsDef},label:{...commonAxisLabelOptionsDefs,format:numberFormatValidator}},radiusCategoryAxisOptionsDefs={...commonAxisOptionsDefs,type:(0,import_ag_charts_core8.required)((0,import_ag_charts_core8.constant)("radius-category")),positionAngle:import_ag_charts_core8.number,innerRadiusRatio:import_ag_charts_core8.ratio,paddingInner:import_ag_charts_core8.ratio,paddingOuter:import_ag_charts_core8.ratio,groupPaddingInner:import_ag_charts_core8.ratio,label:commonAxisLabelOptionsDefs,crossLines:(0,import_ag_charts_core8.arrayOfDefs)({...commonCrossLineOptionsDefs,label:{...commonCrossLineLabelOptionsDefs,positionAngle:import_ag_charts_core8.number}},"cross-line options"),title:{enabled:import_ag_charts_core8.boolean,text:import_ag_charts_core8.string,spacing:import_ag_charts_core8.positiveNumber,formatter:import_ag_charts_core8.callback,...import_ag_charts_core8.fontOptionsDef}},OrdinalTimeAxisModule={type:"axis",name:"ordinal-time",chartType:"cartesian",enterprise:!0,options:ordinalTimeAxisOptionsDefs,create:e=>new OrdinalTimeAxis(e)},AngleNumberAxisModule={type:"axis",name:"angle-number",chartType:"polar",enterprise:!0,options:angleNumberAxisOptionsDefs,create:e=>new AngleNumberAxis(e)},AngleCategoryAxisModule={type:"axis",name:"angle-category",chartType:"polar",enterprise:!0,options:angleCategoryAxisOptionsDefs,create:e=>new AngleCategoryAxis(e)},RadiusNumberAxisModule={type:"axis",name:"radius-number",chartType:"polar",enterprise:!0,options:radiusNumberAxisOptionsDefs,create:e=>new RadiusNumberAxis(e)},RadiusCategoryAxisModule={type:"axis",name:"radius-category",chartType:"polar",enterprise:!0,options:radiusCategoryAxisOptionsDefs,create:e=>new RadiusCategoryAxis(e)},import_ag_charts_community15=require("ag-charts-community"),import_ag_charts_community14=require("ag-charts-community"),{Chart,TempValidate:TempValidate10,ARRAY:ARRAY2}=import_ag_charts_community14._ModuleSupport;function isFlowProportion(e){return e.type==="sankey"||e.type==="chord"}var FlowProportionChart=class extends Chart{getChartType(){return"flow-proportion"}async updateData(){await super.updateData();const e=this.getOptions();this.nodes!==e.nodes&&(this.nodes=e.nodes);const{nodes:t}=this;this.series.forEach(i=>{isFlowProportion(i)&&i.setChartNodes(t)})}performLayout(e){const{seriesRoot:t,annotationRoot:i}=this,{layoutBox:o}=e;o.shrink(this.seriesArea.padding.toJson());const a=o.clone();this.seriesRect=a,this.animationRect=a,t.visible=this.series.some(s=>s.visible);for(const s of[t,i])s.translationX=Math.floor(a.x),s.translationY=Math.floor(a.y);this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:t.visible,rect:a,paddedRect:a}})}};FlowProportionChart.className="FlowProportionChart",FlowProportionChart.type="flow-proportion",__decorateClass([TempValidate10(ARRAY2,{optional:!0})],FlowProportionChart.prototype,"nodes",2);var{isAgFlowProportionChartOptions,flowProportionChartOptionsDefs}=import_ag_charts_community15._ModuleSupport,FlowProportionChartModule={type:"chart",name:"flow-proportion",enterprise:!0,options:flowProportionChartOptionsDefs,detect:isAgFlowProportionChartOptions,create(e,t){return new FlowProportionChart(e,t)}},import_ag_charts_community17=require("ag-charts-community"),import_ag_charts_community16=require("ag-charts-community"),{Chart:Chart2}=import_ag_charts_community16._ModuleSupport,GaugeChart=class extends Chart2{getChartType(){return"gauge"}performLayout(e){const{seriesRoot:t,annotationRoot:i,series:o,seriesArea:a}=this,{layoutBox:s}=e,r=s.clone();s.shrink(a.padding.toJson()),this.seriesRect=r.clone().translate(r.x-s.x,r.y-s.y),this.animationRect=s,t.visible=o.some(n=>n.visible);for(const n of[t,i])n.translationX=Math.floor(s.x),n.translationY=Math.floor(s.y);this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:t.visible,rect:r,paddedRect:s}})}getAriaLabel(){const e=[],t=this.getCaptionText();t.length!==0&&e.push(t);for(const o of this.series)e.push(o.getCaptionText());const i=e.join(". ");return this.ctx.localeManager.t("ariaAnnounceGaugeChart",{caption:i})}};GaugeChart.className="GaugeChart",GaugeChart.type="gauge";var{isAgGaugeChartOptions,gaugeChartOptionsDefs}=import_ag_charts_community17._ModuleSupport,GaugeChartModule={type:"chart",name:"gauge",enterprise:!0,options:gaugeChartOptionsDefs,detect:isAgGaugeChartOptions,create(e,t){return new GaugeChart(e,t)}},import_ag_charts_community19=require("ag-charts-community"),import_ag_charts_community18=require("ag-charts-community"),{Chart:Chart3}=import_ag_charts_community18._ModuleSupport,HierarchyChart=class extends Chart3{getChartType(){return"hierarchy"}performLayout(e){const{seriesRoot:t,annotationRoot:i}=this,{layoutBox:o}=e;o.shrink(this.seriesArea.padding.toJson());const a=o.clone();this.seriesRect=a,this.animationRect=a;for(const s of[t,i])s.translationX=Math.floor(a.x),s.translationY=Math.floor(a.y);t.visible=this.series[0].visible,t.setClipRect(a.clone()),this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:a,paddedRect:a}})}getAriaLabel(){const e=this.getCaptionText();return this.ctx.localeManager.t("ariaAnnounceHierarchyChart",{caption:e})}};HierarchyChart.className="HierarchyChart",HierarchyChart.type="hierarchy";var{isAgHierarchyChartOptions,hierarchyChartOptionsDefs}=import_ag_charts_community19._ModuleSupport,HierarchyChartModule={type:"chart",name:"hierarchy",enterprise:!0,options:hierarchyChartOptionsDefs,detect:isAgHierarchyChartOptions,create(e,t){return new HierarchyChart(e,t)}},import_ag_charts_community21=require("ag-charts-community"),import_ag_charts_community20=require("ag-charts-community"),{Chart:Chart4}=import_ag_charts_community20._ModuleSupport,StandaloneChart=class extends Chart4{getChartType(){return"standalone"}performLayout(e){const{seriesRoot:t,annotationRoot:i}=this,{layoutBox:o}=e;o.shrink(this.seriesArea.padding.toJson());const a=o.clone();this.seriesRect=a,this.animationRect=a;for(const s of[t,i])s.translationX=Math.floor(o.x),s.translationY=Math.floor(o.y);t.visible=this.series[0].visible,this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:a,paddedRect:o}})}getAriaLabel(){const e=this.getCaptionText();return this.ctx.localeManager.t("ariaAnnounceHierarchyChart",{caption:e})}};StandaloneChart.className="StandaloneChart",StandaloneChart.type="standalone";var{isAgStandaloneChartOptions,standaloneChartOptionsDefs}=import_ag_charts_community21._ModuleSupport,StandaloneChartModule={type:"chart",name:"standalone",enterprise:!0,options:standaloneChartOptionsDefs,detect:isAgStandaloneChartOptions,create(e,t){return new StandaloneChart(e,t)}},import_ag_charts_community24=require("ag-charts-community"),import_ag_charts_community23=require("ag-charts-community"),import_ag_charts_community22=require("ag-charts-community"),import_ag_charts_core9=require("ag-charts-core");function isValidCoordinate(e){return Array.isArray(e)&&e.length>=2&&e.every(import_ag_charts_core9.isFiniteNumber)}function isValidCoordinates(e){return Array.isArray(e)&&e.length>=2&&e.every(isValidCoordinate)}var delta=.001;function hasSameStartEndPoint(e){return Math.abs(e[0][0]-e[e.length-1][0])<delta&&Math.abs(e[0][1]-e[e.length-1][1])<delta}function isValidPolygon(e){return Array.isArray(e)&&e.every(isValidCoordinates)&&e.every(hasSameStartEndPoint)}function isValidGeometry(e){if(e===null)return!0;if(typeof e!="object"||e.type==null)return!1;const{type:t,coordinates:i}=e;switch(t){case"GeometryCollection":return Array.isArray(e.geometries)&&e.geometries.every(isValidGeometry);case"MultiPolygon":return Array.isArray(i)&&i.every(isValidPolygon);case"Polygon":return isValidPolygon(i);case"MultiLineString":return Array.isArray(i)&&i.every(isValidCoordinates);case"LineString":return isValidCoordinates(i);case"MultiPoint":return isValidCoordinates(i);case"Point":return isValidCoordinate(i)}}function isValidFeature(e){return e!==null&&typeof e=="object"&&e.type==="Feature"&&isValidGeometry(e.geometry)}function isValidFeatureCollection(e){return e!==null&&typeof e=="object"&&e.type==="FeatureCollection"&&Array.isArray(e.features)&&e.features.every(isValidFeature)}var GEOJSON_OBJECT=import_ag_charts_community22._ModuleSupport.predicateWithMessage(isValidFeatureCollection,"a GeoJSON object"),{Chart:Chart5,MercatorScale,NumberAxis,TempValidate:TempValidate11}=import_ag_charts_community23._ModuleSupport;function isTopologySeries(e){return e.type==="map-shape"||e.type==="map-line"||e.type==="map-marker"||e.type==="map-shape-background"||e.type==="map-line-background"}var TopologyChart=class extends Chart5{constructor(e,t){super(e,t),this.xAxis=new NumberAxis(this.getModuleContext()),this.xAxis.position="bottom",this.yAxis=new NumberAxis(this.getModuleContext()),this.yAxis.position="left",this.ctx.zoomManager.updateAxes([this.xAxis,this.yAxis])}getChartType(){return"topology"}async updateData(){await super.updateData();const e=this.getOptions();this.topology!==e.topology&&(this.topology=e.topology);const{topology:t}=this;this.series.forEach(i=>{isTopologySeries(i)&&i.setChartTopology(t)})}performLayout(e){const{seriesRoot:t,annotationRoot:i}=this,{layoutBox:o}=e;o.shrink(this.seriesArea.padding.toJson());const a=o.clone();this.seriesRect=a,this.animationRect=a;const s=this.series.filter(isTopologySeries),r=s.reduce((c,p)=>{if(!p.visible)return c;const h=p.topologyBounds;return h==null?c:c==null?h:(c.merge(h),c)},void 0);let n;if(r!=null){const{lon0:c,lat0:p,lon1:h,lat1:u}=r,d=[[c,p],[h,u]],f=MercatorScale.bounds(d),{width:g,height:m}=a,y=Math.min(g/f.width,m/f.height),b=f.width*y,S=f.height*y,D=(g-b)/2,k=(m-S)/2,A=D,x=k,v=D+b,N=k+S,O=this.ctx.zoomManager.getAxisZoom(this.xAxis.id),_=this.ctx.zoomManager.getAxisZoom(this.yAxis.id),R=(v-A)/(O.max-O.min),I=A-R*O.min,T=(N-x)/(1-_.min-(1-_.max)),C=x-T*(1-_.max);n=new MercatorScale(d,[[I,C],[I+R,C+T]])}s.forEach(c=>{c.scale=n});const l=this.series.some(c=>c.visible);t.visible=l;for(const c of[t,i])c.translationX=Math.floor(a.x),c.translationY=Math.floor(a.y),c.setClipRect(a.clone());this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:l,rect:a,paddedRect:a}})}};TopologyChart.className="TopologyChart",TopologyChart.type="topology",__decorateClass([TempValidate11(GEOJSON_OBJECT,{optional:!0})],TopologyChart.prototype,"topology",2);var{isAgTopologyChartOptions,topologyChartOptionsDefs}=import_ag_charts_community24._ModuleSupport,TopologyChartModule={type:"chart",name:"topology",enterprise:!0,options:topologyChartOptionsDefs,detect:isAgTopologyChartOptions,create(e,t){return new TopologyChart(e,t)}},import_ag_charts_community25=require("ag-charts-community"),import_ag_charts_core10=require("ag-charts-core"),{toolbarButtonOptionsDefs}=import_ag_charts_community25._ModuleSupport,annotationOptionsDef={enabled:import_ag_charts_core10.boolean,axesButtons:{enabled:import_ag_charts_core10.boolean,axes:(0,import_ag_charts_core10.union)("x","y","xy")},toolbar:{enabled:import_ag_charts_core10.boolean,padding:import_ag_charts_core10.positiveNumber,buttons:(0,import_ag_charts_core10.arrayOfDefs)({...toolbarButtonOptionsDefs,value:(0,import_ag_charts_core10.union)("line-menu","fibonacci-menu","text-menu","shape-menu","measurer-menu","line","horizontal-line","vertical-line","parallel-channel","disjoint-channel","fibonacci-retracement","fibonacci-retracement-trend-based","text","comment","callout","note","clear")},"annotation toolbar buttons array")},optionsToolbar:{enabled:import_ag_charts_core10.boolean,buttons:(0,import_ag_charts_core10.arrayOf)((0,import_ag_charts_core10.or)((0,import_ag_charts_core10.optionsDefs)({...toolbarButtonOptionsDefs,value:(0,import_ag_charts_core10.union)("line-stroke-width","line-style-type","line-color","fill-color","text-color","text-size","delete","settings")}),(0,import_ag_charts_core10.optionsDefs)({...toolbarButtonOptionsDefs,value:(0,import_ag_charts_core10.union)("lock"),checkedOverrides:toolbarButtonOptionsDefs})))}};annotationOptionsDef.data=import_ag_charts_core10.array,annotationOptionsDef.xKey=import_ag_charts_core10.string,annotationOptionsDef.volumeKey=import_ag_charts_core10.string,annotationOptionsDef.snap=import_ag_charts_core10.boolean;var serializableDate=(0,import_ag_charts_core10.optionsDefs)({__type:(0,import_ag_charts_core10.required)((0,import_ag_charts_core10.constant)("date")),value:(0,import_ag_charts_core10.or)(import_ag_charts_core10.string,import_ag_charts_core10.number)},"a serializable date object"),xValue=(0,import_ag_charts_core10.or)(import_ag_charts_core10.string,import_ag_charts_core10.number,serializableDate),annotationValue=(0,import_ag_charts_core10.or)(xValue,(0,import_ag_charts_core10.optionsDefs)({value:xValue,groupPercentage:import_ag_charts_core10.number})),annotationAxisLabelOptionsDef={enabled:import_ag_charts_core10.boolean,cornerRadius:import_ag_charts_core10.positiveNumber,formatter:import_ag_charts_core10.callback,...import_ag_charts_core10.fontOptionsDef,...import_ag_charts_core10.fillOptionsDef,...import_ag_charts_core10.strokeOptionsDef,...import_ag_charts_core10.lineDashOptionsDef},lineAnnotationTextOptionsDef={label:import_ag_charts_core10.string,position:(0,import_ag_charts_core10.union)("top","center","bottom"),alignment:(0,import_ag_charts_core10.union)("left","center","right"),...import_ag_charts_core10.fontOptionsDef},channelAnnotationTextOptionsDef={label:import_ag_charts_core10.string,position:(0,import_ag_charts_core10.union)("top","inside","bottom"),alignment:(0,import_ag_charts_core10.union)("left","center","right"),...import_ag_charts_core10.fontOptionsDef},annotationHandleOptionsDef={...import_ag_charts_core10.fillOptionsDef,...import_ag_charts_core10.strokeOptionsDef,...import_ag_charts_core10.lineDashOptionsDef},annotationPointOptionsDef={x:annotationValue,y:import_ag_charts_core10.number},annotationLineOptionsDef={lineStyle:(0,import_ag_charts_core10.union)("solid","dashed","dotted"),...import_ag_charts_core10.lineDashOptionsDef},fibonacciAnnotationStylesOptionsDef={visible:import_ag_charts_core10.boolean,extendStart:import_ag_charts_core10.boolean,extendEnd:import_ag_charts_core10.boolean,locked:import_ag_charts_core10.boolean,text:lineAnnotationTextOptionsDef,handle:annotationHandleOptionsDef,label:import_ag_charts_core10.fontOptionsDef,showFill:import_ag_charts_core10.boolean,isMultiColor:import_ag_charts_core10.boolean,strokes:(0,import_ag_charts_core10.arrayOf)(import_ag_charts_core10.color),rangeStroke:import_ag_charts_core10.color,bands:(0,import_ag_charts_core10.union)(4,6,10),...import_ag_charts_core10.strokeOptionsDef,...annotationLineOptionsDef},annotationInitialStateOptionsDef=(0,import_ag_charts_core10.typeUnion)({line:{visible:import_ag_charts_core10.boolean,extendStart:import_ag_charts_core10.boolean,extendEnd:import_ag_charts_core10.boolean,locked:import_ag_charts_core10.boolean,text:lineAnnotationTextOptionsDef,handle:annotationHandleOptionsDef,start:annotationPointOptionsDef,end:annotationPointOptionsDef,...import_ag_charts_core10.strokeOptionsDef,...annotationLineOptionsDef},"horizontal-line":{visible:import_ag_charts_core10.boolean,locked:import_ag_charts_core10.boolean,value:annotationValue,axisLabel:annotationAxisLabelOptionsDef,text:lineAnnotationTextOptionsDef,handle:annotationHandleOptionsDef,...import_ag_charts_core10.strokeOptionsDef,...annotationLineOptionsDef},"vertical-line":{visible:import_ag_charts_core10.boolean,locked:import_ag_charts_core10.boolean,value:annotationValue,axisLabel:annotationAxisLabelOptionsDef,text:lineAnnotationTextOptionsDef,handle:annotationHandleOptionsDef,...import_ag_charts_core10.strokeOptionsDef,...annotationLineOptionsDef},"disjoint-channel":{visible:import_ag_charts_core10.boolean,extendStart:import_ag_charts_core10.boolean,extendEnd:import_ag_charts_core10.boolean,locked:import_ag_charts_core10.boolean,startHeight:import_ag_charts_core10.positiveNumber,endHeight:import_ag_charts_core10.positiveNumber,text:channelAnnotationTextOptionsDef,handle:annotationHandleOptionsDef,start:annotationPointOptionsDef,end:annotationPointOptionsDef,background:import_ag_charts_core10.fillOptionsDef,...import_ag_charts_core10.strokeOptionsDef,...annotationLineOptionsDef},"parallel-channel":{visible:import_ag_charts_core10.boolean,extendStart:import_ag_charts_core10.boolean,extendEnd:import_ag_charts_core10.boolean,locked:import_ag_charts_core10.boolean,height:import_ag_charts_core10.positiveNumber,text:channelAnnotationTextOptionsDef,handle:annotationHandleOptionsDef,start:annotationPointOptionsDef,end:annotationPointOptionsDef,background:import_ag_charts_core10.fillOptionsDef,middle:{visible:import_ag_charts_core10.boolean,...import_ag_charts_core10.strokeOptionsDef,...annotationLineOptionsDef},...import_ag_charts_core10.strokeOptionsDef,...annotationLineOptionsDef},"fibonacci-retracement":{reverse:import_ag_charts_core10.boolean,start:annotationPointOptionsDef,end:annotationPointOptionsDef,...fibonacciAnnotationStylesOptionsDef},"fibonacci-retracement-trend-based":{reverse:import_ag_charts_core10.boolean,start:annotationPointOptionsDef,end:annotationPointOptionsDef,endRetracement:annotationPointOptionsDef,...fibonacciAnnotationStylesOptionsDef},callout:{visible:import_ag_charts_core10.boolean,locked:import_ag_charts_core10.boolean,text:import_ag_charts_core10.string,handle:annotationHandleOptionsDef,start:annotationPointOptionsDef,end:annotationPointOptionsDef,...import_ag_charts_core10.fontOptionsDef,...import_ag_charts_core10.fillOptionsDef,...import_ag_charts_core10.strokeOptionsDef},comment:{visible:import_ag_charts_core10.boolean,locked:import_ag_charts_core10.boolean,text:import_ag_charts_core10.string,handle:annotationHandleOptionsDef,...annotationPointOptionsDef,...import_ag_charts_core10.fontOptionsDef,...import_ag_charts_core10.fillOptionsDef},note:{visible:import_ag_charts_core10.boolean,locked:import_ag_charts_core10.boolean,text:import_ag_charts_core10.string,handle:annotationHandleOptionsDef,background:{...import_ag_charts_core10.fillOptionsDef,...import_ag_charts_core10.strokeOptionsDef},...annotationPointOptionsDef,...import_ag_charts_core10.fontOptionsDef,...import_ag_charts_core10.fillOptionsDef,...import_ag_charts_core10.strokeOptionsDef},text:{visible:import_ag_charts_core10.boolean,locked:import_ag_charts_core10.boolean,text:import_ag_charts_core10.string,handle:annotationHandleOptionsDef,...annotationPointOptionsDef,...import_ag_charts_core10.fontOptionsDef,...import_ag_charts_core10.fillOptionsDef},arrow:{visible:import_ag_charts_core10.boolean,extendStart:import_ag_charts_core10.boolean,extendEnd:import_ag_charts_core10.boolean,locked:import_ag_charts_core10.boolean,text:lineAnnotationTextOptionsDef,handle:annotationHandleOptionsDef,start:annotationPointOptionsDef,end:annotationPointOptionsDef,...import_ag_charts_core10.strokeOptionsDef,...annotationLineOptionsDef},"arrow-up":{visible:import_ag_charts_core10.boolean,locked:import_ag_charts_core10.boolean,handle:annotationHandleOptionsDef,...annotationPointOptionsDef,...import_ag_charts_core10.fillOptionsDef},"arrow-down":{visible:import_ag_charts_core10.boolean,locked:import_ag_charts_core10.boolean,handle:annotationHandleOptionsDef,...annotationPointOptionsDef,...import_ag_charts_core10.fillOptionsDef},"date-range":{visible:import_ag_charts_core10.boolean,extendAbove:import_ag_charts_core10.boolean,extendBelow:import_ag_charts_core10.boolean,locked:import_ag_charts_core10.boolean,text:lineAnnotationTextOptionsDef,handle:annotationHandleOptionsDef,start:annotationPointOptionsDef,end:annotationPointOptionsDef,statistics:{divider:import_ag_charts_core10.strokeOptionsDef,...import_ag_charts_core10.fontOptionsDef,...import_ag_charts_core10.fillOptionsDef,...import_ag_charts_core10.strokeOptionsDef},...import_ag_charts_core10.strokeOptionsDef,...annotationLineOptionsDef},"price-range":{visible:import_ag_charts_core10.boolean,extendLeft:import_ag_charts_core10.boolean,extendRight:import_ag_charts_core10.boolean,locked:import_ag_charts_core10.boolean,text:lineAnnotationTextOptionsDef,handle:annotationHandleOptionsDef,start:annotationPointOptionsDef,end:annotationPointOptionsDef,statistics:{divider:import_ag_charts_core10.strokeOptionsDef,...import_ag_charts_core10.fontOptionsDef,...import_ag_charts_core10.fillOptionsDef,...import_ag_charts_core10.strokeOptionsDef},...import_ag_charts_core10.strokeOptionsDef,...annotationLineOptionsDef},"date-price-range":{visible:import_ag_charts_core10.boolean,locked:import_ag_charts_core10.boolean,text:lineAnnotationTextOptionsDef,handle:annotationHandleOptionsDef,start:annotationPointOptionsDef,end:annotationPointOptionsDef,statistics:{divider:import_ag_charts_core10.strokeOptionsDef,...import_ag_charts_core10.fontOptionsDef,...import_ag_charts_core10.fillOptionsDef,...import_ag_charts_core10.strokeOptionsDef},...import_ag_charts_core10.strokeOptionsDef,...annotationLineOptionsDef}}),initialStateOptionsDef={chartType:(0,import_ag_charts_core10.union)("candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"),annotations:(0,import_ag_charts_core10.arrayOf)(annotationInitialStateOptionsDef),legend:(0,import_ag_charts_core10.arrayOfDefs)({visible:import_ag_charts_core10.boolean,seriesId:import_ag_charts_core10.string,itemId:import_ag_charts_core10.string,legendItemName:import_ag_charts_core10.string},"legend state array"),zoom:{rangeX:{start:(0,import_ag_charts_core10.or)(import_ag_charts_core10.number,serializableDate),end:(0,import_ag_charts_core10.or)(import_ag_charts_core10.number,serializableDate)},rangeY:{start:(0,import_ag_charts_core10.or)(import_ag_charts_core10.number,serializableDate),end:(0,import_ag_charts_core10.or)(import_ag_charts_core10.number,serializableDate)},ratioX:{start:import_ag_charts_core10.ratio,end:import_ag_charts_core10.ratio},ratioY:{start:import_ag_charts_core10.ratio,end:import_ag_charts_core10.ratio},autoScaledAxes:(0,import_ag_charts_core10.arrayOf)((0,import_ag_charts_core10.constant)("y"))}},import_ag_charts_community68=require("ag-charts-community"),import_ag_charts_core22=require("ag-charts-core"),import_ag_charts_community31=require("ag-charts-community"),import_ag_charts_community28=require("ag-charts-community");function prepareBoxPlotFromTo(e){return{from:e?{scalingX:1,scalingY:0}:{scalingX:0,scalingY:1},to:{scalingX:1,scalingY:1}}}function resetBoxPlotSelectionsScalingCenterFn(e){return(t,i)=>e?{scalingCenterY:i.scaledValues.medianValue}:{scalingCenterX:i.scaledValues.medianValue}}var import_ag_charts_community26=require("ag-charts-community"),import_ag_charts_core11=require("ag-charts-core"),{ScalableGroup,Rect,Line:Line2,BBox:BBox2,Selection:Selection2,applyShapeFillBBox}=import_ag_charts_community26._ModuleSupport,BoxPlotGroup=class extends ScalableGroup{constructor(){super(),this.append([new Rect({tag:0}),new Rect({tag:2}),new Rect({tag:1}),new Line2({tag:3}),new Line2({tag:3}),new Line2({tag:4}),new Line2({tag:4})])}updateDatumStyles(e,t,i,o,a){const{bandwidth:s,scaledValues:{xValue:r,medianValue:n}}=e;let{minValue:l,q1Value:c,q3Value:p,maxValue:h}=e.scaledValues;(i&&!o||!i&&o)&&([h,p,c,l]=[l,c,p,h]);const u=(E,G,F,V)=>i?{y:E,x:G,width:V,height:F}:{x:E,y:G,width:F,height:V},d=(E,G,F)=>i?{y1:E,y2:G,x:F}:{x1:E,x2:G,y:F},f=(E,G,F)=>i?{x1:G,x2:F,y:E}:{x:E,y1:G,y2:F},g=(E,G,F,V)=>({x:E,y:G,width:F,height:V}=u(E,G,F,V),new BBox2(E,G,F,V)),{fill:m,fillOpacity:y,stroke:b,strokeWidth:S,strokeOpacity:D,lineDash:k,lineDashOffset:A,cornerRadius:x,cap:v,whisker:N}=t,O=Selection2.select(this,Rect),[_]=O.selectByTag(0),[R]=O.selectByTag(2),[I]=O.selectByTag(1),T=O.selectByTag(3),C=O.selectByTag(4);N.strokeWidth>s&&(N.strokeWidth=s);const M=u(c,r,p-c,s);R.setProperties(M),_.setProperties(M),_.setProperties({cornerRadius:x});const P=Math.max(Math.round(n-S/2),c+S),B=Math.min(Math.round(n+S/2),p-S);I.setProperties(M),I.setProperties({visible:P<B,cornerRadius:x,clipBBox:g(P,r+S,B-P,Math.max(0,s-S*2))});const L=Math.floor(r+s*(1-v.lengthRatio)/2),w=Math.ceil(r+s*(1+v.lengthRatio)/2);C[0].setProperties(f(l,L,w)),C[1].setProperties(f(h,L,w)),T[0].setProperties(d(Math.round(l+N.strokeWidth/2),c,Math.floor(r+s/2))),T[1].setProperties(d(p,Math.round(h-N.strokeWidth/2),Math.floor(r+s/2))),applyShapeFillBBox(_,m,a),_.setProperties({fill:m,fillOpacity:y,strokeWidth:S*2,strokeOpacity:0}),I.setProperties({fill:b,fillOpacity:D,strokeWidth:0});for(const E of[...T,...C])E.setProperties(N);R.setProperties({stroke:b,strokeWidth:S,strokeOpacity:D,lineDash:k,lineDashOffset:A,cornerRadius:x,fillOpacity:0})}distanceSquared(e,t){const i=Selection2.selectByClass(this,Rect,Line2);return import_ag_charts_community26._ModuleSupport.nearestSquared(e,t,i).distanceSquared}get midPoint(){const e=this.datum;return e.midPoint===void 0?(import_ag_charts_core11.Logger.error("BoxPlotGroup.datum.midPoint is undefined"),{x:NaN,y:NaN}):e.midPoint}},import_ag_charts_community27=require("ag-charts-community"),{BaseProperties:BaseProperties2,FillGradientDefaults,FillPatternDefaults,AbstractBarSeriesProperties,SeriesTooltip,TempValidate:TempValidate12,COLOR_STRING:COLOR_STRING2,FUNCTION,LINE_DASH:LINE_DASH2,OBJECT:OBJECT4,POSITIVE_NUMBER:POSITIVE_NUMBER3,RATIO:RATIO4,STRING:STRING2,mergeDefaults,COLOR_GRADIENT,COLOR_PATTERN,OR:OR2}=import_ag_charts_community27._ModuleSupport,BoxPlotSeriesCap=class extends BaseProperties2{constructor(){super(...arguments),this.lengthRatio=.5}};__decorateClass([TempValidate12(RATIO4)],BoxPlotSeriesCap.prototype,"lengthRatio",2);var BoxPlotSeriesWhisker=class extends BaseProperties2{};__decorateClass([TempValidate12(COLOR_STRING2,{optional:!0})],BoxPlotSeriesWhisker.prototype,"stroke",2),__decorateClass([TempValidate12(POSITIVE_NUMBER3)],BoxPlotSeriesWhisker.prototype,"strokeWidth",2),__decorateClass([TempValidate12(RATIO4)],BoxPlotSeriesWhisker.prototype,"strokeOpacity",2),__decorateClass([TempValidate12(LINE_DASH2,{optional:!0})],BoxPlotSeriesWhisker.prototype,"lineDash",2),__decorateClass([TempValidate12(POSITIVE_NUMBER3)],BoxPlotSeriesWhisker.prototype,"lineDashOffset",2);var BoxPlotSeriesProperties=class extends AbstractBarSeriesProperties{constructor(){super(...arguments),this.fill="#c16068",this.fillGradientDefaults=new FillGradientDefaults,this.fillPatternDefaults=new FillPatternDefaults,this.fillOpacity=1,this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.cap=new BoxPlotSeriesCap,this.whisker=new BoxPlotSeriesWhisker,this.tooltip=new SeriesTooltip}toJson(){const{stroke:e,strokeWidth:t,strokeOpacity:i,lineDash:o,lineDashOffset:a}=this,s=super.toJson();return s.whisker=mergeDefaults(s.whisker,{stroke:e,strokeWidth:t,strokeOpacity:i,lineDash:o,lineDashOffset:a}),s}};__decorateClass([TempValidate12(STRING2)],BoxPlotSeriesProperties.prototype,"xKey",2),__decorateClass([TempValidate12(STRING2)],BoxPlotSeriesProperties.prototype,"minKey",2),__decorateClass([TempValidate12(STRING2)],BoxPlotSeriesProperties.prototype,"q1Key",2),__decorateClass([TempValidate12(STRING2)],BoxPlotSeriesProperties.prototype,"medianKey",2),__decorateClass([TempValidate12(STRING2)],BoxPlotSeriesProperties.prototype,"q3Key",2),__decorateClass([TempValidate12(STRING2)],BoxPlotSeriesProperties.prototype,"maxKey",2),__decorateClass([TempValidate12(STRING2,{optional:!0})],BoxPlotSeriesProperties.prototype,"xName",2),__decorateClass([TempValidate12(STRING2,{optional:!0})],BoxPlotSeriesProperties.prototype,"yName",2),__decorateClass([TempValidate12(STRING2,{optional:!0})],BoxPlotSeriesProperties.prototype,"minName",2),__decorateClass([TempValidate12(STRING2,{optional:!0})],BoxPlotSeriesProperties.prototype,"q1Name",2),__decorateClass([TempValidate12(STRING2,{optional:!0})],BoxPlotSeriesProperties.prototype,"medianName",2),__decorateClass([TempValidate12(STRING2,{optional:!0})],BoxPlotSeriesProperties.prototype,"q3Name",2),__decorateClass([TempValidate12(STRING2,{optional:!0})],BoxPlotSeriesProperties.prototype,"maxName",2),__decorateClass([TempValidate12(OR2(COLOR_GRADIENT,COLOR_PATTERN,COLOR_STRING2))],BoxPlotSeriesProperties.prototype,"fill",2),__decorateClass([TempValidate12(OBJECT4)],BoxPlotSeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([TempValidate12(OBJECT4)],BoxPlotSeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([TempValidate12(RATIO4)],BoxPlotSeriesProperties.prototype,"fillOpacity",2),__decorateClass([TempValidate12(COLOR_STRING2)],BoxPlotSeriesProperties.prototype,"stroke",2),__decorateClass([TempValidate12(POSITIVE_NUMBER3)],BoxPlotSeriesProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate12(RATIO4)],BoxPlotSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate12(LINE_DASH2)],BoxPlotSeriesProperties.prototype,"lineDash",2),__decorateClass([TempValidate12(POSITIVE_NUMBER3)],BoxPlotSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([TempValidate12(POSITIVE_NUMBER3)],BoxPlotSeriesProperties.prototype,"cornerRadius",2),__decorateClass([TempValidate12(FUNCTION,{optional:!0})],BoxPlotSeriesProperties.prototype,"itemStyler",2),__decorateClass([TempValidate12(OBJECT4)],BoxPlotSeriesProperties.prototype,"cap",2),__decorateClass([TempValidate12(OBJECT4)],BoxPlotSeriesProperties.prototype,"whisker",2),__decorateClass([TempValidate12(OBJECT4)],BoxPlotSeriesProperties.prototype,"tooltip",2);var{extractDecoratedProperties,fixNumericExtent,keyProperty,mergeDefaults:mergeDefaults2,SeriesNodePickMode,SMALLEST_KEY_INTERVAL,valueProperty,diff,animationValidation,computeBarFocusBounds,createDatumId,ContinuousScale:ContinuousScale2,ChartAxisDirection:ChartAxisDirection6,motion,isGradientFill,getShapeStyle}=import_ag_charts_community28._ModuleSupport,BoxPlotSeriesNodeEvent=class extends import_ag_charts_community28._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.xKey=o.properties.xKey,this.minKey=o.properties.minKey,this.q1Key=o.properties.q1Key,this.medianKey=o.properties.medianKey,this.q3Key=o.properties.q3Key,this.maxKey=o.properties.maxKey}},BoxPlotSeries=class extends import_ag_charts_community28._ModuleSupport.AbstractBarSeries{constructor(e){super({moduleCtx:e,pickModes:[SeriesNodePickMode.NEAREST_NODE,SeriesNodePickMode.EXACT_SHAPE_MATCH],directionKeys:{x:["xKey"],y:["medianKey","q1Key","q3Key","minKey","maxKey"]},directionNames:{x:["xName"],y:["medianName","q1Name","q3Name","minName","maxName"]},categoryKey:"xValue",pathsPerSeries:[],hasHighlightedLabels:!0}),this.properties=new BoxPlotSeriesProperties,this.NodeEvent=BoxPlotSeriesNodeEvent}async processData(e){if(!this.properties.isValid()||!this.visible)return;const{xKey:t,minKey:i,q1Key:o,medianKey:a,q3Key:s,maxKey:r}=this.properties,n=!this.ctx.animationManager.isSkipped(),l=this.getCategoryAxis()?.scale,c=this.getValueAxis()?.scale,{isContinuousX:p,xScaleType:h,yScaleType:u}=this.getScaleInformation({xScale:l,yScale:c}),d=[];n&&this.processedData&&d.push(diff(this.id,this.processedData)),n&&d.push(animationValidation());const{processedData:f}=await this.requestDataModel(e,this.data,{props:[keyProperty(t,h,{id:"xValue"}),valueProperty(i,u,{id:"minValue"}),valueProperty(o,u,{id:"q1Value"}),valueProperty(a,u,{id:"medianValue"}),valueProperty(s,u,{id:"q3Value"}),valueProperty(r,u,{id:"maxValue"}),...p?[SMALLEST_KEY_INTERVAL]:[],...d]});this.smallestDataInterval=f.reduced?.smallestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!(t&&i))return[];if(e!==this.getBarDirection()){const{index:a,def:s}=i.resolveProcessedDataDefById(this,"xValue"),r=t.domain.keys[a];return s.type==="key"&&s.valueType==="category"?r:this.padBandExtent(r)}const o=this.domainForClippedRange(ChartAxisDirection6.Y,["minValue","maxValue"],"xValue",!0);return fixNumericExtent(o)}getSeriesRange(e,t){return this.domainForVisibleRange(ChartAxisDirection6.Y,["maxValue","minValue"],"xValue",t,!0)}createNodeData(){const{visible:e,dataModel:t,processedData:i}=this,o=this.getCategoryAxis(),a=this.getValueAxis();if(!(t&&i&&o&&a))return;const{xKey:s,fill:r,fillOpacity:n,stroke:l,strokeWidth:c,strokeOpacity:p,lineDash:h,lineDashOffset:u,cap:d,whisker:f}=this.properties,g=[],m=t.resolveKeysById(this,"xValue",i),y=t.resolveColumnById(this,"minValue",i),b=t.resolveColumnById(this,"q1Value",i),S=t.resolveColumnById(this,"medianValue",i),D=t.resolveColumnById(this,"q3Value",i),k=t.resolveColumnById(this,"maxValue",i),{barWidth:A,groupIndex:x}=this.updateGroupScale(o),v=ContinuousScale2.is(o.scale)?A*-.5:0,{groupScale:N}=this,O=this.isVertical(),_={itemId:s,nodeData:g,labelData:[],scales:this.calculateScaling(),visible:this.visible};return e&&(i.dataSources.get(this.id)??[]).forEach((I,T)=>{const C=m[T];if(C==null)return;const M=y[T],P=b[T],B=S[T],L=D[T],w=k[T];if([M,P,B,L,w].some(Y=>typeof Y!="number")||M>P||P>B||B>L||L>w)return;const E={xValue:Math.round(o.scale.convert(C)),minValue:Math.round(a.scale.convert(M)),q1Value:Math.round(a.scale.convert(P)),medianValue:Math.round(a.scale.convert(B)),q3Value:Math.round(a.scale.convert(L)),maxValue:Math.round(a.scale.convert(w))};E.xValue+=Math.round(N.convert(String(x)))+v;const G=Math.round(A),F=Math.abs(E.q3Value-E.q1Value),V=E.xValue+G/2,W=Math.min(E.q3Value,E.q1Value)+F/2,K={x:O?V:W,y:O?W:V};let q;O?q={x:K.x-G/2,y:E.minValue,width:G,height:E.maxValue-E.minValue}:q={x:E.minValue,y:K.y-G/2,width:E.maxValue-E.minValue,height:G},g.push({series:this,itemId:C,datum:I,datumIndex:T,xKey:s,bandwidth:G,scaledValues:E,cap:d,whisker:f,fill:r,fillOpacity:n,stroke:l,strokeWidth:c,strokeOpacity:p,lineDash:h,lineDashOffset:u,midPoint:K,focusRect:q})}),_}legendItemSymbol(){const{fill:e,fillOpacity:t,stroke:i,strokeWidth:o,strokeOpacity:a,lineDash:s,lineDashOffset:r,fillGradientDefaults:n,fillPatternDefaults:l}=this.properties;return{marker:getShapeStyle({fill:e,fillOpacity:t,stroke:i,strokeOpacity:a,strokeWidth:o,lineDash:s,lineDashOffset:r},n,l)}}getLegendData(e){const{id:t,ctx:{legendManager:i},visible:o}=this,{xKey:a,yName:s,showInLegend:r,legendItemName:n}=this.properties;return!a||e!=="category"?[]:[{legendType:"category",id:t,itemId:t,seriesId:t,enabled:o&&i.getItemEnabled({seriesId:t,itemId:t}),label:{text:n??s??t},symbol:this.legendItemSymbol(),legendItemName:n,hideInLegend:!r}]}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,properties:a}=this,{xKey:s,xName:r,yName:n,medianKey:l,medianName:c,q1Key:p,q1Name:h,q3Key:u,q3Name:d,minKey:f,minName:g,maxKey:m,maxName:y,legendItemName:b,tooltip:S}=a,D=this.getCategoryAxis(),k=this.getValueAxis();if(!i||!o||!D||!k)return;const A=o.dataSources.get(this.id)?.[e],x=i.resolveKeysById(this,"xValue",o)[e],v=i.resolveColumnById(this,"minValue",o)[e],N=i.resolveColumnById(this,"q1Value",o)[e],O=i.resolveColumnById(this,"medianValue",o)[e],_=i.resolveColumnById(this,"q3Value",o)[e],R=i.resolveColumnById(this,"maxValue",o)[e];if(x==null)return;const I=this.getItemBaseStyle(!1);return Object.assign(I,this.getItemStyleOverrides(String(e),A,I,!1)),S.formatTooltip(this.properties,{heading:D.formatDatum(x),title:b??n,symbol:this.legendItemSymbol(),data:[{label:g,fallbackLabel:f,value:k.formatDatum(v)},{label:h,fallbackLabel:p,value:k.formatDatum(N)},{label:c,fallbackLabel:l,value:k.formatDatum(O)},{label:d,fallbackLabel:u,value:k.formatDatum(_)},{label:y,fallbackLabel:m,value:k.formatDatum(R)}]},{seriesId:t,datum:A,title:n,xKey:s,xName:r,yName:n,medianKey:l,medianName:c,q1Key:p,q1Name:h,q3Key:u,q3Name:d,minKey:f,minName:g,maxKey:m,maxName:y,...I})}animateEmptyUpdateReady({datumSelection:e}){const t=this.isVertical(),{from:i,to:o}=prepareBoxPlotFromTo(t);motion.resetMotion([e],resetBoxPlotSelectionsScalingCenterFn(t)),motion.staticFromToMotion(this.id,"datums",this.ctx.animationManager,[e],i,o,{phase:"initial"})}isLabelEnabled(){return!1}updateDatumSelection(e){const t=e.nodeData??[];return e.datumSelection.update(t)}getItemBaseStyle(e){const{properties:t}=this,{cornerRadius:i,cap:o,whisker:a,fillGradientDefaults:s,fillPatternDefaults:r}=t,n=e?t.highlightStyle.item:void 0,l=this.getStrokeWidth(t.strokeWidth);return getShapeStyle({fill:n?.fill??t.fill,fillOpacity:n?.fillOpacity??t.fillOpacity,stroke:n?.stroke??t.stroke,strokeWidth:n?.strokeWidth??l,strokeOpacity:n?.strokeOpacity??t.strokeOpacity,lineDash:n?.lineDash??t.lineDash??[],lineDashOffset:n?.lineDashOffset??t.lineDashOffset,cornerRadius:i,cap:o,whisker:a},s,r)}getItemStyleOverrides(e,t,i,o){const{id:a,properties:s}=this,{xKey:r,minKey:n,q1Key:l,medianKey:c,q3Key:p,maxKey:h,fillGradientDefaults:u,fillPatternDefaults:d,itemStyler:f}=s;if(f==null)return;const g=this.cachedDatumCallback(createDatumId(e,o?"highlight":"node"),()=>this.callWithContext(f,{seriesId:a,datum:t,xKey:r,minKey:n,q1Key:l,medianKey:c,q3Key:p,maxKey:h,highlighted:o,...i}));return getShapeStyle(g,u,d)}updateDatumNodes({datumSelection:e,isHighlight:t}){const i=this.isVertical(),o=this.getValueAxis()?.isReversed(),{highlightStyle:a}=this.properties;e.each((s,r)=>{let n=this.getFormattedStyles(r,t?"highlight":"node");t&&(n=mergeDefaults2(a.item,n));const{stroke:l,strokeWidth:c,strokeOpacity:p,lineDash:h,lineDashOffset:u}=n;n.whisker=mergeDefaults2(n.whisker,{stroke:l,strokeWidth:c,strokeOpacity:p,lineDash:h,lineDashOffset:u});const d=this.getShapeFillBBox();s.updateDatumStyles(r,n,i,o,d)})}updateLabelNodes(){}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t)}nodeFactory(){return new BoxPlotGroup}getFormattedStyles(e,t){const{id:i,properties:o}=this,{xKey:a,minKey:s,q1Key:r,medianKey:n,q3Key:l,maxKey:c,itemStyler:p,cornerRadius:h,fillGradientDefaults:u,fillPatternDefaults:d}=o,{datum:f,stroke:g,strokeWidth:m,strokeOpacity:y,lineDash:b,lineDashOffset:S,cap:D,whisker:k}=e;let A,x=1;isGradientFill(e.fill)?A=e.fill:(A=e.fill,x=o.fillOpacity);let v=getShapeStyle({fill:A,fillOpacity:x,stroke:g,strokeWidth:m,strokeOpacity:y,lineDash:b,lineDashOffset:S,cornerRadius:h,cap:extractDecoratedProperties(D),whisker:extractDecoratedProperties(k)},u,d);if(p){const N=this.cachedDatumCallback(createDatumId(f.index,t),()=>this.callWithContext(p,{datum:f,seriesId:i,highlighted:t==="highlight",...v,xKey:a,minKey:s,q1Key:r,medianKey:n,q3Key:l,maxKey:c}));N&&(v=getShapeStyle(mergeDefaults2(N,v),u,d))}return v}computeFocusBounds({datumIndex:e}){return computeBarFocusBounds(this,this.contextNodeData?.nodeData[e].focusRect)}};BoxPlotSeries.className="BoxPlotSeries",BoxPlotSeries.type="box-plot";var import_ag_charts_community29=require("ag-charts-community"),import_ag_charts_core12=require("ag-charts-core"),{commonSeriesOptionsDefs,tooltipOptionsDefs}=import_ag_charts_community29._ModuleSupport,boxPlotSeriesOptionsDef={type:(0,import_ag_charts_core12.required)((0,import_ag_charts_core12.constant)("box-plot")),xKey:(0,import_ag_charts_core12.required)(import_ag_charts_core12.string),minKey:(0,import_ag_charts_core12.required)(import_ag_charts_core12.string),q1Key:(0,import_ag_charts_core12.required)(import_ag_charts_core12.string),medianKey:(0,import_ag_charts_core12.required)(import_ag_charts_core12.string),q3Key:(0,import_ag_charts_core12.required)(import_ag_charts_core12.string),maxKey:(0,import_ag_charts_core12.required)(import_ag_charts_core12.string),xName:import_ag_charts_core12.string,yName:import_ag_charts_core12.string,minName:import_ag_charts_core12.string,q1Name:import_ag_charts_core12.string,medianName:import_ag_charts_core12.string,q3Name:import_ag_charts_core12.string,maxName:import_ag_charts_core12.string,direction:(0,import_ag_charts_core12.union)("horizontal","vertical"),grouped:import_ag_charts_core12.boolean,legendItemName:import_ag_charts_core12.string,showInMiniChart:import_ag_charts_core12.boolean,cornerRadius:import_ag_charts_core12.positiveNumber,itemStyler:import_ag_charts_core12.callback,whisker:{...import_ag_charts_core12.strokeOptionsDef,...import_ag_charts_core12.lineDashOptionsDef},cap:{lengthRatio:import_ag_charts_core12.ratio},tooltip:tooltipOptionsDefs,...commonSeriesOptionsDefs,...import_ag_charts_core12.fillOptionsDef,...import_ag_charts_core12.strokeOptionsDef,...import_ag_charts_core12.lineDashOptionsDef},import_ag_charts_community30=require("ag-charts-community"),{CARTESIAN_AXIS_TYPE}=import_ag_charts_community30._ModuleSupport.ThemeConstants,BOX_PLOT_SERIES_THEME={series:{direction:"vertical",fill:{$if:[{$or:[{$isGradient:[{$palette:"fill"}]},{$isPattern:[{$palette:"fill"}]}]},{$palette:"fill"},{$mix:[import_ag_charts_community30._ModuleSupport.SAFE_FILL_OPERATION,{$ref:"backgroundColor"},.7]}]},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community30._ModuleSupport.FILL_PATTERN_DEFAULTS,strokeWidth:2},axes:{[CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{snap:!1}},[CARTESIAN_AXIS_TYPE.CATEGORY]:{groupPaddingInner:.2,crosshair:{enabled:!1,snap:!1}}}},BoxPlotModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"box-plot",moduleFactory:e=>new BoxPlotSeries(e),tooltipDefaults:{range:"exact"},defaultAxes:import_ag_charts_community31._ModuleSupport.DIRECTION_SWAP_AXES,themeTemplate:BOX_PLOT_SERIES_THEME,groupable:!0},BoxPlotSeriesModule={type:"series",name:"box-plot",chartType:"cartesian",enterprise:!0,options:boxPlotSeriesOptionsDef,create:e=>new BoxPlotSeries(e)},import_ag_charts_community41=require("ag-charts-community"),import_ag_charts_community38=require("ag-charts-community"),import_ag_charts_community33=require("ag-charts-community"),import_ag_charts_core13=require("ag-charts-core"),import_ag_charts_community32=require("ag-charts-community"),{findMinMax:findMinMax2}=import_ag_charts_community32._ModuleSupport,X_MIN=0,X_MAX=1,Y_MIN=2,Y_MAX=3,SPAN=4;function maxRangeFittingPoints(e,t=1){let i=Math.ceil(Math.log2(e.length/t))-1;return i=Math.min(Math.max(i,0),16),2**i|0}function aggregationDomain(e){return findMinMax2(e.map(t=>Number(t)))}function xRatioForDatumIndex(e,t,i){return(e.valueOf()-t)/(i-t)}function aggregationIndexForXRatio(e,t){return Math.min(Math.floor(e*t),t-1)*SPAN|0}function createAggregationIndices(e,t,i,o,a,s){const r=new Int32Array(s*SPAN).fill(-1),n=new Float64Array(s*SPAN).fill(NaN);for(let l=0;l<e.length;l+=1){const c=e[l],p=t[l],h=i[l];if(c==null||p==null||h==null)continue;const u=xRatioForDatumIndex(c,o,a),d=p.valueOf(),f=h.valueOf(),g=aggregationIndexForXRatio(u,s),m=r[g+X_MIN]===-1;(m||u<n[g+X_MIN])&&(r[g+X_MIN]=l,n[g+X_MIN]=u),(m||u>n[g+X_MAX])&&(r[g+X_MAX]=l,n[g+X_MAX]=u),(m||f<n[g+Y_MIN])&&(r[g+Y_MIN]=l,n[g+Y_MIN]=f),(m||d>n[g+Y_MAX])&&(r[g+Y_MAX]=l,n[g+Y_MAX]=d)}return{indexData:r,valueData:n}}function compactAggregationIndices(e,t,i,{inPlace:o=!1}={}){const a=i/2|0,s=o?e:new Int32Array(a*SPAN),r=o?t:new Float64Array(a*SPAN);for(let n=0;n<a;n+=1){const l=n*SPAN|0,c=l*2|0,p=c+SPAN|0,h=e[p+X_MIN]===-1,u=h||t[c+X_MIN]<t[p+X_MIN]?c:p;s[l+X_MIN]=e[u+X_MIN],r[l+X_MIN]=t[u+X_MIN];const d=h||t[c+X_MAX]>t[p+X_MAX]?c:p;s[l+X_MAX]=e[d+X_MAX],r[l+X_MAX]=t[d+X_MAX];const f=h||t[c+Y_MIN]<t[p+Y_MIN]?c:p;s[l+Y_MIN]=e[f+Y_MIN],r[l+Y_MIN]=t[f+Y_MIN];const g=h||t[c+Y_MAX]>t[p+Y_MAX]?c:p;s[l+Y_MAX]=e[g+Y_MAX],r[l+Y_MAX]=t[g+Y_MAX]}return{maxRange:a,indexData:s,valueData:r}}var AGGREGATION_THRESHOLD=1e3,OPEN=X_MIN,HIGH=Y_MAX,LOW=Y_MIN,CLOSE=X_MAX;function aggregateOhlcData(e,t,i,o){if(e.length<AGGREGATION_THRESHOLD)return;const[a,s]=aggregationDomain(o);let r=maxRangeFittingPoints(e),{indexData:n,valueData:l}=createAggregationIndices(e,t,i,a,s,r);const c=[{maxRange:r,indexData:n}];for(;r>64;)({indexData:n,valueData:l,maxRange:r}=compactAggregationIndices(n,l,r)),c.push({maxRange:r,indexData:n});return c.reverse(),c}var{fixNumericExtent:fixNumericExtent2,keyProperty:keyProperty2,createDatumId:createDatumId2,SeriesNodePickMode:SeriesNodePickMode2,ChartAxisDirection:ChartAxisDirection7,SMALLEST_KEY_INTERVAL:SMALLEST_KEY_INTERVAL2,valueProperty:valueProperty2,diff:diff2,animationValidation:animationValidation2,computeBarFocusBounds:computeBarFocusBounds2,visibleRangeIndices,ContinuousScale:ContinuousScale3,OrdinalTimeScale:OrdinalTimeScale2,BandScale,getShapeStyle:getShapeStyle2}=import_ag_charts_community33._ModuleSupport,OhlcSeriesNodeEvent=class extends import_ag_charts_community33._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.xKey=o.properties.xKey,this.openKey=o.properties.openKey,this.closeKey=o.properties.closeKey,this.highKey=o.properties.highKey,this.lowKey=o.properties.lowKey}},OhlcSeriesBase=class extends import_ag_charts_community33._ModuleSupport.AbstractBarSeries{constructor(e){super({moduleCtx:e,pickModes:[SeriesNodePickMode2.AXIS_ALIGNED,SeriesNodePickMode2.EXACT_SHAPE_MATCH],directionKeys:{x:["xKey"],y:["lowKey","highKey","openKey","closeKey"]},directionNames:{x:["xName"],y:["lowName","highName","openName","closeName"]},categoryKey:"xValue",pathsPerSeries:[]}),this.NodeEvent=OhlcSeriesNodeEvent,this.dataAggregationFilters=void 0}async processData(e){if(!this.properties.isValid()||!this.visible)return;const{xKey:t,openKey:i,closeKey:o,highKey:a,lowKey:s}=this.properties,r=!this.ctx.animationManager.isSkipped(),n=this.getCategoryAxis()?.scale,l=this.getValueAxis()?.scale,{isContinuousX:c,xScaleType:p,yScaleType:h}=this.getScaleInformation({xScale:n,yScale:l}),u=[];r&&(this.processedData&&u.push(diff2(this.id,this.processedData)),u.push(animationValidation2())),i&&u.push(valueProperty2(i,h,{id:"openValue",invalidValue:void 0,missingValue:void 0}));const{dataModel:d,processedData:f}=await this.requestDataModel(e,this.data,{props:[keyProperty2(t,p,{id:"xValue"}),valueProperty2(o,h,{id:"closeValue"}),valueProperty2(a,h,{id:"highValue"}),valueProperty2(s,h,{id:"lowValue"}),...c?[SMALLEST_KEY_INTERVAL2]:[],...u]});this.smallestDataInterval=f.reduced?.smallestKeyInterval,this.dataAggregationFilters=this.aggregateData(d,f),this.animationState.transition("updateData")}aggregateData(e,t){const i=this.axes[ChartAxisDirection7.X];if(i==null||!(ContinuousScale3.is(i.scale)||OrdinalTimeScale2.is(i.scale)))return;const o=e.resolveKeysById(this,"xValue",t),a=e.resolveColumnById(this,"highValue",t),s=e.resolveColumnById(this,"lowValue",t),{index:r}=e.resolveProcessedDataDefById(this,"xValue"),n=t.domain.keys[r];return aggregateOhlcData(o,a,s,n)}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!(t&&i))return[];if(e!==this.getBarDirection()){const{index:a,def:s}=i.resolveProcessedDataDefById(this,"xValue"),r=t.domain.keys[a];return s.type==="key"&&s.valueType==="category"?r:this.padBandExtent(r)}const o=this.domainForClippedRange(ChartAxisDirection7.Y,["highValue","lowValue"],"xValue",!0);return fixNumericExtent2(o)}getSeriesRange(e,t){return this.domainForVisibleRange(ChartAxisDirection7.Y,["highValue","lowValue"],"xValue",t,!0)}getVisibleItems(e,t,i){return this.countVisibleItems("xValue",["highValue","lowValue"],e,t,i)}createNodeData(){const{visible:e,dataModel:t,processedData:i}=this,o=this.getCategoryAxis(),a=this.getValueAxis();if(!(t&&i&&o&&a))return;const s=[],{xKey:r,highKey:n,lowKey:l}=this.properties,c=i.dataSources.get(this.id)??[],p=t.resolveKeysById(this,"xValue",i),h=t.resolveColumnById(this,"openValue",i),u=t.resolveColumnById(this,"closeValue",i),d=t.resolveColumnById(this,"highValue",i),f=t.resolveColumnById(this,"lowValue",i),{groupScale:g}=this,{barWidth:m,groupIndex:y}=this.updateGroupScale(o),b=g.convert(String(y)),S=m>=1?m:g.rawBandwidth,D=BandScale.is(o.scale),k={itemId:r,nodeData:s,labelData:[],scales:this.calculateScaling(),visible:this.visible};if(!e)return k;const A=(T,C,M,P,B,L,w,E)=>{const G=c[T],F=D?w/2:0,V=o.scale.convert(C)+b+F,W=a.scale.convert(M),K=a.scale.convert(P),q=a.scale.convert(B),Y=a.scale.convert(L),X=P>M,U=X?"up":"down",H=Math.min(q,Y),$=Math.max(q,Y)-H,j={x:V,y:H+$/2};s.push({series:this,itemId:U,datum:G,datumIndex:T,xKey:r,xValue:C,openValue:M,closeValue:P,highValue:B,lowValue:L,midPoint:j,aggregatedValue:P,isRising:X,centerX:V,width:w,y:H,height:$,yOpen:W,yClose:K,crisp:E})},{dataAggregationFilters:x}=this,v=o.scale,[N,O]=v.range,_=O-N,R=T=>v.convert(p[T])+b,I=x?.find(T=>T.maxRange>_);if(I==null){let[T,C]=visibleRangeIndices(c.length,o.range,M=>{const P=R(M);return[P,P+S]});i.input.count<1e3&&(T=0,C=i.input.count);for(let M=T;M<C;M+=1){const P=p[M];if(P==null)continue;const B=h[M],L=u[M],w=d[M],E=f[M],G=E!=null&&E<=B&&E<=L,F=w!=null&&w>=B&&w>=L;if(!G){import_ag_charts_core13.Logger.warnOnce(`invalid low value for key [${l}] in data element, low value cannot be higher than datum open or close values`);continue}if(!F){import_ag_charts_core13.Logger.warnOnce(`invalid high value for key [${n}] in data element, high value cannot be lower than datum open or close values.`);continue}A(M,P,B,L,w,E,S,!0)}}else{const{maxRange:T,indexData:C}=I,[M,P]=visibleRangeIndices(T,o.range,B=>{const L=B*SPAN,w=C[L+OPEN],E=C[L+CLOSE];if(w!==-1)return[R(w),R(E)+S]});for(let B=M;B<P;B+=1){const L=B*SPAN,w=C[L+OPEN],E=C[L+CLOSE],G=C[L+HIGH],F=C[L+LOW];if(w===-1)continue;const V=(w+E)/2|0,W=p[V];if(W==null)continue;const K=h[w],q=u[E],Y=d[G],X=f[F],U=Math.abs(R(E)-R(w))+S;A(V,W,K,q,Y,X,U,!1)}}return k}isVertical(){return!0}isLabelEnabled(){return!1}updateDatumSelection(e){const t=e.nodeData??[];return e.datumSelection.update(t)}updateLabelNodes(e){}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t)}getItemBaseStyle(e,t){const{properties:i}=this,o=i.item[e],a=t?i.highlightStyle.item:void 0,s={fill:a?.fill??o.fill,fillOpacity:a?.fillOpacity??o.fillOpacity,stroke:a?.stroke??o.stroke,strokeWidth:a?.strokeWidth??o.strokeWidth,strokeOpacity:a?.strokeOpacity??o.strokeOpacity,lineDash:a?.lineDash??o.lineDash,lineDashOffset:a?.lineDashOffset??o.lineDashOffset};return o.fillGradientDefaults&&o.fillPatternDefaults?getShapeStyle2(s,o.fillGradientDefaults,o.fillPatternDefaults):s}getItemStyleOverrides(e,t,i,o,a){const{id:s,properties:r}=this,n=r.item[i],{itemStyler:l}=r;if(l==null)return;const{xKey:c,openKey:p,closeKey:h,highKey:u,lowKey:d}=r,f=this.cachedDatumCallback(createDatumId2(e,a?"highlight":"node"),()=>this.callWithContext(l,{seriesId:s,datum:t,itemId:i,xKey:c,openKey:p,closeKey:h,highKey:u,lowKey:d,highlighted:a,...o}));return n.fillGradientDefaults&&n.fillPatternDefaults?getShapeStyle2(f,n.fillGradientDefaults,n.fillPatternDefaults):f}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,properties:a}=this,{xKey:s,xName:r,yName:n,openKey:l,openName:c,highKey:p,highName:h,lowKey:u,lowName:d,closeKey:f,closeName:g,legendItemName:m,tooltip:y}=a,b=this.getCategoryAxis(),S=this.getValueAxis();if(!i||!o||!b||!S)return;const D=o.dataSources.get(this.id)?.[e],k=i.resolveKeysById(this,"xValue",o)[e],A=i.resolveColumnById(this,"openValue",o)[e],x=i.resolveColumnById(this,"highValue",o)[e],v=i.resolveColumnById(this,"lowValue",o)[e],N=i.resolveColumnById(this,"closeValue",o)[e];if(k==null)return;const O=N>=A?"up":"down",_=this.properties.item[O],R=this.getItemBaseStyle(O,!1);Object.assign(R,this.getItemStyleOverrides(String(e),D,O,R,!1));let I={fill:_.fill??_.stroke,fillOpacity:_.fillOpacity??_.strokeOpacity??1,stroke:_.stroke,strokeWidth:_.strokeWidth??1,strokeOpacity:_.strokeOpacity??1,lineDash:_.lineDash??[0],lineDashOffset:_.lineDashOffset??0};return _.fillGradientDefaults&&_.fillPatternDefaults&&(I=getShapeStyle2(I,_.fillGradientDefaults,_.fillPatternDefaults)),y.formatTooltip(this.properties,{heading:b.formatDatum(k),title:m,symbol:{marker:I},data:[{label:c,fallbackLabel:l,value:S.formatDatum(A)},{label:h,fallbackLabel:p,value:S.formatDatum(x)},{label:d,fallbackLabel:u,value:S.formatDatum(v)},{label:g,fallbackLabel:f,value:S.formatDatum(N)}]},{seriesId:t,datum:D,title:n,itemId:O,xKey:s,xName:r,yName:n,openKey:l,openName:c,highKey:p,highName:h,lowKey:u,lowName:d,closeKey:f,closeName:g,...R})}getDatumId(e){return createDatumId2(e.xValue)}computeFocusBounds(e){const t=this.getNodeData()?.at(e.datumIndex);if(t==null)return;const{centerX:i,y:o,width:a,height:s}=t,r={x:i-a/2,y:o,width:a,height:s};return computeBarFocusBounds2(this,r)}},import_ag_charts_community35=require("ag-charts-community"),import_ag_charts_community34=require("ag-charts-community"),{Path:Path5,ScenePathChangeDetection,BBox:BBox3}=import_ag_charts_community34._ModuleSupport,OhlcBaseNode=class extends Path5{constructor(){super(...arguments),this.centerX=0,this.y=0,this.width=0,this.height=0,this.yOpen=0,this.yClose=0,this.crisp=!1,this.strokeAlignment=0}computeBBox(){const{centerX:e,y:t,width:i,height:o}=this;return new BBox3(e-i/2,t,i,o)}isPointInPath(e,t){return this.getBBox().containsPoint(e,t)}distanceSquared(e,t){return this.getBBox().distanceSquared(e,t)}get midPoint(){return{x:this.centerX,y:this.y+this.height/2}}alignedCoordinates(){const{y:e,width:t,height:i,crisp:o,strokeAlignment:a}=this;let{centerX:s,yOpen:r,yClose:n}=this,l=s-t/2,c=s+t/2,p=e,h=e+i;if(o&&t>1){s=this.align(s),r=this.align(r),n=this.align(n);const d=this.align(t/2);l=s-d,c=s+d,p=this.align(e),h=p+this.align(p,i)}const u=(p+h)/2;return s+=a,l+=a,c+=a,p-=a,h+=a,r+=r<u?a:-a,n+=n<u?a:-a,{centerX:s,x0:l,x1:c,y0:p,y1:h,yOpen:r,yClose:n}}executeStroke(e,t){const{width:i,strokeWidth:o}=this;i<o&&(e.lineWidth=i),super.executeStroke(e,t)}};__decorateClass([ScenePathChangeDetection()],OhlcBaseNode.prototype,"centerX",2),__decorateClass([ScenePathChangeDetection()],OhlcBaseNode.prototype,"y",2),__decorateClass([ScenePathChangeDetection()],OhlcBaseNode.prototype,"width",2),__decorateClass([ScenePathChangeDetection()],OhlcBaseNode.prototype,"height",2),__decorateClass([ScenePathChangeDetection()],OhlcBaseNode.prototype,"yOpen",2),__decorateClass([ScenePathChangeDetection()],OhlcBaseNode.prototype,"yClose",2),__decorateClass([ScenePathChangeDetection()],OhlcBaseNode.prototype,"crisp",2),__decorateClass([ScenePathChangeDetection()],OhlcBaseNode.prototype,"strokeAlignment",2);var OhlcNode=class extends OhlcBaseNode{updatePath(){const{path:e}=this,{centerX:t,x0:i,x1:o,y0:a,y1:s,yOpen:r,yClose:n}=this.alignedCoordinates();e.clear(),e.moveTo(t,a),e.lineTo(t,s),Math.abs(o-i)>1&&(e.moveTo(i,r),e.lineTo(t,r),e.moveTo(t,n),e.lineTo(o,n))}},{ScenePathChangeDetection:ScenePathChangeDetection2,ExtendedPath2D,BBox:BBox4}=import_ag_charts_community35._ModuleSupport,CandlestickNode=class extends OhlcBaseNode{constructor(){super(...arguments),this.wickPath=new ExtendedPath2D,this.wickStroke=void 0,this.wickStrokeWidth=void 0,this.wickStrokeOpacity=void 0}computeDefaultGradientFillBBox(){const{width:e,centerX:t,yOpen:i,yClose:o}=this,a=Math.min(i,o),r=Math.max(i,o)-a,n=t-e/2,l=t+e/2;return new BBox4(n,a,l-n,r)}updatePath(){const{path:e,stroke:t,strokeWidth:i,strokeOpacity:o,lineDash:a,lineDashOffset:s,wickStroke:r,wickStrokeWidth:n,wickStrokeOpacity:l,wickLineDash:c,wickLineDashOffset:p,strokeAlignment:h}=this,{centerX:u,x0:d,x1:f,y0:g,y1:m,yOpen:y,yClose:b}=this.alignedCoordinates();this.path.clear(),this.wickPath.clear();const D=r!=null&&r!==t||n!=null&&n!==i||l!=null&&l!==o||c!=null&&c!==a||p!=null&&p!==s?this.wickPath:e;if(Math.abs(f-d)<=3){D.moveTo(u,g),D.lineTo(u,m);return}const k=Math.min(y,b),A=Math.max(y,b);D.moveTo(u,g),D.lineTo(u,k+i/2),D.moveTo(u,m),D.lineTo(u,A-i/2);const x=h+i/2,v=A-k-2*x;if(v>0)e.rect(d+x,k+x,f-d-2*x,v);else{const N=(k+A)/2;e.moveTo(d,N),e.lineTo(f,N)}}drawPath(e){super.drawPath(e);const{wickPath:t}=this;if(t.isEmpty())return;const{stroke:i,strokeWidth:o,strokeOpacity:a,lineDash:s,lineDashOffset:r,wickStroke:n=i,wickStrokeWidth:l=o,wickStrokeOpacity:c=a,wickLineDash:p=s,wickLineDashOffset:h=r}=this;l!==0&&(e.globalAlpha*=c,typeof n=="string"&&(e.strokeStyle=n),e.lineWidth=l,p!=null&&e.setLineDash(p),e.lineDashOffset=h,e.stroke(t.getPath2D()))}};__decorateClass([ScenePathChangeDetection2()],CandlestickNode.prototype,"wickStroke",2),__decorateClass([ScenePathChangeDetection2()],CandlestickNode.prototype,"wickStrokeWidth",2),__decorateClass([ScenePathChangeDetection2()],CandlestickNode.prototype,"wickStrokeOpacity",2),__decorateClass([ScenePathChangeDetection2()],CandlestickNode.prototype,"wickLineDash",2),__decorateClass([ScenePathChangeDetection2()],CandlestickNode.prototype,"wickLineDashOffset",2);var import_ag_charts_community37=require("ag-charts-community"),import_ag_charts_community36=require("ag-charts-community"),{BaseProperties:BaseProperties3,TempValidate:TempValidate13,AbstractBarSeriesProperties:AbstractBarSeriesProperties2,SeriesTooltip:SeriesTooltip2,STRING:STRING3,COLOR_STRING:COLOR_STRING3,FUNCTION:FUNCTION2,LINE_DASH:LINE_DASH3,OBJECT:OBJECT5,POSITIVE_NUMBER:POSITIVE_NUMBER4,RATIO:RATIO5}=import_ag_charts_community36._ModuleSupport,OhlcSeriesItem=class extends BaseProperties3{constructor(){super(...arguments),this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([TempValidate13(COLOR_STRING3)],OhlcSeriesItem.prototype,"stroke",2),__decorateClass([TempValidate13(POSITIVE_NUMBER4)],OhlcSeriesItem.prototype,"strokeWidth",2),__decorateClass([TempValidate13(RATIO5)],OhlcSeriesItem.prototype,"strokeOpacity",2),__decorateClass([TempValidate13(LINE_DASH3)],OhlcSeriesItem.prototype,"lineDash",2),__decorateClass([TempValidate13(POSITIVE_NUMBER4)],OhlcSeriesItem.prototype,"lineDashOffset",2);var OhlcSeriesItems=class extends BaseProperties3{constructor(){super(...arguments),this.up=new OhlcSeriesItem,this.down=new OhlcSeriesItem}};__decorateClass([TempValidate13(OBJECT5)],OhlcSeriesItems.prototype,"up",2),__decorateClass([TempValidate13(OBJECT5)],OhlcSeriesItems.prototype,"down",2);var OhlcSeriesBaseProperties=class extends AbstractBarSeriesProperties2{};__decorateClass([TempValidate13(STRING3)],OhlcSeriesBaseProperties.prototype,"xKey",2),__decorateClass([TempValidate13(STRING3)],OhlcSeriesBaseProperties.prototype,"openKey",2),__decorateClass([TempValidate13(STRING3)],OhlcSeriesBaseProperties.prototype,"closeKey",2),__decorateClass([TempValidate13(STRING3)],OhlcSeriesBaseProperties.prototype,"highKey",2),__decorateClass([TempValidate13(STRING3)],OhlcSeriesBaseProperties.prototype,"lowKey",2),__decorateClass([TempValidate13(STRING3,{optional:!0})],OhlcSeriesBaseProperties.prototype,"xName",2),__decorateClass([TempValidate13(STRING3,{optional:!0})],OhlcSeriesBaseProperties.prototype,"yName",2),__decorateClass([TempValidate13(STRING3,{optional:!0})],OhlcSeriesBaseProperties.prototype,"openName",2),__decorateClass([TempValidate13(STRING3,{optional:!0})],OhlcSeriesBaseProperties.prototype,"closeName",2),__decorateClass([TempValidate13(STRING3,{optional:!0})],OhlcSeriesBaseProperties.prototype,"highName",2),__decorateClass([TempValidate13(STRING3,{optional:!0})],OhlcSeriesBaseProperties.prototype,"lowName",2);var OhlcSeriesProperties=class extends OhlcSeriesBaseProperties{constructor(){super(...arguments),this.tooltip=new SeriesTooltip2,this.item=new OhlcSeriesItems}};__decorateClass([TempValidate13(OBJECT5)],OhlcSeriesProperties.prototype,"tooltip",2),__decorateClass([TempValidate13(OBJECT5)],OhlcSeriesProperties.prototype,"item",2),__decorateClass([TempValidate13(FUNCTION2,{optional:!0})],OhlcSeriesProperties.prototype,"itemStyler",2);var{FillGradientDefaults:FillGradientDefaults2,FillPatternDefaults:FillPatternDefaults2,BaseProperties:BaseProperties4,SeriesTooltip:SeriesTooltip3,TempValidate:TempValidate14,COLOR_STRING:COLOR_STRING4,FUNCTION:FUNCTION3,LINE_DASH:LINE_DASH4,OBJECT:OBJECT6,POSITIVE_NUMBER:POSITIVE_NUMBER5,RATIO:RATIO6,COLOR_GRADIENT:COLOR_GRADIENT2,COLOR_PATTERN:COLOR_PATTERN2,OR:OR3}=import_ag_charts_community37._ModuleSupport,CandlestickSeriesWick=class extends BaseProperties4{};__decorateClass([TempValidate14(COLOR_STRING4,{optional:!0})],CandlestickSeriesWick.prototype,"stroke",2),__decorateClass([TempValidate14(POSITIVE_NUMBER5)],CandlestickSeriesWick.prototype,"strokeWidth",2),__decorateClass([TempValidate14(RATIO6)],CandlestickSeriesWick.prototype,"strokeOpacity",2),__decorateClass([TempValidate14(LINE_DASH4,{optional:!0})],CandlestickSeriesWick.prototype,"lineDash",2),__decorateClass([TempValidate14(POSITIVE_NUMBER5)],CandlestickSeriesWick.prototype,"lineDashOffset",2);var CandlestickSeriesItem=class extends BaseProperties4{constructor(){super(...arguments),this.fill="#c16068",this.fillGradientDefaults=new FillGradientDefaults2,this.fillPatternDefaults=new FillPatternDefaults2,this.fillOpacity=1,this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.wick=new CandlestickSeriesWick}};__decorateClass([TempValidate14(OR3(COLOR_GRADIENT2,COLOR_PATTERN2,COLOR_STRING4))],CandlestickSeriesItem.prototype,"fill",2),__decorateClass([TempValidate14(OBJECT6)],CandlestickSeriesItem.prototype,"fillGradientDefaults",2),__decorateClass([TempValidate14(OBJECT6)],CandlestickSeriesItem.prototype,"fillPatternDefaults",2),__decorateClass([TempValidate14(RATIO6)],CandlestickSeriesItem.prototype,"fillOpacity",2),__decorateClass([TempValidate14(COLOR_STRING4)],CandlestickSeriesItem.prototype,"stroke",2),__decorateClass([TempValidate14(POSITIVE_NUMBER5)],CandlestickSeriesItem.prototype,"strokeWidth",2),__decorateClass([TempValidate14(RATIO6)],CandlestickSeriesItem.prototype,"strokeOpacity",2),__decorateClass([TempValidate14(LINE_DASH4)],CandlestickSeriesItem.prototype,"lineDash",2),__decorateClass([TempValidate14(POSITIVE_NUMBER5)],CandlestickSeriesItem.prototype,"lineDashOffset",2),__decorateClass([TempValidate14(POSITIVE_NUMBER5)],CandlestickSeriesItem.prototype,"cornerRadius",2),__decorateClass([TempValidate14(OBJECT6)],CandlestickSeriesItem.prototype,"wick",2);var CandlestickSeriesItems=class extends BaseProperties4{constructor(){super(...arguments),this.up=new CandlestickSeriesItem,this.down=new CandlestickSeriesItem}};__decorateClass([TempValidate14(OBJECT6)],CandlestickSeriesItems.prototype,"up",2),__decorateClass([TempValidate14(OBJECT6)],CandlestickSeriesItems.prototype,"down",2);var CandlestickSeriesProperties=class extends OhlcSeriesBaseProperties{constructor(){super(...arguments),this.item=new CandlestickSeriesItems,this.tooltip=new SeriesTooltip3}};__decorateClass([TempValidate14(OBJECT6)],CandlestickSeriesProperties.prototype,"item",2),__decorateClass([TempValidate14(OBJECT6)],CandlestickSeriesProperties.prototype,"tooltip",2),__decorateClass([TempValidate14(FUNCTION3,{optional:!0})],CandlestickSeriesProperties.prototype,"itemStyler",2);var{createDatumId:createDatumId3,isGradientFill:isGradientFill2,isPatternFill,applyShapeFillBBox:applyShapeFillBBox2,getShapeFill,getShapeStyle:getShapeStyle3}=import_ag_charts_community38._ModuleSupport,CandlestickSeries=class extends OhlcSeriesBase{constructor(){super(...arguments),this.properties=new CandlestickSeriesProperties}nodeFactory(){return new CandlestickNode}updateDatumNodes({datumSelection:e,isHighlight:t}){const{id:i,properties:o}=this,{xKey:a,highKey:s,lowKey:r,openKey:n,closeKey:l,item:c,itemStyler:p}=o,{up:h,down:u}=c,d=getShapeStyle3({fill:h.fill,fillOpacity:h.fillOpacity,stroke:h.stroke,strokeWidth:h.strokeWidth,strokeOpacity:h.strokeOpacity,lineDash:h.lineDash,lineDashOffset:h.lineDashOffset},h.fillGradientDefaults,h.fillPatternDefaults),f=getShapeStyle3({fill:u.fill,fillOpacity:u.fillOpacity,stroke:u.stroke,strokeWidth:u.strokeWidth,strokeOpacity:u.strokeOpacity,lineDash:u.lineDash,lineDashOffset:u.lineDashOffset},u.fillGradientDefaults,u.fillPatternDefaults),g=t?o.highlightStyle.item:void 0;e.each((m,y)=>{const{isRising:b,centerX:S,width:D,y:k,height:A,yOpen:x,yClose:v,crisp:N}=y;let O;if(p!=null){const{fill:C,fillOpacity:M,stroke:P,strokeWidth:B,strokeOpacity:L,lineDash:w,lineDashOffset:E}=b?d:f;O=getShapeStyle3(this.cachedDatumCallback(createDatumId3(this.getDatumId(y),t?"highlight":"node"),()=>this.callWithContext(p,{seriesId:i,itemId:y.itemId,xKey:a,highKey:s,lowKey:r,openKey:n,closeKey:l,datum:y.datum,fill:C,fillOpacity:M,strokeOpacity:L,stroke:P,strokeWidth:B,lineDash:w,lineDashOffset:E,highlighted:t})),b?h.fillGradientDefaults:u.fillGradientDefaults,b?h.fillPatternDefaults:u.fillPatternDefaults)}m.centerX=S,m.width=D,m.y=k,m.height=A,m.yOpen=x,m.yClose=v,m.crisp=N;const _=b?d:f,R=b?h.wick:u.wick,I=g?.fill??O?.fill??_.fill;applyShapeFillBBox2(m,I,this.getShapeFillBBox()),m.fill=g?.fill??O?.fill??_.fill,m.fillOpacity=g?.fillOpacity??O?.fillOpacity??_.fillOpacity,m.stroke=g?.stroke??O?.stroke??_.stroke,m.strokeWidth=g?.strokeWidth??O?.strokeWidth??_.strokeWidth,m.strokeOpacity=g?.strokeOpacity??O?.strokeOpacity??_.strokeOpacity,m.lineDash=g?.lineDash??O?.lineDash??_.lineDash,m.lineDashOffset=g?.lineDashOffset??O?.lineDashOffset??_.lineDashOffset;const T=O?.wick;m.wickStroke=g?.stroke??T?.stroke??R.stroke,m.wickStrokeWidth=g?.strokeWidth??T?.strokeWidth??R.strokeWidth,m.wickStrokeOpacity=g?.strokeOpacity??T?.strokeOpacity??R.strokeOpacity,m.wickLineDash=g?.lineDash??T?.lineDash??R.lineDash,m.wickLineDashOffset=g?.lineDashOffset??T?.lineDashOffset??R.lineDashOffset,m.strokeAlignment=(O?.strokeWidth??_.strokeWidth)/2})}legendItemSymbol(){const{up:e,down:t}=this.properties.item,i=getShapeFill(e.fill,e.fillGradientDefaults,e.fillPatternDefaults),o=isGradientFill2(i)?i.colorStops.map(l=>typeof l=="string"?l:{color:l.color,stop:l.stop!=null?l.stop*.5:void 0}):[{color:isPatternFill(i)?e.stroke:i,stop:0},{color:isPatternFill(i)?e.stroke:i,stop:.5}],a=getShapeFill(t.fill,t.fillGradientDefaults,t.fillPatternDefaults),s=isGradientFill2(a)?a.colorStops.map(l=>typeof l=="string"?l:{color:l.color,stop:l.stop!=null?l.stop*.5:void 0}):[{color:isPatternFill(a)?t.stroke:a,stop:.5}],r={type:"gradient",gradient:"linear",rotation:90,colorStops:[...o,...s],reverse:!1},n={type:"gradient",gradient:"linear",rotation:90,colorStops:[{color:e.stroke,stop:0},{color:e.stroke,stop:.5},{color:t.stroke,stop:.5}],reverse:!1};return{marker:{fill:r,fillOpacity:e.fillOpacity,stroke:n,strokeWidth:e.strokeWidth??1,strokeOpacity:e.strokeOpacity??1,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset}}}getLegendData(e){const{id:t,data:i,visible:o,ctx:{legendManager:a}}=this,{xKey:s,yName:r,showInLegend:n,legendItemName:l}=this.properties;return!i?.length||!s||e!=="category"?[]:[{legendType:"category",id:t,itemId:t,seriesId:t,enabled:o&&a.getItemEnabled({seriesId:t,itemId:t}),label:{text:l??r??t},symbol:this.legendItemSymbol(),legendItemName:l,hideInLegend:!n}]}};CandlestickSeries.className="CandleStickSeries",CandlestickSeries.type="candlestick";var import_ag_charts_community39=require("ag-charts-community"),import_ag_charts_core14=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs2,tooltipOptionsDefs:tooltipOptionsDefs2}=import_ag_charts_community39._ModuleSupport,candlestickSeriesItemOptionsDef={cornerRadius:import_ag_charts_core14.positiveNumber,wick:{...import_ag_charts_core14.strokeOptionsDef,...import_ag_charts_core14.lineDashOptionsDef},...import_ag_charts_core14.fillOptionsDef,...import_ag_charts_core14.strokeOptionsDef,...import_ag_charts_core14.lineDashOptionsDef},candlestickSeriesOptionsDef={type:(0,import_ag_charts_core14.required)((0,import_ag_charts_core14.constant)("candlestick")),xKey:(0,import_ag_charts_core14.required)(import_ag_charts_core14.string),openKey:(0,import_ag_charts_core14.required)(import_ag_charts_core14.string),highKey:(0,import_ag_charts_core14.required)(import_ag_charts_core14.string),lowKey:(0,import_ag_charts_core14.required)(import_ag_charts_core14.string),closeKey:(0,import_ag_charts_core14.required)(import_ag_charts_core14.string),xName:import_ag_charts_core14.string,yName:import_ag_charts_core14.string,openName:import_ag_charts_core14.string,highName:import_ag_charts_core14.string,lowName:import_ag_charts_core14.string,closeName:import_ag_charts_core14.string,item:{up:candlestickSeriesItemOptionsDef,down:candlestickSeriesItemOptionsDef},itemStyler:import_ag_charts_core14.callback,showInMiniChart:import_ag_charts_core14.boolean,tooltip:tooltipOptionsDefs2,...commonSeriesOptionsDefs2};candlestickSeriesOptionsDef.pickOutsideVisibleMinorAxis=import_ag_charts_core14.boolean,candlestickSeriesOptionsDef.focusPriority=import_ag_charts_core14.number;var import_ag_charts_community40=require("ag-charts-community"),{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE2}=import_ag_charts_community40._ModuleSupport.ThemeConstants;function itemTheme(e){return{fill:{$if:[{$eq:[{$palette:"type"},"user-indexed"]},e==="up"?"transparent":{$palette:"fill"},{$palette:`${e}.fill`}]},stroke:{$if:[{$eq:[{$palette:"type"},"user-indexed"]},{$palette:"stroke"},{$palette:`${e}.stroke`}]},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$if:[{$or:[{$isGradient:[{$palette:`${e}.fill`}]},{$isPattern:[{$palette:`${e}.fill`}]}]},{$map:[{$path:["./color",void 0,{$value:"$1"}]},{$path:["./colorStops",void 0,{$palette:`${e}.fill`}]}]},[{$mix:[{$palette:`${e}.fill`},"black",.15]},{$mix:[{$palette:`${e}.fill`},"white",.15]}]]},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community40._ModuleSupport.FILL_PATTERN_DEFAULTS}}var CANDLESTICK_SERIES_THEME={series:{item:{up:itemTheme("up"),down:itemTheme("down")},highlightStyle:{item:{strokeWidth:3}}},animation:{enabled:!1},axes:{[CARTESIAN_AXIS_TYPE2.NUMBER]:{crosshair:{snap:!1}},[CARTESIAN_AXIS_TYPE2.ORDINAL_TIME]:{groupPaddingInner:0,crosshair:{enabled:!0}}}},{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE3,CARTESIAN_POSITION}=import_ag_charts_community41._ModuleSupport.ThemeConstants,CandlestickModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"candlestick",moduleFactory:e=>new CandlestickSeries(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:CARTESIAN_AXIS_TYPE3.NUMBER,position:CARTESIAN_POSITION.LEFT},{type:CARTESIAN_AXIS_TYPE3.ORDINAL_TIME,position:CARTESIAN_POSITION.BOTTOM}],themeTemplate:CANDLESTICK_SERIES_THEME,groupable:!1},CandlestickSeriesModule={type:"series",name:"candlestick",chartType:"cartesian",enterprise:!0,options:candlestickSeriesOptionsDef,create:e=>new CandlestickSeries(e)},import_ag_charts_community48=require("ag-charts-community"),import_ag_charts_community45=require("ag-charts-community"),import_ag_charts_core16=require("ag-charts-core"),import_ag_charts_community42=require("ag-charts-community"),import_ag_charts_core15=require("ag-charts-core"),{CachedTextMeasurerPool,TextUtils:TextUtils2,TextWrapper:TextWrapper2}=import_ag_charts_community42._ModuleSupport;function generateLabelSecondaryLabelFontSizeCandidates(e,t){const{fontSize:i,minimumFontSize:o=i}=e,{fontSize:a,minimumFontSize:s=a}=t,r=i-o,n=a-s;let l=e.fontSize,c=t.fontSize;const p=[{labelFontSize:i,secondaryLabelFontSize:a}];for(;l>o||c>s;){const h=r>0?(l-o)/r:-1,u=n>0?(c-s)/n:-1;h>u?l--:c--,p.push({labelFontSize:l,secondaryLabelFontSize:c})}return p.reverse(),p}function getLineHeight(e,t){return e.lineHeight!=null&&e.fontSize!=null?e.lineHeight*t/e.fontSize:TextUtils2.getLineHeight(t)}function formatStackedLabels(e,t,i,o,{padding:a},s){const{spacing:r=0}=t,n=2*a,l=2*a+r,c=(t.minimumFontSize??t.fontSize)+(o.minimumFontSize??o.fontSize);if(c>s(c+l,!1).height-l)return;const p=generateLabelSecondaryLabelFontSizeCandidates(t,o),h={fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight},u={fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight};let d,f;return(0,import_ag_charts_core15.findMaxValue)(0,p.length-1,g=>{const{labelFontSize:m,secondaryLabelFontSize:y}=p[g],b=g===0,S=getLineHeight(t,m),D=getLineHeight(o,y),k=s(S+D+l,b),A=k.width-n,x=k.height-l;if(S+D>x||((d==null||d.fontSize!==m)&&(h.fontSize=m,d=wrapLabel(t,e,A,x,h,t.wrapping,b?t.overflowStrategy:"hide")),d==null||d.width>A||d.height>x)||((f==null||f.fontSize!==y)&&(u.fontSize=y,f=wrapLabel(o,i,A,x,u,o.wrapping,b?o.overflowStrategy:"hide")),f==null))return;const v=d.height+f.height;if(!(f.width>A||v>x))return{width:Math.max(d.width,f.width),height:v+r,meta:k.meta,label:d,secondaryLabel:f}})}function formatSingleLabel(e,t,{padding:i},o){const a=2*i,s=Math.min(t.minimumFontSize??t.fontSize,t.fontSize),r={fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight};return(0,import_ag_charts_core15.findMaxValue)(s,t.fontSize,n=>{const l=getLineHeight(t,n),c=n===s,p=o(l+a,c),h=p.width-a,u=p.height-a;if(l>u)return;r.fontSize=n;const d=TextWrapper2.wrapLines(e,{maxWidth:h,maxHeight:u,font:r,textWrap:t.wrapping,overflow:(c?t.overflowStrategy:void 0)??"hide"});if(!d.length)return;const f=clipLines(d,{lineHeight:l,font:r,maxWidth:h,maxHeight:u});if(f)return[{fontSize:n,lineHeight:l,...f},p.meta]})}function hasInvalidFontSize(e){return e?.minimumFontSize!=null&&e?.fontSize!=null&&e?.minimumFontSize>e?.fontSize}function formatLabels(e,t,i,o,a,s){const r=t.enabled?e:void 0,n=o.enabled?i:void 0;(hasInvalidFontSize(t)||hasInvalidFontSize(o))&&import_ag_charts_core15.Logger.warnOnce("minimumFontSize should be set to a value less than or equal to the font size");let l;r!=null&&n!=null&&(l=formatStackedLabels(r,t,n,o,a,s));let c;if(l==null&&r!=null&&(c=formatSingleLabel(r,t,a,s)),c!=null){const[h,u]=c;l={width:h.width,height:h.height,meta:u,label:h,secondaryLabel:void 0}}let p;if(l==null&&r==null&&n!=null&&(p=formatSingleLabel(n,o,a,s)),p!=null){const[h,u]=p;l={width:h.width,height:h.height,meta:u,label:void 0,secondaryLabel:h}}return l}function wrapLabel(e,t,i,o,a,s,r){const n=TextWrapper2.wrapLines(t,{maxWidth:i,maxHeight:o,font:a,textWrap:s,overflow:r});if(!n.length)return;const l=getLineHeight(e,a.fontSize),{width:c}=CachedTextMeasurerPool.measureLines(n,{font:a});return{width:c,lineHeight:l,text:n.join(`
`),height:n.length*l,fontSize:a.fontSize}}function clipLines(e,{font:t,lineHeight:i=TextUtils2.defaultLineHeight,maxWidth:o,maxHeight:a=1/0}){let s=i*e.length;for(;s>a;){if(e.length===1)return;e.pop(),e[e.length-1]=TextWrapper2.appendEllipsis(e.at(-1)),s=i*e.length}const r=CachedTextMeasurerPool.measureLines(e,{font:t});let n,l;if(r.width>o){const c=[];l=0;for(const p of r.lineMetrics){if(p.width>o){if(!c.length)return;break}c.push(p.text),l=Math.max(l,p.width)}n=TextWrapper2.appendEllipsis(c.join(`
`))}else n=e.join(`
`),l=r.width;return{text:n,width:l,height:s}}var import_ag_charts_community44=require("ag-charts-community"),import_ag_charts_community43=require("ag-charts-community"),{TempValidate:TempValidate15,NUMBER:NUMBER5,POSITIVE_NUMBER:POSITIVE_NUMBER6,TEXT_WRAP,OVERFLOW_STRATEGY}=import_ag_charts_community43._ModuleSupport,BaseAutoSizedLabel=class extends import_ag_charts_community43._ModuleSupport.Label{constructor(){super(...arguments),this.wrapping="on-space",this.overflowStrategy="ellipsis"}};__decorateClass([TempValidate15(TEXT_WRAP)],BaseAutoSizedLabel.prototype,"wrapping",2),__decorateClass([TempValidate15(OVERFLOW_STRATEGY)],BaseAutoSizedLabel.prototype,"overflowStrategy",2),__decorateClass([TempValidate15(POSITIVE_NUMBER6,{optional:!0})],BaseAutoSizedLabel.prototype,"lineHeight",2),__decorateClass([TempValidate15(POSITIVE_NUMBER6,{optional:!0})],BaseAutoSizedLabel.prototype,"minimumFontSize",2);var AutoSizedLabel=class extends BaseAutoSizedLabel{constructor(){super(...arguments),this.spacing=0}};__decorateClass([TempValidate15(NUMBER5)],AutoSizedLabel.prototype,"spacing",2);var AutoSizedSecondaryLabel=class extends BaseAutoSizedLabel{},{CartesianSeriesProperties,SeriesTooltip:SeriesTooltip4,TempValidate:TempValidate16,AND:AND4,ARRAY:ARRAY3,COLOR_STRING:COLOR_STRING5,COLOR_STRING_ARRAY:COLOR_STRING_ARRAY2,FUNCTION:FUNCTION4,OBJECT:OBJECT7,POSITIVE_NUMBER:POSITIVE_NUMBER7,RATIO:RATIO7,STRING:STRING4,TEXT_ALIGN,VERTICAL_ALIGN}=import_ag_charts_community44._ModuleSupport,HeatmapSeriesProperties=class extends CartesianSeriesProperties{constructor(){super(...arguments),this.colorRange=["black","black"],this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.textAlign="center",this.verticalAlign="middle",this.itemPadding=0,this.label=new AutoSizedLabel,this.tooltip=new SeriesTooltip4}};__decorateClass([TempValidate16(STRING4,{optional:!0})],HeatmapSeriesProperties.prototype,"title",2),__decorateClass([TempValidate16(STRING4)],HeatmapSeriesProperties.prototype,"xKey",2),__decorateClass([TempValidate16(STRING4)],HeatmapSeriesProperties.prototype,"yKey",2),__decorateClass([TempValidate16(STRING4,{optional:!0})],HeatmapSeriesProperties.prototype,"colorKey",2),__decorateClass([TempValidate16(STRING4,{optional:!0})],HeatmapSeriesProperties.prototype,"xName",2),__decorateClass([TempValidate16(STRING4,{optional:!0})],HeatmapSeriesProperties.prototype,"yName",2),__decorateClass([TempValidate16(STRING4,{optional:!0})],HeatmapSeriesProperties.prototype,"colorName",2),__decorateClass([TempValidate16(AND4(COLOR_STRING_ARRAY2,ARRAY3.restrict({minLength:1})))],HeatmapSeriesProperties.prototype,"colorRange",2),__decorateClass([TempValidate16(COLOR_STRING5,{optional:!0})],HeatmapSeriesProperties.prototype,"stroke",2),__decorateClass([TempValidate16(RATIO7)],HeatmapSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate16(POSITIVE_NUMBER7,{optional:!0})],HeatmapSeriesProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate16(TEXT_ALIGN)],HeatmapSeriesProperties.prototype,"textAlign",2),__decorateClass([TempValidate16(VERTICAL_ALIGN)],HeatmapSeriesProperties.prototype,"verticalAlign",2),__decorateClass([TempValidate16(POSITIVE_NUMBER7)],HeatmapSeriesProperties.prototype,"itemPadding",2),__decorateClass([TempValidate16(FUNCTION4,{optional:!0})],HeatmapSeriesProperties.prototype,"itemStyler",2),__decorateClass([TempValidate16(OBJECT7)],HeatmapSeriesProperties.prototype,"label",2),__decorateClass([TempValidate16(OBJECT7)],HeatmapSeriesProperties.prototype,"tooltip",2);var{SeriesNodePickMode:SeriesNodePickMode3,computeBarFocusBounds:computeBarFocusBounds3,getMissCount,valueProperty:valueProperty3,ChartAxisDirection:ChartAxisDirection8,DEFAULT_CARTESIAN_DIRECTION_KEYS,DEFAULT_CARTESIAN_DIRECTION_NAMES,createDatumId:createDatumId4,ColorScale,Rect:Rect2,PointerEvents,applyShapeStyle}=import_ag_charts_community45._ModuleSupport,HeatmapSeriesNodeEvent=class extends import_ag_charts_community45._ModuleSupport.CartesianSeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.colorKey=o.properties.colorKey}},textAlignFactors={left:-.5,center:0,right:-.5},verticalAlignFactors={top:-.5,middle:0,bottom:-.5},HeatmapSeries=class extends import_ag_charts_community45._ModuleSupport.CartesianSeries{constructor(e){super({moduleCtx:e,directionKeys:DEFAULT_CARTESIAN_DIRECTION_KEYS,directionNames:DEFAULT_CARTESIAN_DIRECTION_NAMES,categoryKey:void 0,pickModes:[SeriesNodePickMode3.NEAREST_NODE,SeriesNodePickMode3.EXACT_SHAPE_MATCH],pathsPerSeries:[],hasMarkers:!1,hasHighlightedLabels:!0}),this.properties=new HeatmapSeriesProperties,this.NodeEvent=HeatmapSeriesNodeEvent,this.colorScale=new ColorScale}async processData(e){const t=this.axes[ChartAxisDirection8.X],i=this.axes[ChartAxisDirection8.Y];if(!t||!i||!this.properties.isValid()||!this.data?.length)return;const{xKey:o,yKey:a,colorRange:s,colorKey:r}=this.properties,n=this.axes[ChartAxisDirection8.X]?.scale,l=this.axes[ChartAxisDirection8.Y]?.scale,{xScaleType:c,yScaleType:p}=this.getScaleInformation({xScale:n,yScale:l}),h=this.colorScale.type,{dataModel:u,processedData:d}=await this.requestDataModel(e,this.data,{props:[valueProperty3(o,c,{id:"xValue"}),valueProperty3(a,p,{id:"yValue"}),...r?[valueProperty3(r,h,{id:"colorValue"})]:[]]});if(this.isColorScaleValid()){const f=u.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=d.domain.values[f],this.colorScale.range=s,this.colorScale.update()}}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const o=t.resolveProcessedDataIndexById(this,"colorValue"),a=i.input.count,s=getMissCount(this,i.defs.values[o].missing);return!(a===0||a===s)}xCoordinateRange(e,t){const i=this.axes[ChartAxisDirection8.X].scale,o=t*(i.bandwidth??0)/2,a=i.convert(e)+o,s=t*(i.bandwidth??10);return[a,a+s]}yCoordinateRange(e,t){const i=this.axes[ChartAxisDirection8.Y].scale,o=t*(i.bandwidth??0)/2,a=i.convert(e[0])+o,s=t*(i.bandwidth??10);return[a,a+s]}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;return!t||!i?[]:e===ChartAxisDirection8.X?t.getDomain(this,"xValue","value",i):t.getDomain(this,"yValue","value",i)}getSeriesRange(e,t){return[NaN,NaN]}createNodeData(){const{data:e,visible:t,axes:i,dataModel:o,processedData:a}=this,s=i[ChartAxisDirection8.X],r=i[ChartAxisDirection8.Y];if(!(e&&o&&a&&t&&s&&r))return;if(s.type!=="category"||r.type!=="category"){import_ag_charts_core16.Logger.warnOnce(`Heatmap series expected axes to have "category" type, but received "${s.type}" and "${r.type}" instead.`);return}const{xKey:n,xName:l,yKey:c,yName:p,colorKey:h,colorName:u,textAlign:d,verticalAlign:f,itemPadding:g,label:m}=this.properties,y=o.resolveColumnById(this,"xValue",a),b=o.resolveColumnById(this,"yValue",a),S=h?o.resolveColumnById(this,"colorValue",a):void 0,D=s.scale,k=r.scale,A=(D.bandwidth??0)/2,x=(k.bandwidth??0)/2,v=[],N=[],O=D.bandwidth??10,_=k.bandwidth??10,R=(O-2*g)*textAlignFactors[d],I=(_-2*g)*verticalAlignFactors[f],T=()=>({width:O,height:_,meta:null});return(a.dataSources.get(this.id)??[]).forEach((M,P)=>{const B=y[P],L=b[P],w=D.convert(B)+A,E=k.convert(L)+x,G=S?.[P],F=G==null?void 0:this.getLabelText(m,{value:G,datum:M,colorKey:h,colorName:u,xKey:n,yKey:c,xName:l,yName:p}),V=formatLabels(F,this.properties.label,void 0,this.properties.label,{padding:g},T),W={x:w,y:E,size:0};if(v.push({series:this,itemId:c,datumIndex:P,yKey:c,xKey:n,xValue:B,yValue:L,colorValue:G,datum:M,point:W,width:O,height:_,midPoint:{x:w,y:E},missing:S!=null&&G==null}),V?.label!=null){const{text:K,fontSize:q,lineHeight:Y,height:X}=V.label,{fontStyle:U,fontFamily:H,fontWeight:$,color:j}=this.properties.label,Z=W.x+R*(O-2*g),z=W.y+I*(_-2*g)-(V.height-X)*.5;N.push({series:this,itemId:c,datum:M,datumIndex:P,text:K,fontSize:q,lineHeight:Y,fontStyle:U,fontFamily:H,fontWeight:$,color:j,textAlign:d,verticalAlign:f,x:Z,y:z})}}),{itemId:this.properties.yKey??this.id,nodeData:v,labelData:N,scales:this.calculateScaling(),visible:this.visible}}nodeFactory(){return new Rect2}update(e){return this.ctx.animationManager.skipCurrentBatch(),super.update(e)}updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,o=t??[];return i.update(o)}getItemBaseStyle(e){const{properties:t}=this,i=e?t.highlightStyle.item:void 0;return{fill:i?.fill,fillOpacity:i?.fillOpacity??1,stroke:i?.stroke??t.stroke,strokeWidth:i?.strokeWidth??this.getStrokeWidth(t.strokeWidth),strokeOpacity:i?.strokeOpacity??t.strokeOpacity}}getItemStyleOverrides(e,t,i,o,a){const{id:s,properties:r}=this,{xKey:n,yKey:l,colorRange:c,itemStyler:p}=r,h=this.isColorScaleValid()&&i!=null?this.colorScale.convert(i):c[0];let u=o.fill==null?{fill:h}:void 0;if(p!=null){u??(u={});const d=this.cachedDatumCallback(createDatumId4(e,a?"highlight":"node"),()=>this.callWithContext(p,{seriesId:s,datum:t,xKey:n,yKey:l,highlighted:a,...o,fill:h}));Object.assign(u,d)}return u}updateDatumNodes(e){const{isHighlight:t}=e,i=this.axes[ChartAxisDirection8.X],[o,a]=i?.visibleRange??[],r=!(o!==0||a!==1),n=this.getItemBaseStyle(t);e.datumSelection.each((l,c)=>{const{datumIndex:p,colorValue:h,datum:u,point:d,width:f,height:g}=c,m=this.getItemStyleOverrides(String(p),u,h,n,t);l.crisp=r,l.x=Math.floor(d.x-f/2),l.y=Math.floor(d.y-g/2),l.width=Math.ceil(f),l.height=Math.ceil(g),applyShapeStyle(l,n,m)})}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e,{enabled:o}=this.properties.label,a=o?t:[];return i.update(a)}updateLabelNodes(e){e.labelSelection.each((t,i)=>{t.text=i.text,t.fontSize=i.fontSize,t.lineHeight=i.lineHeight,t.fontStyle=i.fontStyle,t.fontFamily=i.fontFamily,t.fontWeight=i.fontWeight,t.fill=i.color,t.textAlign=i.textAlign,t.textBaseline=i.verticalAlign,t.x=i.x,t.y=i.y,t.pointerEvents=PointerEvents.None})}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,axes:a,properties:s,colorScale:r}=this,{xKey:n,xName:l,yKey:c,yName:p,colorKey:h,colorName:u,colorRange:d,title:f,legendItemName:g,tooltip:m}=s,y=a[ChartAxisDirection8.X],b=a[ChartAxisDirection8.Y];if(!i||!o||!y||!b)return;const S=o.dataSources.get(this.id)?.[e],D=i.resolveColumnById(this,"xValue",o)[e],k=i.resolveColumnById(this,"yValue",o)[e],A=h!=null&&this.isColorScaleValid()?i.resolveColumnById(this,"colorValue",o)[e]:void 0;if(D==null)return;const x=[];let v;A==null?v=d[0]:(v=r.convert(A),x.push({label:u,fallbackLabel:h,value:String(A)})),x.push({label:l,fallbackLabel:n,value:y.formatDatum(D)},{label:p,fallbackLabel:c,value:b.formatDatum(k)});const N=this.getItemBaseStyle(!1);Object.assign(N,this.getItemStyleOverrides(String(e),S,A,N,!1)),N.fill!=null&&(v=N.fill);const O=v!=null?{marker:{shape:"square",fill:v,fillOpacity:1,stroke:void 0,strokeWidth:0,strokeOpacity:1,lineDash:[0],lineDashOffset:0}}:void 0;return m.formatTooltip(this.properties,{title:f??g,symbol:O,data:x},{seriesId:t,datum:S,title:f,xKey:n,xName:l,yKey:c,yName:p,colorKey:h,colorName:u,...N})}getLegendData(e){return e!=="gradient"||!this.properties.isValid()||!this.isColorScaleValid()||!this.dataModel?[]:[{legendType:"gradient",enabled:this.visible,seriesId:this.id,colorName:this.properties.colorName,colorDomain:this.processedData.domain.values[this.dataModel.resolveProcessedDataIndexById(this,"colorValue")],colorRange:this.properties.colorRange}]}isLabelEnabled(){return this.properties.label.enabled&&!!this.properties.colorKey}getBandScalePadding(){return{inner:0,outer:0}}computeFocusBounds({datumIndex:e}){const t=this.contextNodeData?.nodeData[e];if(t===void 0)return;const{width:i,height:o,midPoint:a}=t,s={x:a.x-i/2,y:a.y-o/2,width:i,height:o};return computeBarFocusBounds3(this,s)}};HeatmapSeries.className="HeatmapSeries",HeatmapSeries.type="heatmap";var import_ag_charts_community46=require("ag-charts-community"),import_ag_charts_core17=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs3,autoSizedLabelOptionsDefs,tooltipOptionsDefs:tooltipOptionsDefs3}=import_ag_charts_community46._ModuleSupport,heatmapSeriesOptionsDef={type:(0,import_ag_charts_core17.required)((0,import_ag_charts_core17.constant)("heatmap")),xKey:(0,import_ag_charts_core17.required)(import_ag_charts_core17.string),yKey:(0,import_ag_charts_core17.required)(import_ag_charts_core17.string),colorKey:import_ag_charts_core17.string,xName:import_ag_charts_core17.string,yName:import_ag_charts_core17.string,colorName:import_ag_charts_core17.string,colorRange:(0,import_ag_charts_core17.arrayOf)(import_ag_charts_core17.color),title:import_ag_charts_core17.string,textAlign:(0,import_ag_charts_core17.union)("left","center","right"),verticalAlign:(0,import_ag_charts_core17.union)("top","middle","bottom"),itemPadding:import_ag_charts_core17.positiveNumber,itemStyler:import_ag_charts_core17.callback,showInMiniChart:import_ag_charts_core17.boolean,label:autoSizedLabelOptionsDefs,tooltip:tooltipOptionsDefs3,...commonSeriesOptionsDefs3,...import_ag_charts_core17.strokeOptionsDef},import_ag_charts_community47=require("ag-charts-community"),HEATMAP_SERIES_THEME={series:{stroke:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$ref:"backgroundColor"},{$path:["./0",{$palette:"stroke"},{$palette:"strokes"}]}]},colorRange:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$palette:"divergingColors"},import_ag_charts_community47._ModuleSupport.SAFE_RANGE2_OPERATION]},label:{enabled:!1,color:{$ref:"textColor"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},wrapping:"on-space",overflowStrategy:"ellipsis"},itemPadding:3},gradientLegend:{enabled:!0}},{ThemeConstants:{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE4,CARTESIAN_POSITION:CARTESIAN_POSITION2}}=import_ag_charts_community48._ModuleSupport,HeatmapModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"heatmap",moduleFactory:e=>new HeatmapSeries(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:CARTESIAN_AXIS_TYPE4.CATEGORY,position:CARTESIAN_POSITION2.LEFT},{type:CARTESIAN_AXIS_TYPE4.CATEGORY,position:CARTESIAN_POSITION2.BOTTOM}],themeTemplate:HEATMAP_SERIES_THEME},HeatmapSeriesModule={type:"series",name:"heatmap",chartType:"cartesian",enterprise:!0,options:heatmapSeriesOptionsDef,create:e=>new HeatmapSeries(e)},import_ag_charts_community51=require("ag-charts-community"),import_ag_charts_community49=require("ag-charts-community"),{createDatumId:createDatumId5}=import_ag_charts_community49._ModuleSupport,OhlcSeries=class extends OhlcSeriesBase{constructor(){super(...arguments),this.properties=new OhlcSeriesProperties}nodeFactory(){return new OhlcNode}updateDatumNodes({datumSelection:e,isHighlight:t}){const{id:i,properties:o}=this,{xKey:a,highKey:s,lowKey:r,openKey:n,closeKey:l,item:c,itemStyler:p}=o,{up:h,down:u}=c,{stroke:d,strokeWidth:f,strokeOpacity:g,lineDash:m,lineDashOffset:y}=h,{stroke:b,strokeWidth:S,strokeOpacity:D,lineDash:k,lineDashOffset:A}=u,x=t?o.highlightStyle.item:void 0;e.each((v,N)=>{const{isRising:O,centerX:_,width:R,y:I,height:T,yOpen:C,yClose:M,crisp:P}=N;let B;if(p!=null){const{stroke:L,strokeWidth:w,strokeOpacity:E,lineDash:G,lineDashOffset:F}=O?h:u;B=this.cachedDatumCallback(createDatumId5(this.getDatumId(N),t?"highlight":"node"),()=>this.callWithContext(p,{seriesId:i,itemId:N.itemId,xKey:a,highKey:s,lowKey:r,openKey:n,closeKey:l,datum:N.datum,strokeOpacity:E,stroke:L,strokeWidth:w,lineDash:G,lineDashOffset:F,highlighted:t}))}v.centerX=_,v.width=R,v.y=I,v.height=T,v.yOpen=C,v.yClose=M,v.crisp=P,v.stroke=x?.stroke??B?.stroke??(O?d:b),v.strokeWidth=x?.strokeWidth??B?.strokeWidth??(O?f:S),v.strokeOpacity=x?.strokeOpacity??B?.strokeOpacity??(O?g:D),v.lineDash=x?.lineDash??B?.lineDash??(O?m:k),v.lineDashOffset=x?.lineDashOffset??B?.lineDashOffset??(O?y:A),v.strokeAlignment=(B?.strokeWidth??(O?f:S))/2})}getLegendData(e){const{id:t,data:i,ctx:{legendManager:o},visible:a}=this,{xKey:s,yName:r,item:{up:n,down:l},showInLegend:c,legendItemName:p}=this.properties;if(!i?.length||!s||e!=="category")return[];const h={type:"gradient",gradient:"linear",colorSpace:"rgb",colorStops:[{color:n.stroke,stop:0},{color:n.stroke,stop:.5},{color:l.stroke,stop:.5}],rotation:90};return[{legendType:"category",id:t,itemId:t,seriesId:t,enabled:a&&o.getItemEnabled({seriesId:t,itemId:t}),label:{text:p??r??t},symbol:{marker:{fill:h,fillOpacity:n.strokeOpacity,stroke:void 0,strokeWidth:0,strokeOpacity:1,lineDash:[0],lineDashOffset:0}},legendItemName:p,hideInLegend:!c}]}};OhlcSeries.className="ohlc",OhlcSeries.type="ohlc";var import_ag_charts_community50=require("ag-charts-community"),import_ag_charts_core18=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs4,tooltipOptionsDefs:tooltipOptionsDefs4}=import_ag_charts_community50._ModuleSupport,ohlcSeriesItemOptionsDef={...import_ag_charts_core18.strokeOptionsDef,...import_ag_charts_core18.lineDashOptionsDef},ohlcSeriesOptionsDef={type:(0,import_ag_charts_core18.required)((0,import_ag_charts_core18.constant)("ohlc")),xKey:(0,import_ag_charts_core18.required)(import_ag_charts_core18.string),openKey:(0,import_ag_charts_core18.required)(import_ag_charts_core18.string),highKey:(0,import_ag_charts_core18.required)(import_ag_charts_core18.string),lowKey:(0,import_ag_charts_core18.required)(import_ag_charts_core18.string),closeKey:(0,import_ag_charts_core18.required)(import_ag_charts_core18.string),xName:import_ag_charts_core18.string,yName:import_ag_charts_core18.string,openName:import_ag_charts_core18.string,highName:import_ag_charts_core18.string,lowName:import_ag_charts_core18.string,closeName:import_ag_charts_core18.string,showInMiniChart:import_ag_charts_core18.boolean,itemStyler:import_ag_charts_core18.callback,item:{up:ohlcSeriesItemOptionsDef,down:ohlcSeriesItemOptionsDef},tooltip:tooltipOptionsDefs4,...commonSeriesOptionsDefs4};ohlcSeriesOptionsDef.pickOutsideVisibleMinorAxis=import_ag_charts_core18.boolean,ohlcSeriesOptionsDef.focusPriority=import_ag_charts_core18.number;var{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE5,CARTESIAN_POSITION:CARTESIAN_POSITION3}=import_ag_charts_community51._ModuleSupport.ThemeConstants,OhlcModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"ohlc",moduleFactory:e=>new OhlcSeries(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:CARTESIAN_AXIS_TYPE5.NUMBER,position:CARTESIAN_POSITION3.LEFT},{type:CARTESIAN_AXIS_TYPE5.ORDINAL_TIME,position:CARTESIAN_POSITION3.BOTTOM}],themeTemplate:{animation:{enabled:!1},series:{item:{up:{stroke:{$if:[{$eq:[{$palette:"type"},"user-indexed"]},{$palette:"stroke"},{$palette:"up.stroke"}]}},down:{stroke:{$if:[{$eq:[{$palette:"type"},"user-indexed"]},{$palette:"stroke"},{$palette:"down.stroke"}]}}}},axes:{[CARTESIAN_AXIS_TYPE5.NUMBER]:{crosshair:{snap:!1}},[CARTESIAN_AXIS_TYPE5.ORDINAL_TIME]:{groupPaddingInner:0,crosshair:{enabled:!0}}}},groupable:!1},OhlcSeriesModule={type:"series",name:"ohlc",chartType:"cartesian",enterprise:!0,options:ohlcSeriesOptionsDef,create:e=>new OhlcSeries(e)},import_ag_charts_community57=require("ag-charts-community"),import_ag_charts_community54=require("ag-charts-community"),AGGREGATION_THRESHOLD2=1e3;function aggregationContainsTopIndex(e,t,i,o,a,s){const r=e[s];if(r==null)return!1;const n=xRatioForDatumIndex(r,t,i),l=aggregationIndexForXRatio(n,a);return s===o[l+Y_MAX]}function aggregationContainsBottomIndex(e,t,i,o,a,s){const r=e[s];if(r==null)return!1;const n=xRatioForDatumIndex(r,t,i),l=aggregationIndexForXRatio(n,a);return s===o[l+Y_MIN]}function aggregateData(e,t,i,o){if(e.length<AGGREGATION_THRESHOLD2)return;const[a,s]=aggregationDomain(o);let r=maxRangeFittingPoints(e);const{indexData:n,valueData:l}=createAggregationIndices(e,t,i,a,s,r);let c=[],p=[];for(let u=0;u<e.length;u+=1)aggregationContainsTopIndex(e,a,s,n,r,u)&&c.push(u),aggregationContainsBottomIndex(e,a,s,n,r,u)&&p.push(u);const h=[{maxRange:r,topIndices:c,bottomIndices:p}];for(;r>64;)({maxRange:r}=compactAggregationIndices(n,l,r,{inPlace:!0})),c=c.filter(aggregationContainsTopIndex.bind(null,e,a,s,n,r)),p=p.filter(aggregationContainsBottomIndex.bind(null,e,a,s,n,r)),h.push({maxRange:r,topIndices:c,bottomIndices:p});return h.reverse(),h}var import_ag_charts_community52=require("ag-charts-community"),{CartesianSeriesProperties:CartesianSeriesProperties2,FillGradientDefaults:FillGradientDefaults3,FillPatternDefaults:FillPatternDefaults3,InterpolationProperties,SeriesMarker,SeriesTooltip:SeriesTooltip5,TempValidate:TempValidate17,BOOLEAN:BOOLEAN3,COLOR_STRING:COLOR_STRING6,LINE_DASH:LINE_DASH5,OBJECT:OBJECT8,PLACEMENT,POSITIVE_NUMBER:POSITIVE_NUMBER8,COLOR_GRADIENT:COLOR_GRADIENT3,COLOR_PATTERN:COLOR_PATTERN3,OR:OR4,RATIO:RATIO8,STRING:STRING5,DropShadow,Label}=import_ag_charts_community52._ModuleSupport,RangeAreaSeriesLabel=class extends Label{constructor(){super(...arguments),this.placement="outside",this.padding=6}};__decorateClass([TempValidate17(PLACEMENT)],RangeAreaSeriesLabel.prototype,"placement",2),__decorateClass([TempValidate17(POSITIVE_NUMBER8)],RangeAreaSeriesLabel.prototype,"padding",2);var RangeAreaProperties=class extends CartesianSeriesProperties2{constructor(){super(...arguments),this.fill="#99CCFF",this.fillGradientDefaults=new FillGradientDefaults3,this.fillPatternDefaults=new FillPatternDefaults3,this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new InterpolationProperties,this.shadow=new DropShadow().set({enabled:!1}),this.marker=new SeriesMarker,this.label=new RangeAreaSeriesLabel,this.tooltip=new SeriesTooltip5,this.connectMissingData=!1}};__decorateClass([TempValidate17(STRING5)],RangeAreaProperties.prototype,"xKey",2),__decorateClass([TempValidate17(STRING5)],RangeAreaProperties.prototype,"yLowKey",2),__decorateClass([TempValidate17(STRING5)],RangeAreaProperties.prototype,"yHighKey",2),__decorateClass([TempValidate17(STRING5,{optional:!0})],RangeAreaProperties.prototype,"xName",2),__decorateClass([TempValidate17(STRING5,{optional:!0})],RangeAreaProperties.prototype,"yName",2),__decorateClass([TempValidate17(STRING5,{optional:!0})],RangeAreaProperties.prototype,"yLowName",2),__decorateClass([TempValidate17(STRING5,{optional:!0})],RangeAreaProperties.prototype,"yHighName",2),__decorateClass([TempValidate17(OR4(COLOR_GRADIENT3,COLOR_PATTERN3,COLOR_STRING6))],RangeAreaProperties.prototype,"fill",2),__decorateClass([TempValidate17(OBJECT8)],RangeAreaProperties.prototype,"fillGradientDefaults",2),__decorateClass([TempValidate17(OBJECT8)],RangeAreaProperties.prototype,"fillPatternDefaults",2),__decorateClass([TempValidate17(RATIO8)],RangeAreaProperties.prototype,"fillOpacity",2),__decorateClass([TempValidate17(COLOR_STRING6)],RangeAreaProperties.prototype,"stroke",2),__decorateClass([TempValidate17(POSITIVE_NUMBER8)],RangeAreaProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate17(RATIO8)],RangeAreaProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate17(LINE_DASH5)],RangeAreaProperties.prototype,"lineDash",2),__decorateClass([TempValidate17(POSITIVE_NUMBER8)],RangeAreaProperties.prototype,"lineDashOffset",2),__decorateClass([TempValidate17(OBJECT8)],RangeAreaProperties.prototype,"interpolation",2),__decorateClass([TempValidate17(OBJECT8)],RangeAreaProperties.prototype,"shadow",2),__decorateClass([TempValidate17(OBJECT8)],RangeAreaProperties.prototype,"marker",2),__decorateClass([TempValidate17(OBJECT8)],RangeAreaProperties.prototype,"label",2),__decorateClass([TempValidate17(OBJECT8)],RangeAreaProperties.prototype,"tooltip",2),__decorateClass([TempValidate17(BOOLEAN3)],RangeAreaProperties.prototype,"connectMissingData",2);var import_ag_charts_community53=require("ag-charts-community"),{CollapseMode,isScaleValid,pairUpSpans,prepareAreaFillAnimationFns,plotInterpolatedLinePathStroke,prepareLinePathPropertyAnimation,areScalingEqual}=import_ag_charts_community53._ModuleSupport;function prepareRangeAreaPathStrokeAnimationFns(e,t,i,o){const a=(l,c)=>{plotInterpolatedLinePathStroke(l,c,t.removed),plotInterpolatedLinePathStroke(l,c,i.removed)},s=(l,c)=>{plotInterpolatedLinePathStroke(l,c,t.moved),plotInterpolatedLinePathStroke(l,c,i.moved)},r=(l,c)=>{plotInterpolatedLinePathStroke(l,c,t.added),plotInterpolatedLinePathStroke(l,c,i.added)},n=prepareLinePathPropertyAnimation(e,o);return{status:e,path:{addPhaseFn:r,updatePhaseFn:s,removePhaseFn:a},pathProperties:n}}function prepareRangeAreaPathAnimation(e,t,i){const o=e.scales.x?.type==="category",a=t.scales.x?.type==="category";if(o!==a||!isScaleValid(e.scales.x)||!isScaleValid(t.scales.x))return;let s="updated";t.visible&&!e.visible?s="removed":!t.visible&&e.visible&&(s="added");const r=pairUpSpans({scales:e.scales,data:e.fillData.spans},{scales:t.scales,data:t.fillData.spans},CollapseMode.Split);if(r==null)return;const n=pairUpSpans({scales:e.scales,data:e.fillData.phantomSpans},{scales:t.scales,data:t.fillData.phantomSpans},CollapseMode.Split);if(n==null)return;const l=pairUpSpans({scales:e.scales,data:e.highStrokeData.spans},{scales:t.scales,data:t.highStrokeData.spans},CollapseMode.Split);if(l==null)return;const c=pairUpSpans({scales:e.scales,data:e.lowStrokeData.spans},{scales:t.scales,data:t.lowStrokeData.spans},CollapseMode.Split);if(c==null)return;const p="fade",h=prepareAreaFillAnimationFns(s,r,n,p),u=prepareRangeAreaPathStrokeAnimationFns(s,l,c,p),d=(i?.changed??!0)||!areScalingEqual(e.scales.x,t.scales.x)||!areScalingEqual(e.scales.y,t.scales.y)||s!=="updated";return{status:s,fill:h,stroke:u,hasMotion:d}}var{valueProperty:valueProperty4,keyProperty:keyProperty3,ChartAxisDirection:ChartAxisDirection9,mergeDefaults:mergeDefaults3,updateLabelNode,fixNumericExtent:fixNumericExtent3,buildResetPathFn,resetLabelFn,resetMarkerFn,resetMarkerPositionFn,pathSwipeInAnimation,resetMotion,markerSwipeScaleInAnimation,seriesLabelFadeInAnimation,animationValidation:animationValidation3,diff:diff3,updateClipPath,computeMarkerFocusBounds,plotAreaPathFill,plotLinePathStroke,interpolatePoints,pathFadeInAnimation,markerFadeInAnimation,fromToMotion,pathMotion,extent,createDatumId:createDatumId6,applyShapeFillBBox:applyShapeFillBBox3,PointerEvents:PointerEvents2,Group:Group5,BBox:BBox5,ContinuousScale:ContinuousScale4,OrdinalTimeScale:OrdinalTimeScale3,findMinMax:findMinMax3,getShapeStyle:getShapeStyle4,getShapeFill:getShapeFill2}=import_ag_charts_community54._ModuleSupport,RangeAreaSeriesNodeEvent=class extends import_ag_charts_community54._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.xKey=o.properties.xKey,this.yLowKey=o.properties.yLowKey,this.yHighKey=o.properties.yHighKey}},RangeAreaSeries=class extends import_ag_charts_community54._ModuleSupport.CartesianSeries{constructor(e){super({moduleCtx:e,hasMarkers:!0,pathsPerSeries:["fill","stroke"],pickModes:[import_ag_charts_community54._ModuleSupport.SeriesNodePickMode.AXIS_ALIGNED],directionKeys:{[ChartAxisDirection9.X]:["xKey"],[ChartAxisDirection9.Y]:["yLowKey","yHighKey"]},directionNames:{[ChartAxisDirection9.X]:["xName"],[ChartAxisDirection9.Y]:["yLowName","yHighName","yName"]},categoryKey:"xValue",animationResetFns:{path:buildResetPathFn({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:resetLabelFn,marker:(t,i)=>({...resetMarkerFn(t),...resetMarkerPositionFn(t,i)})},clipFocusBox:!1}),this.properties=new RangeAreaProperties,this.NodeEvent=RangeAreaSeriesNodeEvent,this.dataAggregationFilters=void 0}async processData(e){if(!this.properties.isValid())return;const{xKey:t,yLowKey:i,yHighKey:o}=this.properties,a=this.axes[ChartAxisDirection9.X]?.scale,s=this.axes[ChartAxisDirection9.Y]?.scale,{xScaleType:r,yScaleType:n}=this.getScaleInformation({xScale:a,yScale:s}),l=[],c=!this.ctx.animationManager.isSkipped();!this.ctx.animationManager.isSkipped()&&this.processedData&&l.push(diff3(this.id,this.processedData)),c&&l.push(animationValidation3());const{dataModel:p,processedData:h}=await this.requestDataModel(e,this.data,{props:[keyProperty3(t,r,{id:"xValue"}),valueProperty4(i,n,{id:"yLowValue"}),valueProperty4(o,n,{id:"yHighValue"}),...l]});this.dataAggregationFilters=this.aggregateData(p,h),this.animationState.transition("updateData")}aggregateData(e,t){const i=this.axes[ChartAxisDirection9.X];if(i==null||!(ContinuousScale4.is(i.scale)||OrdinalTimeScale3.is(i.scale)))return;const o=e.resolveKeysById(this,"xValue",t),a=e.resolveColumnById(this,"yHighValue",t),s=e.resolveColumnById(this,"yLowValue",t),{index:r}=e.resolveProcessedDataDefById(this,"xValue"),n=t.domain.keys[r];return aggregateData(o,a,s,n)}xCoordinateRange(e){const t=this.axes[ChartAxisDirection9.X].scale.convert(e);return[t,t]}yCoordinateRange(e){const t=this.axes[ChartAxisDirection9.Y].scale.convert(e[0]);return[t,t]}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!(t&&i))return[];const{domain:{keys:[o]}}=t;if(e===ChartAxisDirection9.X){const a=i.resolveProcessedDataDefById(this,"xValue");return a?.def.type==="key"&&a.def.valueType==="category"?o:fixNumericExtent3(extent(o))}else{const a=this.domainForClippedRange(ChartAxisDirection9.Y,["yHighValue","yLowValue"],"xValue",!0),s=findMinMax3(a);return fixNumericExtent3(s)}}getSeriesRange(e,t){return this.domainForVisibleRange(ChartAxisDirection9.Y,["yHighValue","yLowValue"],"xValue",t,!0)}createNodeData(){const{data:e,dataModel:t,processedData:i,axes:o}=this,a=o[ChartAxisDirection9.X],s=o[ChartAxisDirection9.Y];if(!(e&&a&&s&&t&&i))return;const r=a.scale,n=s.scale,{xKey:l,yLowKey:c,yHighKey:p,connectMissingData:h,marker:u,interpolation:d}=this.properties,f=i.dataSources.get(this.id)??[],g=(r.bandwidth??0)/2,m=t.resolveKeysById(this,"xValue",i),y=t.resolveColumnById(this,"yHighValue",i),b=t.resolveColumnById(this,"yLowValue",i),S=w=>r.convert(m[w])+g,D=[],k=[],A=[],x=(w,E,G)=>{const F=f[w],V=m[w];if(V==null)return;const W=A[A.length-1];if(Number.isFinite(E)&&Number.isFinite(G)){const K=(j,Z,z)=>{k.push({index:w,series:this,itemId:j,datum:F,datumIndex:w,midPoint:{x:Y,y:z},yHighValue:E,yLowValue:G,xValue:V,xKey:l,yLowKey:c,yHighKey:p,point:{x:Y,y:z,size:H},enabled:!0});const oe=this.createLabelData({datumIndex:w,point:{x:Y,y:z},value:Z,yLowValue:G,yHighValue:E,itemId:j,inverted:q,datum:F,series:this});D.push(oe)},q=G>E,Y=S(w),X=n.convert(E),U=n.convert(G),{size:H}=u;K("high",E,X),K("low",G,U);const $={high:{point:{x:Y,y:X},xDatum:V,yDatum:E},low:{point:{x:Y,y:U},xDatum:V,yDatum:G}};Array.isArray(W)?W.push($):W!=null?(W.skip+=1,A.push([$])):A.push([$])}else h||(Array.isArray(W)||W==null?A.push({skip:0}):W.skip+=1)},{dataAggregationFilters:v}=this,[N,O]=r.range,_=O-N,R=v?.find(w=>w.maxRange>_),I=R?.topIndices,T=R?.bottomIndices;let[C,M]=this.visibleRange("xValue",a.range,I);C=Math.max(C-1,0),M=Math.min(M+1,I?.length??m.length),i.input.count<1e3&&(C=0,M=i.input.count);for(let w=C;w<M;w+=1){const E=I?.[w]??w,G=T?.[w]??w;x(E,y[E],b[G])}const P=A.flatMap(w=>{if(!Array.isArray(w))return[];const E=w.map(G=>G.high);return interpolatePoints(E,d)}),B=A.flatMap(w=>{if(!Array.isArray(w))return[];const E=w.map(G=>G.low);return interpolatePoints(E,d)});return{itemId:`${c}-${p}`,labelData:D,nodeData:k,fillData:{itemId:"high",spans:P,phantomSpans:B},highStrokeData:{itemId:"high",spans:P},lowStrokeData:{itemId:"low",spans:B},scales:this.calculateScaling(),visible:this.visible}}createLabelData({datumIndex:e,point:t,value:i,itemId:o,inverted:a,datum:s,series:r}){const{xKey:n,yLowKey:l,yHighKey:c,xName:p,yName:h,yLowName:u,yHighName:d,label:f}=this.properties,{placement:g,padding:m=10}=f;let y=o;a&&(y=o==="low"?"high":"low");const b=g==="outside"&&y==="high"||g==="inside"&&y==="low"?-1:1;return{x:t.x,y:t.y+m*b,series:r,itemId:o,datum:s,datumIndex:e,text:this.getLabelText(f,{value:i,datum:s,itemId:o,xKey:n,yLowKey:l,yHighKey:c,xName:p,yLowName:u,yHighName:d,yName:h}),textAlign:"center",textBaseline:b===-1?"bottom":"top"}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(e){const{opacity:t,visible:i,animationEnabled:o}=e,[a,s]=e.paths,r=this.getStrokeWidth(this.properties.strokeWidth);s.setProperties({fill:void 0,lineCap:"round",lineJoin:"round",pointerEvents:PointerEvents2.None,stroke:this.properties.stroke,strokeWidth:r,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:t,visible:i||o});const n=getShapeFill2(this.properties.fill,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults),l=this.getShapeFillBBox();applyShapeFillBBox3(a,n,l),a.setProperties({stroke:void 0,lineJoin:"round",pointerEvents:PointerEvents2.None,fill:n,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,strokeWidth:r,opacity:t,visible:i||o}),updateClipPath(this,s),updateClipPath(this,a)}updatePaths(e){this.updateAreaPaths(e.paths,e.contextData)}updateAreaPaths(e,t){for(const i of e)i.visible=t.visible;if(t.visible)this.updateFillPath(e,t),this.updateStrokePath(e,t);else for(const i of e)i.path.clear(),i.markDirty("RangeArea")}updateFillPath(e,t){const[i]=e;i.path.clear(),plotAreaPathFill(i,t.fillData),i.markDirty("RangeArea")}updateStrokePath(e,t){const[,i]=e;i.path.clear(),plotLinePathStroke(i,t.highStrokeData.spans),plotLinePathStroke(i,t.lowStrokeData.spans),i.markDirty("RangeArea")}updateMarkerSelection(e){const{nodeData:t,markerSelection:i}=e;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?t:[])}getMarkerItemBaseStyle(e){const{properties:t}=this,{marker:i}=t,o=e?t.highlightStyle.item:void 0;return{shape:i.shape,size:i.size,fill:o?.fill??i.fill,fillOpacity:o?.fillOpacity??i.fillOpacity,stroke:o?.stroke??i.stroke,strokeWidth:o?.strokeWidth??this.getStrokeWidth(i.strokeWidth),strokeOpacity:o?.strokeOpacity??i.strokeOpacity,lineDash:o?.lineDash??i.lineDash,lineDashOffset:o?.lineDashOffset??i.lineDashOffset}}getMarkerItemStyleOverrides(e,t,i,o){const{id:a,properties:s}=this,{xKey:r,yHighKey:n,yLowKey:l,marker:c}=s,{itemStyler:p}=c;if(p!=null)return this.cachedDatumCallback(createDatumId6(e,o?"highlight":"node"),()=>this.callWithContext(p,{seriesId:a,datum:t,xKey:r,yHighKey:n,yLowKey:l,highlighted:o,...i}))}updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:o,yLowKey:a,yHighKey:s,marker:r,fill:n,stroke:l,strokeWidth:c,fillOpacity:p,strokeOpacity:h}=this.properties,u=mergeDefaults3(i&&this.properties.highlightStyle.item,r.getStyle(),{fill:n,fillOpacity:p,stroke:l,strokeWidth:c,strokeOpacity:h}),d=this.getShapeFillBBox();t.each((f,g)=>{this.updateMarkerStyle(r,f,g.datum,g.point,{xKey:o,yHighKey:s,yLowKey:a},i,u,d)}),i||this.properties.marker.markClean()}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t,o=>{o.pointerEvents=PointerEvents2.None})}updateLabelNodes(e){e.labelSelection.each((t,i)=>{updateLabelNode(t,this.properties.label,i)})}getHighlightLabelData(e,t){const i=e.filter(o=>o.datum===t.datum);return i.length>0?i:void 0}getHighlightData(e,t){const i=e.filter(o=>o.datum===t.datum);return i.length>0?i:void 0}getTooltipContent(e,t){const{id:i,dataModel:o,processedData:a,axes:s,properties:r}=this,{xName:n,yName:l,yLowKey:c,yLowName:p,xKey:h,yHighKey:u,yHighName:d,tooltip:f}=r,g=s[ChartAxisDirection9.X],m=s[ChartAxisDirection9.Y];if(!o||!a||!g||!m)return;const y=a.dataSources.get(this.id)?.[e],b=o.resolveKeysById(this,"xValue",a)[e],S=o.resolveColumnById(this,"yHighValue",a)[e],D=o.resolveColumnById(this,"yLowValue",a)[e];if(b==null)return;const k=this.getMarkerItemBaseStyle(!1);Object.assign(k,this.getMarkerItemStyleOverrides(String(e),e,k,!1));const A=`${m.formatDatum(D)} - ${m.formatDatum(S)}`;return f.formatTooltip(this.properties,{heading:g.formatDatum(b),symbol:this.legendItemSymbol(),data:[{label:l,fallbackLabel:`${p??c} - ${d??u}`,value:A}]},{seriesId:i,datum:y,title:l,itemId:t?.itemId??"unknown",xName:n,yName:l,yLowKey:c,yLowName:p,xKey:h,yHighKey:u,yHighName:d,...k})}legendItemSymbol(){const{fill:e,stroke:t,strokeWidth:i,strokeOpacity:o,lineDash:a,marker:s}=this.properties;return{marker:getShapeStyle4({shape:s.shape,fill:s.fill??e,stroke:s.stroke??t,fillOpacity:s.fillOpacity,strokeOpacity:s.strokeOpacity,strokeWidth:s.strokeWidth,lineDash:s.lineDash,lineDashOffset:s.lineDashOffset},s.fillGradientDefaults,s.fillPatternDefaults),line:{stroke:t,strokeOpacity:o,strokeWidth:i,lineDash:a}}}getLegendData(e){if(e!=="category")return[];const{id:t,visible:i}=this,{yLowKey:o,yHighKey:a,yName:s,yLowName:r,yHighName:n,showInLegend:l}=this.properties,c=s??`${r??o} - ${n??a}`,p=`${o}-${a}`;return[{legendType:"category",id:t,itemId:p,seriesId:t,enabled:i,label:{text:`${c}`},symbol:this.legendItemSymbol(),hideInLegend:!l}]}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}nodeFactory(){return new Group5}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,contextData:o,paths:a}=e,{animationManager:s}=this.ctx;this.updateAreaPaths(a,o),pathSwipeInAnimation(this,s,...a),resetMotion([t],resetMarkerPositionFn),markerSwipeScaleInAnimation(this,s,t),seriesLabelFadeInAnimation(this,"labels",s,i)}animateReadyResize(e){const{contextData:t,paths:i}=e;this.updateAreaPaths(i,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){const{animationManager:t}=this.ctx,{markerSelection:i,labelSelection:o,contextData:a,paths:s,previousContextData:r}=e,[n,l]=s;if(n==null&&l==null)return;this.resetMarkerAnimation(e),this.resetLabelAnimation(e);const c=()=>{this.resetPathAnimation(e),this.updateAreaPaths(s,a)},p=()=>{t.skipCurrentBatch(),c()};if(a==null||r==null){c(),markerFadeInAnimation(this,t,"added",i),pathFadeInAnimation(this,"fill_path_properties",t,"add",n),pathFadeInAnimation(this,"stroke_path_properties",t,"add",l),seriesLabelFadeInAnimation(this,"labels",t,o);return}const h=prepareRangeAreaPathAnimation(a,r,this.processedData?.reduced?.diff?.[this.id]);if(h===void 0){p();return}else if(h.status==="no-op")return;fromToMotion(this.id,"fill_path_properties",t,[n],h.fill.pathProperties),fromToMotion(this.id,"stroke_path_properties",t,[l],h.stroke.pathProperties),h.status==="added"?this.updateAreaPaths(s,a):h.status==="removed"?this.updateAreaPaths(s,r):(pathMotion(this.id,"fill_path_update",t,[n],h.fill.path),pathMotion(this.id,"stroke_path_update",t,[l],h.stroke.path)),h.hasMotion&&(markerFadeInAnimation(this,t,void 0,i),seriesLabelFadeInAnimation(this,"labels",t,o)),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(s,a)})}getFormattedMarkerStyle(e){const{xKey:t,yLowKey:i,yHighKey:o}=this.properties;return this.getMarkerStyle(this.properties.marker,e.datum,{xKey:t,yLowKey:i,yHighKey:o},!0)}computeFocusBounds(e){const t=computeMarkerFocusBounds(this,e),i=computeMarkerFocusBounds(this,{...e,datumIndex:e.datumIndex+1});if(t&&i)return BBox5.merge([t,i])}isDatumEnabled(e,t){return t%2===0&&super.isDatumEnabled(e,t)}};RangeAreaSeries.className="RangeAreaSeries",RangeAreaSeries.type="range-area";var import_ag_charts_community55=require("ag-charts-community"),import_ag_charts_core19=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs5,interpolationValidator,markerOptionsDefs,seriesLabelOptionsDefs,shadowOptionsDefs,tooltipOptionsDefs:tooltipOptionsDefs5}=import_ag_charts_community55._ModuleSupport,rangeAreaSeriesOptionsDef={type:(0,import_ag_charts_core19.required)((0,import_ag_charts_core19.constant)("range-area")),xKey:(0,import_ag_charts_core19.required)(import_ag_charts_core19.string),yLowKey:(0,import_ag_charts_core19.required)(import_ag_charts_core19.string),yHighKey:(0,import_ag_charts_core19.required)(import_ag_charts_core19.string),xName:import_ag_charts_core19.string,yName:import_ag_charts_core19.string,yLowName:import_ag_charts_core19.string,yHighName:import_ag_charts_core19.string,showInMiniChart:import_ag_charts_core19.boolean,connectMissingData:import_ag_charts_core19.boolean,interpolation:interpolationValidator,label:{...seriesLabelOptionsDefs,padding:import_ag_charts_core19.positiveNumber,placement:(0,import_ag_charts_core19.union)("inside","outside")},marker:markerOptionsDefs,tooltip:tooltipOptionsDefs5,shadow:shadowOptionsDefs,...commonSeriesOptionsDefs5,...import_ag_charts_core19.fillOptionsDef,...import_ag_charts_core19.strokeOptionsDef,...import_ag_charts_core19.lineDashOptionsDef};rangeAreaSeriesOptionsDef.pickOutsideVisibleMinorAxis=import_ag_charts_core19.boolean,rangeAreaSeriesOptionsDef.focusPriority=import_ag_charts_core19.number;var import_ag_charts_community56=require("ag-charts-community"),RANGE_AREA_SERIES_THEME={series:{fill:{$palette:"fill"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community56._ModuleSupport.FILL_PATTERN_DEFAULTS,stroke:{$palette:"stroke"},fillOpacity:.7,nodeClickRange:"nearest",marker:{enabled:!1,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!0},fillPatternDefaults:import_ag_charts_community56._ModuleSupport.FILL_PATTERN_DEFAULTS,size:6,strokeWidth:2},label:{enabled:!1,placement:"outside",padding:10,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},interpolation:{type:"linear"}},axes:{[import_ag_charts_community56._ModuleSupport.ThemeConstants.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{enabled:!0}}}},{ThemeConstants:{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE6,CARTESIAN_POSITION:CARTESIAN_POSITION4}}=import_ag_charts_community57._ModuleSupport,RangeAreaModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-area",moduleFactory:e=>new RangeAreaSeries(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:CARTESIAN_AXIS_TYPE6.NUMBER,position:CARTESIAN_POSITION4.LEFT},{type:CARTESIAN_AXIS_TYPE6.CATEGORY,position:CARTESIAN_POSITION4.BOTTOM}],themeTemplate:RANGE_AREA_SERIES_THEME},RangeAreaSeriesModule={type:"series",name:"range-area",chartType:"cartesian",enterprise:!0,options:rangeAreaSeriesOptionsDef,create:e=>new RangeAreaSeries(e)},import_ag_charts_community62=require("ag-charts-community"),import_ag_charts_community59=require("ag-charts-community"),AGGREGATION_THRESHOLD3=1e3,PRECISION=5;function aggregateRangeBarData(e,t,i,o){if(e.length<AGGREGATION_THRESHOLD3)return;const[a,s]=aggregationDomain(o);let r=maxRangeFittingPoints(e,PRECISION),{indexData:n,valueData:l}=createAggregationIndices(e,t,i,a,s,r);const c=[{maxRange:r,indexData:n}];for(;r>64;)({indexData:n,valueData:l,maxRange:r}=compactAggregationIndices(n,l,r)),c.push({maxRange:r,indexData:n});return c.reverse(),c}var import_ag_charts_community58=require("ag-charts-community"),{AbstractBarSeriesProperties:AbstractBarSeriesProperties3,FillGradientDefaults:FillGradientDefaults4,FillPatternDefaults:FillPatternDefaults4,SeriesTooltip:SeriesTooltip6,TempValidate:TempValidate18,COLOR_STRING:COLOR_STRING7,FUNCTION:FUNCTION5,LINE_DASH:LINE_DASH6,OBJECT:OBJECT9,PLACEMENT:PLACEMENT2,POSITIVE_NUMBER:POSITIVE_NUMBER9,RATIO:RATIO9,STRING:STRING6,BOOLEAN:BOOLEAN4,COLOR_GRADIENT:COLOR_GRADIENT4,COLOR_PATTERN:COLOR_PATTERN4,OR:OR5,DropShadow:DropShadow2,Label:Label2}=import_ag_charts_community58._ModuleSupport,RangeBarSeriesLabel=class extends Label2{constructor(){super(...arguments),this.placement="inside",this.padding=6}};__decorateClass([TempValidate18(PLACEMENT2)],RangeBarSeriesLabel.prototype,"placement",2),__decorateClass([TempValidate18(POSITIVE_NUMBER9)],RangeBarSeriesLabel.prototype,"padding",2);var RangeBarProperties=class extends AbstractBarSeriesProperties3{constructor(){super(...arguments),this.fill="#99CCFF",this.fillGradientDefaults=new FillGradientDefaults4,this.fillPatternDefaults=new FillPatternDefaults4,this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.shadow=new DropShadow2().set({enabled:!1}),this.label=new RangeBarSeriesLabel,this.tooltip=new SeriesTooltip6,this.fastDataProcessing=!1}};__decorateClass([TempValidate18(STRING6)],RangeBarProperties.prototype,"xKey",2),__decorateClass([TempValidate18(STRING6)],RangeBarProperties.prototype,"yLowKey",2),__decorateClass([TempValidate18(STRING6)],RangeBarProperties.prototype,"yHighKey",2),__decorateClass([TempValidate18(STRING6,{optional:!0})],RangeBarProperties.prototype,"xName",2),__decorateClass([TempValidate18(STRING6,{optional:!0})],RangeBarProperties.prototype,"yName",2),__decorateClass([TempValidate18(STRING6,{optional:!0})],RangeBarProperties.prototype,"yLowName",2),__decorateClass([TempValidate18(STRING6,{optional:!0})],RangeBarProperties.prototype,"yHighName",2),__decorateClass([TempValidate18(OR5(COLOR_GRADIENT4,COLOR_PATTERN4,COLOR_STRING7))],RangeBarProperties.prototype,"fill",2),__decorateClass([TempValidate18(OBJECT9)],RangeBarProperties.prototype,"fillGradientDefaults",2),__decorateClass([TempValidate18(OBJECT9)],RangeBarProperties.prototype,"fillPatternDefaults",2),__decorateClass([TempValidate18(RATIO9)],RangeBarProperties.prototype,"fillOpacity",2),__decorateClass([TempValidate18(COLOR_STRING7)],RangeBarProperties.prototype,"stroke",2),__decorateClass([TempValidate18(POSITIVE_NUMBER9)],RangeBarProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate18(RATIO9)],RangeBarProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate18(LINE_DASH6)],RangeBarProperties.prototype,"lineDash",2),__decorateClass([TempValidate18(POSITIVE_NUMBER9)],RangeBarProperties.prototype,"lineDashOffset",2),__decorateClass([TempValidate18(POSITIVE_NUMBER9)],RangeBarProperties.prototype,"cornerRadius",2),__decorateClass([TempValidate18(FUNCTION5,{optional:!0})],RangeBarProperties.prototype,"itemStyler",2),__decorateClass([TempValidate18(OBJECT9)],RangeBarProperties.prototype,"shadow",2),__decorateClass([TempValidate18(OBJECT9)],RangeBarProperties.prototype,"label",2),__decorateClass([TempValidate18(OBJECT9)],RangeBarProperties.prototype,"tooltip",2),__decorateClass([TempValidate18(BOOLEAN4)],RangeBarProperties.prototype,"fastDataProcessing",2);var{SeriesNodePickMode:SeriesNodePickMode4,valueProperty:valueProperty5,keyProperty:keyProperty4,ChartAxisDirection:ChartAxisDirection10,checkCrisp,updateLabelNode:updateLabelNode2,SMALLEST_KEY_INTERVAL:SMALLEST_KEY_INTERVAL3,LARGEST_KEY_INTERVAL,diff:diff4,prepareBarAnimationFunctions,midpointStartingBarPosition,resetBarSelectionsFn,fixNumericExtent:fixNumericExtent4,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation2,resetLabelFn:resetLabelFn2,animationValidation:animationValidation4,computeBarFocusBounds:computeBarFocusBounds4,visibleRangeIndices:visibleRangeIndices2,createDatumId:createDatumId7,ContinuousScale:ContinuousScale5,OrdinalTimeScale:OrdinalTimeScale4,Rect:Rect3,PointerEvents:PointerEvents3,motion:motion2,applyShapeStyle:applyShapeStyle2,findMinMax:findMinMax4,getShapeStyle:getShapeStyle5}=import_ag_charts_community59._ModuleSupport,RangeBarSeriesNodeEvent=class extends import_ag_charts_community59._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.xKey=o.properties.xKey,this.yLowKey=o.properties.yLowKey,this.yHighKey=o.properties.yHighKey}},RangeBarSeries=class extends import_ag_charts_community59._ModuleSupport.AbstractBarSeries{constructor(e){super({moduleCtx:e,pickModes:[SeriesNodePickMode4.AXIS_ALIGNED,SeriesNodePickMode4.EXACT_SHAPE_MATCH],hasHighlightedLabels:!0,directionKeys:{x:["xKey"],y:["yLowKey","yHighKey"]},directionNames:{x:["xName"],y:["yLowName","yHighName","yName"]},categoryKey:"xValue",datumSelectionGarbageCollection:!1,animationResetFns:{datum:resetBarSelectionsFn,label:resetLabelFn2}}),this.properties=new RangeBarProperties,this.dataAggregationFilters=void 0,this.NodeEvent=RangeBarSeriesNodeEvent}async processData(e){if(!this.properties.isValid())return;const{xKey:t,yLowKey:i,yHighKey:o,fastDataProcessing:a}=this.properties,s=!a,r=this.getCategoryAxis()?.scale,n=this.getValueAxis()?.scale,{isContinuousX:l,xScaleType:c,yScaleType:p}=this.getScaleInformation({xScale:r,yScale:n}),h=[];this.ctx.animationManager.isSkipped()||(this.processedData&&h.push(diff4(this.id,this.processedData)),h.push(animationValidation4()));const u=this.visible?{}:{forceValue:0},{dataModel:d,processedData:f}=await this.requestDataModel(e,this.data,{props:[keyProperty4(t,c,{id:"xValue"}),valueProperty5(i,p,{id:"yLowValue",invalidValue:null,...u}),valueProperty5(o,p,{id:"yHighValue",invalidValue:null,...u}),...l?[SMALLEST_KEY_INTERVAL3,LARGEST_KEY_INTERVAL]:[],...h],groupByKeys:s});this.smallestDataInterval=f.reduced?.smallestKeyInterval,this.largestDataInterval=f.reduced?.largestKeyInterval,this.dataAggregationFilters=this.aggregateData(d,f),this.animationState.transition("updateData")}aggregateData(e,t){if(t.type!=="grouped")return;const i=this.axes[ChartAxisDirection10.X];if(i==null||!(ContinuousScale5.is(i.scale)||OrdinalTimeScale4.is(i.scale)))return;const o=e.resolveKeysById(this,"xValue",t),a=e.resolveColumnById(this,"yHighValue",t),s=e.resolveColumnById(this,"yLowValue",t),{index:r}=e.resolveProcessedDataDefById(this,"xValue"),n=t.domain.keys[r];return aggregateRangeBarData(o,a,s,n)}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!t||!i)return[];const{keys:[o]}=t.domain;if(e===this.getCategoryDirection()){const a=i.resolveProcessedDataDefById(this,"xValue");return a?.def.type==="key"&&a?.def.valueType==="category"?o:this.padBandExtent(o)}else{const a=this.domainForClippedRange(ChartAxisDirection10.Y,["yHighValue","yLowValue"],"xValue",!0),s=findMinMax4(a);return fixNumericExtent4(s)}}getSeriesRange(e,t){return this.domainForVisibleRange(ChartAxisDirection10.Y,["yHighValue","yLowValue"],"xValue",t,!0)}createNodeData(){const{data:e,dataModel:t,groupScale:i,processedData:o,visible:a}=this,s=this.getCategoryAxis(),r=this.getValueAxis();if(!(e&&s&&r&&t&&o?.dataSources))return;const n=s.scale,l=r.scale,c=this.getBarDirection()===ChartAxisDirection10.X,{xKey:p,yLowKey:h,yHighKey:u,strokeWidth:d}=this.properties,f=`${h}-${u}`,g={itemId:f,nodeData:[],labelData:[],scales:this.calculateScaling(),visible:this.visible};if(!a)return g;const m=o.dataSources.get(this.id)??[],y=t.resolveKeysById(this,"xValue",o),b=t.resolveColumnById(this,"yLowValue",o),S=t.resolveColumnById(this,"yHighValue",o),{barWidth:D,groupIndex:k}=this.updateGroupScale(s),A=ContinuousScale5.is(n)?D*-.5:0,x=i.convert(String(k)),v=checkCrisp(s?.scale,s?.visibleRange,this.smallestDataInterval,this.largestDataInterval),N=M=>Math.round(n.convert(y[M]))+x+A,O=(M,P,B,L,w,E,G)=>{const F=m[M],V=y[M];if(V==null)return;const W=b[M],K=S[M];if(!Number.isFinite(W?.valueOf())||!Number.isFinite(K?.valueOf()))return;const[q,Y]=W<K?[W,K]:[K,W],X=Math.round(l.convert(E)),U=Math.round(l.convert(w)),H=Math.max(d,Math.abs(U-X)),$={x:c?Math.min(X,U):B,y:c?B:Math.min(X,U),width:c?H:L,height:c?L:H},j={x:$.x+$.width/2,y:$.y+$.height/2},Z=this.createLabelData({datumIndex:M,rect:$,barAlongX:c,yLowValue:q,yHighValue:Y,datum:F,series:this}),z={index:P,valueIndex:M,series:this,itemId:f,datum:F,datumIndex:M,xValue:V,yLowValue:W,yHighValue:K,yLowKey:h,yHighKey:u,xKey:p,x:$.x,y:$.y,width:$.width,height:$.height,midPoint:j,crisp:G,labels:Z};g.nodeData.push(z),g.labelData.push(...Z)},{dataAggregationFilters:_}=this,[R,I]=n.range,T=I-R,C=_?.find(M=>M.maxRange>T);if(C!=null){const{maxRange:M,indexData:P}=C,[B,L]=visibleRangeIndices2(M,s.range,w=>{const E=w*SPAN,G=P[E+X_MIN],F=P[E+X_MAX];if(G===-1)return;const V=(G+F)/2|0;return[N(V),N(F)+D]});for(let w=B;w<L;w+=1){const E=w*SPAN,G=P[E+X_MIN],F=P[E+X_MAX],V=P[E+Y_MIN],W=P[E+Y_MAX];if(G===-1)continue;const K=(G+F)/2|0;if(y[K]==null)continue;const Y=N(K),X=Math.abs(N(G)-N(F))+D,U=b[V],H=S[W];O(K,0,Y,X,U,H,!1)}}else if(o.type==="ungrouped"){let[M,P]=visibleRangeIndices2(m.length,s.range,B=>[N(B),D]);o.input.count<1e3&&(M=0,P=o.input.count);for(let B=M;B<P;B+=1){const L=N(B),w=D,E=b[B],G=S[B];O(B,0,L,w,E,G,v)}}else for(const{datumIndex:M,groupIndex:P}of t.forEachGroupDatum(this,o)){const B=N(M),L=D,w=b[M],E=S[M];O(M,P,B,L,w,E,v)}return g}createLabelData({datumIndex:e,rect:t,barAlongX:i,yLowValue:o,yHighValue:a,datum:s,series:r}){const{xKey:n,yLowKey:l,yHighKey:c,xName:p,yLowName:h,yHighName:u,yName:d,label:f}=this.properties,g={datum:s,xKey:n,yLowKey:l,yHighKey:c,xName:p,yLowName:h,yHighName:u,yName:d},{placement:m,padding:y}=f,S=y*(m==="outside"?1:-1),D={datumIndex:e,x:t.x+(i?-S:t.width/2),y:t.y+(i?t.height/2:t.height+S),textAlign:i?"left":"center",textBaseline:i?"middle":"bottom",text:this.getLabelText(f,{itemId:"low",value:o,...g}),itemId:"low",datum:s,series:r},k={datumIndex:e,x:t.x+(i?t.width+S:t.width/2),y:t.y+(i?t.height/2:-S),textAlign:i?"right":"center",textBaseline:i?"middle":"top",text:this.getLabelText(f,{itemId:"high",value:a,...g}),itemId:"high",datum:s,series:r};return m==="outside"&&(D.textAlign=i?"right":"center",D.textBaseline=i?"middle":"top",k.textAlign=i?"left":"center",k.textBaseline=i?"middle":"bottom"),[D,k]}nodeFactory(){return new Rect3}updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,o=t??[];return i.update(o,void 0,a=>this.getDatumId(a))}getItemBaseStyle(e){const{properties:t}=this,{cornerRadius:i,fillGradientDefaults:o,fillPatternDefaults:a}=t,s=e?t.highlightStyle.item:void 0;return getShapeStyle5({fill:s?.fill??t.fill,fillOpacity:s?.fillOpacity??t.fillOpacity,stroke:s?.stroke??t.stroke,strokeWidth:s?.strokeWidth??this.getStrokeWidth(t.strokeWidth),strokeOpacity:s?.strokeOpacity??t.strokeOpacity,lineDash:s?.lineDash??t.lineDash??[],lineDashOffset:s?.lineDashOffset??t.lineDashOffset,cornerRadius:i},o,a)}getItemStyleOverrides(e,t,i,o){const{id:a,properties:s}=this,{xKey:r,yHighKey:n,yLowKey:l,itemStyler:c,fillGradientDefaults:p,fillPatternDefaults:h}=s;if(c==null)return;const u=this.cachedDatumCallback(createDatumId7(e,o?"highlight":"node"),()=>this.callWithContext(c,{seriesId:a,datum:t,xKey:r,yHighKey:n,yLowKey:l,highlighted:o,...i}));return getShapeStyle5(u,p,h)}updateDatumNodes(e){const{datumSelection:t,isHighlight:i}=e,o=this.getCategoryDirection()===ChartAxisDirection10.X,a=this.getItemBaseStyle(i),s=this.getShapeFillBBox();t.each((r,n)=>{const l=this.getItemStyleOverrides(String(n.datumIndex),n.datum,a,i);applyShapeStyle2(r,a,l,s),r.cornerRadius=l?.cornerRadius??a.cornerRadius,r.visible=o?n.width>0:n.height>0,r.crisp=n.crisp})}getHighlightLabelData(e,t){const i=e.filter(o=>o.datum===t.datum);return i.length>0?i:void 0}updateLabelSelection(e){const t=this.properties.label.enabled?e.labelData:[];return e.labelSelection.update(t,i=>{i.pointerEvents=PointerEvents3.None})}updateLabelNodes(e){e.labelSelection.each((t,i)=>{updateLabelNode2(t,this.properties.label,i)})}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,properties:a}=this,{xKey:s,xName:r,yName:n,yLowKey:l,yHighKey:c,yLowName:p,yHighName:h,tooltip:u}=a,d=this.getCategoryAxis(),f=this.getValueAxis();if(!i||!o||!d||!f)return;const g=o.dataSources.get(this.id)?.[e],m=i.resolveKeysById(this,"xValue",o)[e],y=i.resolveColumnById(this,"yHighValue",o)[e],b=i.resolveColumnById(this,"yLowValue",o)[e];if(m==null)return;const S=this.getItemBaseStyle(!1);Object.assign(S,this.getItemStyleOverrides(String(e),g,S,!1));const D=`${f.formatDatum(b)} - ${f.formatDatum(y)}`;return u.formatTooltip(this.properties,{heading:d.formatDatum(m),symbol:this.legendItemSymbol(),data:[{label:n,fallbackLabel:`${p??l} - ${h??c}`,value:D}]},{seriesId:t,datum:g,title:n,xKey:s,xName:r,yName:n,yLowKey:l,yHighKey:c,yLowName:p,yHighName:h,...S})}legendItemSymbol(){const{fill:e,stroke:t,strokeWidth:i,fillOpacity:o,strokeOpacity:a,lineDash:s,lineDashOffset:r,fillGradientDefaults:n,fillPatternDefaults:l}=this.properties;return{marker:getShapeStyle5({fill:e,stroke:t,fillOpacity:o,strokeOpacity:a,strokeWidth:i,lineDash:s,lineDashOffset:r},n,l)}}getLegendData(e){if(e!=="category")return[];const{id:t,visible:i}=this,{yName:o,yLowName:a,yHighName:s,yLowKey:r,yHighKey:n,showInLegend:l}=this.properties,c=o??`${a??r} - ${s??n}`,p=`${r}-${n}`;return[{legendType:"category",id:t,itemId:p,seriesId:t,enabled:i,label:{text:`${c}`},symbol:this.legendItemSymbol(),hideInLegend:!l}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t}){const i=prepareBarAnimationFunctions(midpointStartingBarPosition(this.isVertical(),"normal"));motion2.fromToMotion(this.id,"datums",this.ctx.animationManager,[e],i),seriesLabelFadeInAnimation2(this,"labels",this.ctx.animationManager,t)}animateWaitingUpdateReady(e){const{datumSelection:t,labelSelection:i,previousContextData:o}=e,{processedData:a}=this,s=a?.reduced?.diff?.[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);const r=o==null?"fade":"normal",n=prepareBarAnimationFunctions(midpointStartingBarPosition(this.isVertical(),r));motion2.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],n,(l,c)=>this.getDatumId(c),s),seriesLabelFadeInAnimation2(this,"labels",this.ctx.animationManager,i)}getDatumId(e){return`${e.xValue}-${e.valueIndex}`}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}computeFocusBounds({datumIndex:e}){return computeBarFocusBounds4(this,this.contextNodeData?.nodeData[e])}};RangeBarSeries.className="RangeBarSeries",RangeBarSeries.type="range-bar";var import_ag_charts_community60=require("ag-charts-community"),import_ag_charts_core20=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs6,seriesLabelOptionsDefs:seriesLabelOptionsDefs2,shadowOptionsDefs:shadowOptionsDefs2,tooltipOptionsDefs:tooltipOptionsDefs6}=import_ag_charts_community60._ModuleSupport,rangeBarSeriesOptionsDef={type:(0,import_ag_charts_core20.required)((0,import_ag_charts_core20.constant)("range-bar")),xKey:(0,import_ag_charts_core20.required)(import_ag_charts_core20.string),yLowKey:(0,import_ag_charts_core20.required)(import_ag_charts_core20.string),yHighKey:(0,import_ag_charts_core20.required)(import_ag_charts_core20.string),xName:import_ag_charts_core20.string,yName:import_ag_charts_core20.string,yLowName:import_ag_charts_core20.string,yHighName:import_ag_charts_core20.string,direction:(0,import_ag_charts_core20.union)("horizontal","vertical"),showInMiniChart:import_ag_charts_core20.boolean,cornerRadius:import_ag_charts_core20.positiveNumber,itemStyler:import_ag_charts_core20.callback,label:{...seriesLabelOptionsDefs2,padding:import_ag_charts_core20.positiveNumber,placement:(0,import_ag_charts_core20.union)("inside","outside")},tooltip:tooltipOptionsDefs6,shadow:shadowOptionsDefs2,...commonSeriesOptionsDefs6,...import_ag_charts_core20.fillOptionsDef,...import_ag_charts_core20.strokeOptionsDef,...import_ag_charts_core20.lineDashOptionsDef};rangeBarSeriesOptionsDef.pickOutsideVisibleMinorAxis=import_ag_charts_core20.boolean,rangeBarSeriesOptionsDef.fastDataProcessing=import_ag_charts_core20.boolean,rangeBarSeriesOptionsDef.focusPriority=import_ag_charts_core20.number;var import_ag_charts_community61=require("ag-charts-community"),RANGE_BAR_SERIES_THEME={series:{direction:"vertical",fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community61._ModuleSupport.FILL_PATTERN_DEFAULTS,strokeWidth:0,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"},placement:"inside"}},axes:{[import_ag_charts_community61._ModuleSupport.ThemeConstants.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{enabled:!0}}}},RangeBarModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-bar",moduleFactory:e=>new RangeBarSeries(e),tooltipDefaults:{range:"exact"},defaultAxes:import_ag_charts_community62._ModuleSupport.DIRECTION_SWAP_AXES,themeTemplate:RANGE_BAR_SERIES_THEME,groupable:!0},RangeBarSeriesModule={type:"series",name:"range-bar",chartType:"cartesian",enterprise:!0,options:rangeBarSeriesOptionsDef,create:e=>new RangeBarSeries(e)},import_ag_charts_community67=require("ag-charts-community"),import_ag_charts_community64=require("ag-charts-community"),import_ag_charts_community63=require("ag-charts-community"),{AbstractBarSeriesProperties:AbstractBarSeriesProperties4,BaseProperties:BaseProperties5,FillGradientDefaults:FillGradientDefaults5,FillPatternDefaults:FillPatternDefaults5,PropertiesArray,SeriesTooltip:SeriesTooltip7,TempValidate:TempValidate19,BOOLEAN:BOOLEAN5,COLOR_STRING:COLOR_STRING8,COLOR_PATTERN:COLOR_PATTERN5,FUNCTION:FUNCTION6,LINE_DASH:LINE_DASH7,NUMBER:NUMBER6,OBJECT:OBJECT10,OBJECT_ARRAY,POSITIVE_NUMBER:POSITIVE_NUMBER10,OR:OR6,COLOR_GRADIENT:COLOR_GRADIENT5,RATIO:RATIO10,STRING:STRING7,UNION:UNION3,DropShadow:DropShadow3,Label:Label3}=import_ag_charts_community63._ModuleSupport,WaterfallSeriesTotal=class extends BaseProperties5{};__decorateClass([TempValidate19(UNION3(["subtotal","total"],"a total type"))],WaterfallSeriesTotal.prototype,"totalType",2),__decorateClass([TempValidate19(NUMBER6)],WaterfallSeriesTotal.prototype,"index",2),__decorateClass([TempValidate19(STRING7)],WaterfallSeriesTotal.prototype,"axisLabel",2);var WaterfallSeriesItemTooltip=class extends BaseProperties5{};__decorateClass([TempValidate19(FUNCTION6,{optional:!0})],WaterfallSeriesItemTooltip.prototype,"renderer",2);var WaterfallSeriesLabel=class extends Label3{constructor(){super(...arguments),this.placement="outside-end",this.padding=6}};__decorateClass([TempValidate19(UNION3(["inside-center","inside-start","inside-end","outside-start","outside-end"],"a placement"))],WaterfallSeriesLabel.prototype,"placement",2),__decorateClass([TempValidate19(POSITIVE_NUMBER10)],WaterfallSeriesLabel.prototype,"padding",2);var WaterfallSeriesItem=class extends BaseProperties5{constructor(){super(...arguments),this.fill="#c16068",this.fillGradientDefaults=new FillGradientDefaults5,this.fillPatternDefaults=new FillPatternDefaults5,this.stroke="#c16068",this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=1,this.cornerRadius=0,this.shadow=new DropShadow3().set({enabled:!1}),this.label=new WaterfallSeriesLabel,this.tooltip=new WaterfallSeriesItemTooltip}};__decorateClass([TempValidate19(STRING7,{optional:!0})],WaterfallSeriesItem.prototype,"name",2),__decorateClass([TempValidate19(OR6(COLOR_GRADIENT5,COLOR_STRING8,COLOR_PATTERN5))],WaterfallSeriesItem.prototype,"fill",2),__decorateClass([TempValidate19(OBJECT10)],WaterfallSeriesItem.prototype,"fillGradientDefaults",2),__decorateClass([TempValidate19(OBJECT10)],WaterfallSeriesItem.prototype,"fillPatternDefaults",2),__decorateClass([TempValidate19(COLOR_STRING8)],WaterfallSeriesItem.prototype,"stroke",2),__decorateClass([TempValidate19(RATIO10)],WaterfallSeriesItem.prototype,"fillOpacity",2),__decorateClass([TempValidate19(RATIO10)],WaterfallSeriesItem.prototype,"strokeOpacity",2),__decorateClass([TempValidate19(LINE_DASH7)],WaterfallSeriesItem.prototype,"lineDash",2),__decorateClass([TempValidate19(POSITIVE_NUMBER10)],WaterfallSeriesItem.prototype,"lineDashOffset",2),__decorateClass([TempValidate19(POSITIVE_NUMBER10)],WaterfallSeriesItem.prototype,"strokeWidth",2),__decorateClass([TempValidate19(POSITIVE_NUMBER10)],WaterfallSeriesItem.prototype,"cornerRadius",2),__decorateClass([TempValidate19(FUNCTION6,{optional:!0})],WaterfallSeriesItem.prototype,"itemStyler",2),__decorateClass([TempValidate19(OBJECT10)],WaterfallSeriesItem.prototype,"shadow",2),__decorateClass([TempValidate19(OBJECT10)],WaterfallSeriesItem.prototype,"label",2),__decorateClass([TempValidate19(OBJECT10)],WaterfallSeriesItem.prototype,"tooltip",2);var WaterfallSeriesConnectorLine=class extends BaseProperties5{constructor(){super(...arguments),this.enabled=!0,this.stroke="black",this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=2}};__decorateClass([TempValidate19(BOOLEAN5)],WaterfallSeriesConnectorLine.prototype,"enabled",2),__decorateClass([TempValidate19(COLOR_STRING8)],WaterfallSeriesConnectorLine.prototype,"stroke",2),__decorateClass([TempValidate19(RATIO10)],WaterfallSeriesConnectorLine.prototype,"strokeOpacity",2),__decorateClass([TempValidate19(LINE_DASH7)],WaterfallSeriesConnectorLine.prototype,"lineDash",2),__decorateClass([TempValidate19(POSITIVE_NUMBER10)],WaterfallSeriesConnectorLine.prototype,"lineDashOffset",2),__decorateClass([TempValidate19(POSITIVE_NUMBER10)],WaterfallSeriesConnectorLine.prototype,"strokeWidth",2);var WaterfallSeriesItems=class extends BaseProperties5{constructor(){super(...arguments),this.positive=new WaterfallSeriesItem,this.negative=new WaterfallSeriesItem,this.total=new WaterfallSeriesItem}};__decorateClass([TempValidate19(OBJECT10)],WaterfallSeriesItems.prototype,"positive",2),__decorateClass([TempValidate19(OBJECT10)],WaterfallSeriesItems.prototype,"negative",2),__decorateClass([TempValidate19(OBJECT10)],WaterfallSeriesItems.prototype,"total",2);var WaterfallSeriesProperties=class extends AbstractBarSeriesProperties4{constructor(){super(...arguments),this.item=new WaterfallSeriesItems,this.totals=new PropertiesArray(WaterfallSeriesTotal),this.line=new WaterfallSeriesConnectorLine,this.tooltip=new SeriesTooltip7}};__decorateClass([TempValidate19(STRING7)],WaterfallSeriesProperties.prototype,"xKey",2),__decorateClass([TempValidate19(STRING7)],WaterfallSeriesProperties.prototype,"yKey",2),__decorateClass([TempValidate19(STRING7,{optional:!0})],WaterfallSeriesProperties.prototype,"xName",2),__decorateClass([TempValidate19(STRING7,{optional:!0})],WaterfallSeriesProperties.prototype,"yName",2),__decorateClass([TempValidate19(OBJECT10)],WaterfallSeriesProperties.prototype,"item",2),__decorateClass([TempValidate19(OBJECT_ARRAY)],WaterfallSeriesProperties.prototype,"totals",2),__decorateClass([TempValidate19(OBJECT10)],WaterfallSeriesProperties.prototype,"line",2),__decorateClass([TempValidate19(OBJECT10)],WaterfallSeriesProperties.prototype,"tooltip",2);var{adjustLabelPlacement,SeriesNodePickMode:SeriesNodePickMode5,fixNumericExtent:fixNumericExtent5,valueProperty:valueProperty6,keyProperty:keyProperty5,accumulativeValueProperty,trailingAccumulatedValueProperty,ChartAxisDirection:ChartAxisDirection11,createDatumId:createDatumId8,checkCrisp:checkCrisp2,updateLabelNode:updateLabelNode3,prepareBarAnimationFunctions:prepareBarAnimationFunctions2,collapsedStartingBarPosition,resetBarSelectionsFn:resetBarSelectionsFn2,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation3,resetLabelFn:resetLabelFn3,animationValidation:animationValidation5,DEFAULT_CARTESIAN_DIRECTION_KEYS:DEFAULT_CARTESIAN_DIRECTION_KEYS2,DEFAULT_CARTESIAN_DIRECTION_NAMES:DEFAULT_CARTESIAN_DIRECTION_NAMES2,computeBarFocusBounds:computeBarFocusBounds5,isContinuous,Rect:Rect4,motion:motion3,applyShapeStyle:applyShapeStyle3,getShapeStyle:getShapeStyle6}=import_ag_charts_community64._ModuleSupport,WaterfallSeries=class extends import_ag_charts_community64._ModuleSupport.AbstractBarSeries{constructor(e){super({moduleCtx:e,directionKeys:DEFAULT_CARTESIAN_DIRECTION_KEYS2,directionNames:DEFAULT_CARTESIAN_DIRECTION_NAMES2,categoryKey:void 0,pickModes:[SeriesNodePickMode5.NEAREST_NODE,SeriesNodePickMode5.EXACT_SHAPE_MATCH],pathsPerSeries:["connector"],hasHighlightedLabels:!0,pathsZIndexSubOrderOffset:[-1,-1],animationResetFns:{datum:resetBarSelectionsFn2,label:resetLabelFn3}}),this.properties=new WaterfallSeriesProperties,this.seriesItemTypes=new Set(["positive","negative","total"])}async processData(e){const{xKey:t,yKey:i,totals:o}=this.properties,{data:a=[]}=this;if(!this.properties.isValid()||!this.visible)return;const s=b=>isContinuous(b)&&Number(b)>=0,r=b=>isContinuous(b)&&Number(b)>=0,n=b=>b==="total"||b==="subtotal",l={missingValue:void 0,invalidValue:void 0},c=[],p=o.reduce((b,S)=>{const D=b.get(S.index);return D?D.push(S):b.set(S.index,[S]),b},new Map);a.forEach((b,S)=>{c.push(b),p.get(S)?.forEach(D=>c.push({...D.toJson(),[t]:D.axisLabel}))});const h=[];this.ctx.animationManager.isSkipped()||h.push(animationValidation5());const u=this.getCategoryAxis()?.scale,d=this.getValueAxis()?.scale,{isContinuousX:f,xScaleType:g,yScaleType:m}=this.getScaleInformation({xScale:u,yScale:d}),{processedData:y}=await this.requestDataModel(e,c,{props:[keyProperty5(t,g,{id:"xValue"}),accumulativeValueProperty(i,m,{...l,id:"yCurrent"}),accumulativeValueProperty(i,m,{...l,missingValue:0,id:"yCurrentTotal"}),accumulativeValueProperty(i,m,{...l,id:"yCurrentPositive",validation:s}),accumulativeValueProperty(i,m,{...l,id:"yCurrentNegative",validation:r}),trailingAccumulatedValueProperty(i,m,{...l,id:"yPrevious"}),valueProperty6(i,m,{id:"yRaw"}),valueProperty6("totalType","band",{id:"totalTypeValue",missingValue:void 0,validation:n}),...f?[import_ag_charts_community64._ModuleSupport.SMALLEST_KEY_INTERVAL,import_ag_charts_community64._ModuleSupport.LARGEST_KEY_INTERVAL]:[],...h]});this.smallestDataInterval=y.reduced?.smallestKeyInterval,this.largestDataInterval=y.reduced?.largestKeyInterval,this.updateSeriesItemTypes(),this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!t||!i)return[];const{keys:[o],values:a}=t.domain;if(e===this.getCategoryDirection()){const s=i.resolveProcessedDataDefById(this,"xValue");if(s?.def.type==="key"&&s?.def.valueType==="category")return o;const r=e===ChartAxisDirection11.Y,n=this.getCategoryAxis().isReversed();return this.padBandExtent(o,n!==r)}else{const s=i.resolveProcessedDataIndexById(this,"yCurrent"),r=a[s],n=[Math.min(0,r[0]),Math.max(0,r[1])];return fixNumericExtent5(n)}}getSeriesRange(e,t){return[NaN,NaN]}createNodeData(){const{data:e,dataModel:t,processedData:i}=this,o=this.getCategoryAxis(),a=this.getValueAxis();if(!e||!o||!a||!t||!i)return;const{line:s}=this.properties,r=o.scale,n=a.scale,l=this.getBarDirection()===ChartAxisDirection11.X,c=this.getBandwidth(o)??10,p=o.isReversed(),h=a.isReversed();if(i.type!=="ungrouped")return;const u={itemId:this.properties.yKey,nodeData:[],labelData:[],pointData:[],scales:this.calculateScaling(),visible:this.visible};if(!this.visible)return u;const d=[],f=t.resolveKeysById(this,"xValue",i),g=t.resolveColumnById(this,"yRaw",i),m=t.resolveColumnById(this,"totalTypeValue",i),y=t.resolveColumnById(this,"yCurrent",i),b=t.resolveColumnById(this,"yPrevious",i),S=t.resolveColumnById(this,"yCurrentTotal",i),D=checkCrisp2(o?.scale,o?.visibleRange,this.smallestDataInterval,this.largestDataInterval);function k(T,C,M){return T||C?{cumulativeValue:S[M],trailingValue:C?x:0}:{cumulativeValue:y[M],trailingValue:b[M]}}function A(T,C,M,P,B){return T?P:C?(P??0)-(B??0):M}let x=0;const{xKey:v,yKey:N,xName:O,yName:_}=this.properties;(i.dataSources.get(this.id)??[]).forEach((T,C)=>{const M=m[C],P=this.isSubtotal(M),B=this.isTotal(M),L=B||P,w=f[C];if(w==null)return;const E=Math.round(r.convert(w)),G=g[C],{cumulativeValue:F,trailingValue:V}=k(B,P,C);L&&(x=F??0);const W=Math.round(n.convert(F)),K=Math.round(n.convert(V)),q=A(B,P,G,F,V),Y=(q??0)>=0,X=this.getSeriesItemType(Y,M),{strokeWidth:U,label:H}=this.getItemConfig(X),$=Y?W:K,j=Y?K:W,Z=Math.max(U,Math.abs(j-$)),z={x:l?Math.min($,j):E,y:l?E:Math.min($,j),width:l?Z:c,height:l?c:Z},oe={x:z.x+z.width/2,y:z.y+z.height/2},ae=L?W:K,Q=Math.floor(s.strokeWidth)%2/2,te=p?W:ae,J=p?ae:W;let ee,ie;l?(ee={x:te+Q,y:z.y},ie={x:J+Q,y:z.y+z.height}):(ee={x:z.x,y:te+Q},ie={x:z.x+z.width,y:J+Q});const se={x:p?ie.x:ee.x,y:p?ie.y:ee.y,x2:p?ee.x:ie.x,y2:p?ee.y:ie.y,size:0};d.push(se);const re=X==="subtotal"?"total":X,ne=this.getLabelText(H,{itemId:re,value:q,datum:T,xKey:v,yKey:N,xName:O,yName:_}),pe={index:C,series:this,itemId:X,datum:T,datumIndex:C,cumulativeValue:F??0,xValue:w,yValue:q,yKey:N,xKey:v,x:z.x,y:z.y,width:z.width,height:z.height,midPoint:oe,crisp:D,label:{text:ne,...adjustLabelPlacement({isUpward:(q??-1)>=0!==h,isVertical:!l,placement:H.placement,padding:H.padding,rect:z})}};u.nodeData.push(pe),u.labelData.push(pe)});const I=this.properties.line.enabled;return y!=null&&I&&(u.pointData=d),u}updateSeriesItemTypes(){const{dataModel:e,seriesItemTypes:t,processedData:i}=this;if(!e||!i)return;t.clear();const o=e.resolveProcessedDataIndexById(this,"yCurrentPositive"),a=e.resolveProcessedDataIndexById(this,"yCurrentNegative"),s=e.resolveProcessedDataIndexById(this,"totalTypeValue"),r=i.domain.values[o]??[],n=i.domain.values[a]??[];r.length>0&&t.add("positive"),n.length>0&&t.add("negative");const l=i?.domain.values[s];l&&l.forEach(c=>{(c==="total"||c==="subtotal")&&t.add("total")})}isSubtotal(e){return e==="subtotal"}isTotal(e){return e==="total"}nodeFactory(){return new Rect4}getSeriesItemType(e,t){return t??(e?"positive":"negative")}getItemConfig(e){switch(e){case"positive":return this.properties.item.positive;case"negative":return this.properties.item.negative;case"subtotal":case"total":return this.properties.item.total}}updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,o=t??[];return i.update(o)}getItemStyle(e,t,i,o){const{id:a,properties:s}=this,r=s.item[i==="subtotal"?"total":i],n=o?s.highlightStyle.item:void 0,{itemStyler:l,fillGradientDefaults:c,fillPatternDefaults:p}=r,{xKey:h,yKey:u}=s,d=getShapeStyle6({fill:n?.fill??r.fill,fillOpacity:n?.fillOpacity??r.fillOpacity,stroke:n?.stroke??r.stroke,strokeWidth:n?.strokeWidth??r.strokeWidth,strokeOpacity:n?.strokeOpacity??r.strokeOpacity,lineDash:n?.lineDash??r.lineDash??[],lineDashOffset:n?.lineDashOffset??r.lineDashOffset,cornerRadius:r.cornerRadius},c,p);if(l!=null){let f=this.cachedDatumCallback(createDatumId8(e,o?"highlight":"node"),()=>this.callWithContext(l,{seriesId:a,itemId:i,datum:t,xKey:h,yKey:u,highlighted:o,...d}));f=getShapeStyle6(f,c,p),Object.assign(d,f)}return d}updateDatumNodes(e){const{datumSelection:t,isHighlight:i}=e,o=this.getCategoryDirection()===ChartAxisDirection11.X,a=this.getShapeFillBBox();t.each((s,r)=>{const n=r.itemId,l=this.getItemStyle(String(r.datumIndex),r.datum,n,i);applyShapeStyle3(s,l,void 0,a),s.visible=o?r.width>0:r.height>0,s.crisp=r.crisp})}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;if(t.length===0)return i.update([]);const o=t.filter(a=>{const{label:s}=this.getItemConfig(a.itemId);return s.enabled});return i.update(o)}updateLabelNodes(e){e.labelSelection.each((t,i)=>{updateLabelNode3(t,this.getItemConfig(i.itemId).label,i.label)})}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,properties:a}=this,{xKey:s,xName:r,yKey:n,yName:l,tooltip:c}=a,p=this.getCategoryAxis(),h=this.getValueAxis();if(!i||!o||!p||!h)return;const u=o.dataSources.get(this.id)?.[e],d=i.resolveKeysById(this,"xValue",o)[e],f=i.resolveColumnById(this,"yRaw",o)[e],g=i.resolveColumnById(this,"yCurrentTotal",o),m=i.resolveColumnById(this,"totalTypeValue",o);if(d==null)return;const y=m[e],b=(f??0)>=0,S=this.getSeriesItemType(b,y);let D;if(this.isTotal(y))D=g[e];else if(this.isSubtotal(y)){D=g[e];for(let A=e-1;A>=0;A-=1)if(this.isSubtotal(m[A])){D=D-g[A];break}}else D=f;const k=this.getItemStyle(String(e),u,S,!1);return c.formatTooltip(this.properties,{heading:p.formatDatum(d),symbol:this.legendItemSymbol(S),data:[{label:l,fallbackLabel:n,value:h.formatDatum(D)}]},{seriesId:t,datum:u,title:l,itemId:S,xKey:s,xName:r,yKey:n,yName:l,...k})}legendItemSymbol(e){const{fill:t,stroke:i,fillOpacity:o,strokeOpacity:a,strokeWidth:s,lineDash:r,lineDashOffset:n,fillGradientDefaults:l,fillPatternDefaults:c}=this.getItemConfig(e);return{marker:getShapeStyle6({fill:t,stroke:i,fillOpacity:o,strokeOpacity:a,strokeWidth:s,lineDash:r,lineDashOffset:n},l,c)}}getLegendData(e){if(e!=="category")return[];const{id:t,seriesItemTypes:i}=this,o=[],a=r=>r.charAt(0).toUpperCase()+r.substring(1),{showInLegend:s}=this.properties;return i.forEach(r=>{const{name:n}=this.getItemConfig(r);o.push({legendType:"category",id:t,itemId:r,seriesId:t,enabled:!0,label:{text:n??a(r)},symbol:this.legendItemSymbol(r),hideInLegend:!s,isFixed:!0})}),o}toggleSeriesItem(){}animateEmptyUpdateReady(e){const{datumSelection:t,labelSelection:i,contextData:o}=e,a=prepareBarAnimationFunctions2(collapsedStartingBarPosition(this.isVertical(),this.axes,"normal"));motion3.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],a),seriesLabelFadeInAnimation3(this,"labels",this.ctx.animationManager,i);const{pointData:s}=o;s&&(this.isVertical()?this.animateConnectorLinesVertical(e):this.animateConnectorLinesHorizontal(e))}animateConnectorLinesHorizontal(e){const{pointData:t=[]}=e.contextData,[i]=e.paths,{path:o}=i;this.updateLineNode(i);const a=this.getValueAxis(),s=a?.isReversed(),r=s?(p,h)=>p<h:(p,h)=>p>h,n=a?.scale.convert(0),l=t.reduce((p,h)=>(r(h.x,p)&&(p=h.x),p),s?1/0:0),c=(p,h,u,d,f)=>(p-h)/(u-h)*(f-d)+d;this.ctx.animationManager.animate({id:`${this.id}_connectors`,groupId:this.id,phase:"initial",from:n,to:l,ease:import_ag_charts_community64._ModuleSupport.Motion.easeOut,collapsable:!1,onUpdate(p){o.clear(!0),t.forEach((h,u)=>{const d=c(p,n,l,n,h.x),f=c(p,n,l,n,h.x2);u!==0&&o.lineTo(d,h.y),o.moveTo(f,h.y2)}),i.checkPathDirty()},onStop:()=>this.resetConnectorLinesPath(e)})}animateConnectorLinesVertical(e){const{pointData:t=[]}=e.contextData,[i]=e.paths,{path:o}=i;this.updateLineNode(i);const a=this.getValueAxis(),s=a?.isReversed(),r=s?(p,h)=>p>h:(p,h)=>p<h,n=a?.scale.convert(0),l=t.reduce((p,h)=>(r(h.y,p)&&(p=h.y),p),s?0:1/0),c=(p,h,u,d,f)=>(p-h)/(u-h)*(f-d)+d;this.ctx.animationManager.animate({id:`${this.id}_connectors`,groupId:this.id,phase:"initial",from:n,to:l,ease:import_ag_charts_community64._ModuleSupport.Motion.easeOut,collapsable:!1,onUpdate(p){o.clear(!0),t.forEach((h,u)=>{const d=c(p,n,l,n,h.y),f=c(p,n,l,n,h.y2);u!==0&&o.lineTo(h.x,d),o.moveTo(h.x2,f)}),i.checkPathDirty()},onStop:()=>this.resetConnectorLinesPath(e)})}animateReadyResize(e){super.animateReadyResize(e),this.resetConnectorLinesPath(e)}updatePaths(e){this.resetConnectorLinesPath({contextData:e.contextData,paths:e.paths})}resetConnectorLinesPath({contextData:e,paths:t}){if(t.length===0)return;const[i]=t;this.updateLineNode(i);const{path:o}=i;o.clear(!0);const{pointData:a}=e;a&&(a.forEach((s,r)=>{r!==0&&o.lineTo(s.x,s.y),o.moveTo(s.x2,s.y2)}),i.checkPathDirty())}updateLineNode(e){const{stroke:t,strokeWidth:i,strokeOpacity:o,lineDash:a,lineDashOffset:s}=this.properties.line;e.setProperties({fill:void 0,stroke:t,strokeWidth:this.getStrokeWidth(i),strokeOpacity:o,lineDash:a,lineDashOffset:s,lineJoin:"round",pointerEvents:import_ag_charts_community64._ModuleSupport.PointerEvents.None})}isLabelEnabled(){const{positive:e,negative:t,total:i}=this.properties.item;return e.label.enabled||t.label.enabled||i.label.enabled}onDataChange(){}computeFocusBounds({datumIndex:e}){return computeBarFocusBounds5(this,this.contextNodeData?.nodeData[e])}};WaterfallSeries.className="WaterfallSeries",WaterfallSeries.type="waterfall";var import_ag_charts_community65=require("ag-charts-community"),import_ag_charts_core21=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs7,seriesLabelOptionsDefs:seriesLabelOptionsDefs3,shadowOptionsDefs:shadowOptionsDefs3,tooltipOptionsDefs:tooltipOptionsDefs7}=import_ag_charts_community65._ModuleSupport,waterfallSeriesItemOptionsDef={name:import_ag_charts_core21.string,cornerRadius:import_ag_charts_core21.positiveNumber,itemStyler:import_ag_charts_core21.callback,label:{...seriesLabelOptionsDefs3,padding:import_ag_charts_core21.positiveNumber,placement:(0,import_ag_charts_core21.union)("inside-start","inside-center","inside-end","outside-start","outside-end")},tooltip:tooltipOptionsDefs7,shadow:shadowOptionsDefs3,...import_ag_charts_core21.fillOptionsDef,...import_ag_charts_core21.strokeOptionsDef,...import_ag_charts_core21.lineDashOptionsDef},waterfallSeriesOptionsDef={type:(0,import_ag_charts_core21.required)((0,import_ag_charts_core21.constant)("waterfall")),xKey:(0,import_ag_charts_core21.required)(import_ag_charts_core21.string),yKey:(0,import_ag_charts_core21.required)(import_ag_charts_core21.string),xName:import_ag_charts_core21.string,yName:import_ag_charts_core21.string,direction:(0,import_ag_charts_core21.union)("horizontal","vertical"),totals:(0,import_ag_charts_core21.arrayOfDefs)({totalType:(0,import_ag_charts_core21.required)((0,import_ag_charts_core21.union)("total","subtotal")),index:(0,import_ag_charts_core21.required)(import_ag_charts_core21.positiveNumber),axisLabel:(0,import_ag_charts_core21.required)(import_ag_charts_core21.string)},"a total definition options array"),showInMiniChart:import_ag_charts_core21.boolean,item:{positive:waterfallSeriesItemOptionsDef,negative:waterfallSeriesItemOptionsDef,total:waterfallSeriesItemOptionsDef},line:{enabled:import_ag_charts_core21.boolean,...import_ag_charts_core21.strokeOptionsDef,...import_ag_charts_core21.lineDashOptionsDef},tooltip:tooltipOptionsDefs7,...commonSeriesOptionsDefs7},import_ag_charts_community66=require("ag-charts-community");function itemTheme2(e,t){return{fill:{$if:[{$eq:[{$palette:"type"},"user-indexed"]},{$path:[`./${t}`,{$palette:"fill"},{$palette:"fills"}]},{$palette:`${e}.fill`}]},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$if:[{$or:[{$isGradient:[{$palette:`${e}.fill`}]},{$isPattern:[{$palette:`${e}.fill`}]}]},{$map:[{$path:["./color",void 0,{$value:"$1"}]},{$path:["./colorStops",void 0,{$palette:`${e}.fill`}]}]},[{$mix:[{$palette:`${e}.fill`},"black",.15]},{$mix:[{$palette:`${e}.fill`},"white",.15]}]]},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community66._ModuleSupport.FILL_PATTERN_DEFAULTS,stroke:{$palette:`${e}.stroke`},strokeWidth:0,label:{enabled:!1,fontStyle:void 0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},formatter:void 0,placement:"outside-end"}}}var WATERFALL_SERIES_THEME={series:{item:{positive:itemTheme2("altUp",0),negative:itemTheme2("altDown",1),total:itemTheme2("neutral",2)},line:{stroke:{$palette:"neutral.stroke"},strokeOpacity:1,lineDash:[0],lineDashOffset:0,strokeWidth:2}},legend:{enabled:!0,toggleSeries:!1}},WaterfallModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"waterfall",solo:!0,moduleFactory:e=>new WaterfallSeries(e),tooltipDefaults:{range:"exact"},defaultAxes:import_ag_charts_community67._ModuleSupport.DIRECTION_SWAP_AXES,themeTemplate:WATERFALL_SERIES_THEME},WaterfallSeriesModule={type:"series",name:"waterfall",chartType:"cartesian",enterprise:!0,options:waterfallSeriesOptionsDef,create:e=>new WaterfallSeries(e)},{NewAreaSeriesModule,NewBarSeriesModule,NewBubbleSeriesModule,NewHistogramSeriesModule,NewLineSeriesModule,NewScatterSeriesModule,numberFormatValidator:numberFormatValidator2,without}=import_ag_charts_community68._ModuleSupport,navigatorHandleOptionsDef={width:import_ag_charts_core22.positiveNumber,height:import_ag_charts_core22.positiveNumber,grip:import_ag_charts_core22.boolean,fill:import_ag_charts_core22.color,stroke:import_ag_charts_core22.color,strokeWidth:import_ag_charts_core22.positiveNumber,cornerRadius:import_ag_charts_core22.positiveNumber},commonIgnoredMiniChartProperties=["cursor","highlightStyle","listeners","nodeClickRange","showInLegend","showInMiniChart","tooltip","visible","xName","yName"],navigatorOptionsDef={enabled:import_ag_charts_core22.boolean,height:import_ag_charts_core22.positiveNumber,spacing:import_ag_charts_core22.positiveNumber,cornerRadius:import_ag_charts_core22.number,mask:{fill:import_ag_charts_core22.color,fillOpacity:import_ag_charts_core22.ratio,stroke:import_ag_charts_core22.color,strokeWidth:import_ag_charts_core22.positiveNumber},minHandle:navigatorHandleOptionsDef,maxHandle:navigatorHandleOptionsDef,miniChart:{enabled:import_ag_charts_core22.boolean,padding:{top:import_ag_charts_core22.positiveNumber,bottom:import_ag_charts_core22.positiveNumber},label:{enabled:import_ag_charts_core22.boolean,avoidCollisions:import_ag_charts_core22.boolean,spacing:import_ag_charts_core22.positiveNumber,format:numberFormatValidator2,formatter:import_ag_charts_core22.callback,interval:{minSpacing:import_ag_charts_core22.positiveNumber,maxSpacing:import_ag_charts_core22.positiveNumber,values:import_ag_charts_core22.array,step:import_ag_charts_core22.number},...import_ag_charts_core22.fontOptionsDef},series:(0,import_ag_charts_core22.arrayOf)((0,import_ag_charts_core22.typeUnion)({area:without(NewAreaSeriesModule.options,commonIgnoredMiniChartProperties),bar:without(NewBarSeriesModule.options,[...commonIgnoredMiniChartProperties,"errorBar","label","legendItemName","direction"]),"box-plot":without(BoxPlotSeriesModule.options,[...commonIgnoredMiniChartProperties,"direction","legendItemName","minName","q1Name","medianName","q3Name","maxName"]),bubble:without(NewBubbleSeriesModule.options,[...commonIgnoredMiniChartProperties,"title","label","labelKey","labelName","sizeName"]),candlestick:without(CandlestickSeriesModule.options,commonIgnoredMiniChartProperties),heatmap:without(HeatmapSeriesModule.options,[...commonIgnoredMiniChartProperties,"title","label","colorName","textAlign","verticalAlign","itemPadding","colorRange"]),histogram:without(NewHistogramSeriesModule.options,[...commonIgnoredMiniChartProperties,"label"]),line:without(NewLineSeriesModule.options,[...commonIgnoredMiniChartProperties,"errorBar","title","label"]),ohlc:without(OhlcSeriesModule.options,commonIgnoredMiniChartProperties),"range-area":without(RangeAreaSeriesModule.options,[...commonIgnoredMiniChartProperties,"label","yLowName","yHighName"]),"range-bar":without(RangeBarSeriesModule.options,[...commonIgnoredMiniChartProperties,"direction","label","yLowName","yHighName"]),scatter:without(NewScatterSeriesModule.options,[...commonIgnoredMiniChartProperties,"errorBar","title","label","labelKey","labelName"]),waterfall:without(WaterfallSeriesModule.options,[...commonIgnoredMiniChartProperties,"direction"])}))}},AnnotationsModule={type:"plugin",name:"annotations",chartType:"cartesian",options:annotationOptionsDef,create(){return null}},NavigatorModule={type:"plugin",name:"navigator",chartType:"cartesian",options:navigatorOptionsDef,create(){return null}},InitialStateModule={type:"plugin",name:"initialState",options:initialStateOptionsDef,create(){return null}},import_ag_charts_community74=require("ag-charts-community"),import_ag_charts_community72=require("ag-charts-community"),import_ag_charts_core24=require("ag-charts-core"),import_ag_charts_community69=require("ag-charts-community"),import_ag_charts_core23=require("ag-charts-core");function computeNodeGraph(e,t,i){i||(t=removeCircularLinks(t));const o=new Map;for(const s of e)o.set(s.id,{datum:s,linksBefore:[],linksAfter:[],maxPathLengthBefore:-1,maxPathLengthAfter:-1});let a=0;return o.forEach((s,r)=>{a=Math.max(a,computePathLength(o,t,s,r,-1,[])+computePathLength(o,t,s,r,1,[])+1)}),{links:t,nodeGraph:o,maxPathLength:a}}function findCircularLinks(e,t,i,o){const a=o.indexOf(t);if(a!==-1){for(let r=a;r<o.length;r+=1)i.add(o[r]);return}o.push(t);const{toNode:s}=t;for(const r of e)r.fromNode===s&&findCircularLinks(e,r,i,o);o.pop()}function removeCircularLinks(e){const t=new Set;for(const i of e)findCircularLinks(e,i,t,[]);return t.size!==0&&import_ag_charts_core23.Logger.warnOnce("Some links formed circular references. These will be removed from the output."),t.size===0?e:e.filter(i=>!t.has(i))}function computePathLength(e,t,i,o,a,s){if(s.includes(o))return 1/0;let r=a===-1?i.maxPathLengthBefore:i.maxPathLengthAfter;if(r===-1){r=0;const n=a===-1?i.linksBefore:i.linksAfter;for(const l of t){const{fromNode:c,toNode:p}=l,h=a===-1?p.id:c.id,u=a===-1?c.id:p.id,d=o===h?e.get(u):void 0;d!=null&&(n.push({node:d,link:l}),s?.push(o),r=Math.max(r,computePathLength(e,t,d,u,a,s)+1),s?.pop())}a===-1?i.maxPathLengthBefore=r:i.maxPathLengthAfter=r}return r}var{Series,DataController,keyProperty:keyProperty6,valueProperty:valueProperty7,Selection:Selection3,Group:Group6,TransformableText}=import_ag_charts_community69._ModuleSupport,FlowProportionSeriesNodeEvent=class extends import_ag_charts_community69._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o);const{datumIndex:a}=i,s=o.contextNodeData?.nodeData.find(r=>r.datumIndex.type===a.type&&r.datumIndex.index===a.index);this.size=s?.size,this.label=s?.type===1?s?.label:void 0}},FlowProportionSeries=class extends Series{constructor(){super(...arguments),this.NodeEvent=FlowProportionSeriesNodeEvent,this._chartNodes=void 0,this.nodeCount=0,this.linkCount=0,this.linksDataModel=void 0,this.linksProcessedData=void 0,this.nodesDataModel=void 0,this.nodesProcessedData=void 0,this.processedNodes=new Map,this.linkGroup=this.contentGroup.appendChild(new Group6({name:"linkGroup"})),this.nodeGroup=this.contentGroup.appendChild(new Group6({name:"nodeGroup"})),this.focusLinkGroup=this.highlightNode.appendChild(new Group6({name:"linkGroup"})),this.focusNodeGroup=this.highlightNode.appendChild(new Group6({name:"nodeGroup"})),this.highlightLinkGroup=this.highlightNode.appendChild(new Group6({name:"linkGroup"})),this.highlightNodeGroup=this.highlightNode.appendChild(new Group6({name:"nodeGroup"})),this.labelSelection=Selection3.select(this.labelGroup,TransformableText),this.linkSelection=Selection3.select(this.linkGroup,()=>this.linkFactory()),this.nodeSelection=Selection3.select(this.nodeGroup,()=>this.nodeFactory()),this.focusLinkSelection=Selection3.select(this.focusLinkGroup,()=>this.linkFactory()),this.focusNodeSelection=Selection3.select(this.focusNodeGroup,()=>this.nodeFactory()),this.highlightLinkSelection=Selection3.select(this.highlightLinkGroup,()=>this.linkFactory()),this.highlightNodeSelection=Selection3.select(this.highlightNodeGroup,()=>this.nodeFactory())}get nodes(){return this.properties.nodes??this._chartNodes}setChartNodes(e){this._chartNodes=e,this.nodes===e&&(this.nodeDataRefresh=!0)}async processData(e){const{data:t,nodes:i}=this;if(t==null||!this.properties.isValid())return;const{fromKey:o,toKey:a,sizeKey:s,idKey:r,labelKey:n}=this.properties,l=new DataController("standalone",e.suppressFieldDotNotation),c=i!=null?l.request(this.id,i,{props:[keyProperty6(r,void 0,{id:"idValue",includeProperty:!1}),...n!=null?[valueProperty7(n,void 0,{id:"labelValue",includeProperty:!1})]:[]],groupByKeys:!0}):null,p=e.request(this.id,t,{props:[valueProperty7(o,void 0,{id:"fromValue",includeProperty:!1}),valueProperty7(a,void 0,{id:"toValue",includeProperty:!1}),...s!=null?[valueProperty7(s,void 0,{id:"sizeValue",includeProperty:!1,missingValue:0})]:[]],groupByKeys:!1});i!=null&&l.execute();const[h,u]=await Promise.all([c,p]);this.nodesDataModel=h?.dataModel,this.nodesProcessedData=h?.processedData,this.linksDataModel=u?.dataModel,this.linksProcessedData=u?.processedData;const d=new Map;if(h==null){const f=u.dataModel.resolveColumnById(this,"fromValue",u.processedData),g=u.dataModel.resolveColumnById(this,"toValue",u.processedData),m=y=>{const b=d.size;return{series:this,itemId:void 0,datum:{},datumIndex:{type:1,index:b},type:1,index:b,linksBefore:[],linksAfter:[],id:y,size:0,label:y}};u.processedData.dataSources.get(this.id)?.forEach((y,b)=>{const S=f[b],D=g[b];S==null||D==null||(d.has(S)||d.set(S,m(S)),d.has(D)||d.set(D,m(D)))})}else{const f=h.dataModel.resolveColumnById(this,"idValue",h.processedData),g=n!=null?h.dataModel.resolveColumnById(this,"labelValue",h.processedData):void 0;h.processedData.dataSources.get(this.id)?.forEach((m,y)=>{const b=f[y],S=g?.[y];d.set(b,{series:this,itemId:void 0,datum:m,datumIndex:{type:1,index:y},type:1,index:y,linksBefore:[],linksAfter:[],id:b,size:0,label:S})})}this.processedNodes=d}getNodeGraph(e,t,{includeCircularReferences:i}){const{linksDataModel:o,linksProcessedData:a}=this;if(o==null||a==null){const{links:f,nodeGraph:g,maxPathLength:m}=computeNodeGraph(new Map().values(),[],i);return this.nodeCount=0,this.linkCount=0,{nodeGraph:g,links:f,maxPathLength:m}}const{sizeKey:s}=this.properties,r=o.resolveColumnById(this,"fromValue",a),n=o.resolveColumnById(this,"toValue",a),l=s!=null?o.resolveColumnById(this,"sizeValue",a):void 0,c=new Map;this.processedNodes.forEach(f=>{const g=e(f);c.set(f.id,g)});const p=[];a.dataSources.get(this.id)?.forEach((f,g)=>{const m=r[g],y=n[g],b=l!=null?l[g]:1,S=c.get(m),D=c.get(y);if(b<=0||S==null||D==null)return;const k=t({series:this,itemId:void 0,datum:f,datumIndex:{type:0,index:g},type:0,index:g,fromNode:S,toNode:D,size:b});p.push(k)});const{links:h,nodeGraph:u,maxPathLength:d}=computeNodeGraph(c.values(),p,i);return u.forEach(f=>{f.datum.linksBefore=f.linksBefore.map(g=>g.link),f.datum.linksAfter=f.linksAfter.map(g=>g.link)}),this.nodeCount=u.size,this.linkCount=h.length,{nodeGraph:u,links:h,maxPathLength:d}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(e){const{seriesRect:t}=e,i={seriesRectWidth:t?.width??0,seriesRectHeight:t?.height??0};(this._nodeDataDependencies==null||this._nodeDataDependencies.seriesRectWidth!==i.seriesRectWidth||this._nodeDataDependencies.seriesRectHeight!==i.seriesRectHeight)&&(this._nodeDataDependencies=i),this.updateSelections();const o=this.contextNodeData?.nodeData??[],a=this.contextNodeData?.labelData??[];let s=this.ctx.highlightManager?.getActiveHighlight();if(s?.series===this&&s.type==null){const{itemId:p}=s;s=p!=null?o.find(h=>h.type===1&&h.id===p):void 0}else s?.series!==this&&(s=void 0);this.contentGroup.visible=this.visible,this.contentGroup.opacity=s!=null?this.properties.highlightStyle.series.dimOpacity??1:1,this.labelSelection=this.updateLabelSelection({labelData:a,labelSelection:this.labelSelection}),this.updateLabelNodes({labelSelection:this.labelSelection}),this.linkSelection=this.updateLinkSelection({nodeData:o.filter(p=>p.type===0),datumSelection:this.linkSelection}),this.updateLinkNodes({datumSelection:this.linkSelection,isHighlight:!1}),this.nodeSelection=this.updateNodeSelection({nodeData:o.filter(p=>p.type===1),datumSelection:this.nodeSelection}),this.updateNodeNodes({datumSelection:this.nodeSelection,isHighlight:!1});let r,n,l,c;s?.type===1?(r=o.filter(p=>p.type===0&&(p.toNode===s||p.fromNode===s)),n=r.map(p=>p.fromNode===s?p.toNode:p.fromNode),n.push(s),l=[],c=[s]):s?.type===0?(r=[s],n=[s.fromNode,s.toNode],l=[s],c=[]):(r=[],n=[],l=[],c=[]),this.focusLinkSelection=this.updateLinkSelection({nodeData:r,datumSelection:this.focusLinkSelection}),this.updateLinkNodes({datumSelection:this.focusLinkSelection,isHighlight:!1}),this.focusNodeSelection=this.updateNodeSelection({nodeData:n,datumSelection:this.focusNodeSelection}),this.updateNodeNodes({datumSelection:this.focusNodeSelection,isHighlight:!1}),this.highlightLinkSelection=this.updateLinkSelection({nodeData:l,datumSelection:this.highlightLinkSelection}),this.updateLinkNodes({datumSelection:this.highlightLinkSelection,isHighlight:!0}),this.highlightNodeSelection=this.updateNodeSelection({nodeData:c,datumSelection:this.highlightNodeSelection}),this.updateNodeNodes({datumSelection:this.highlightNodeSelection,isHighlight:!0})}resetAnimation(e){}getSeriesDomain(e){return[]}getSeriesRange(e,t){return[NaN,NaN]}legendItemSymbol(e,t,i={}){const{fills:o,strokes:a}=this.properties,{fill:s=o[t%o.length],fillOpacity:r=1,stroke:n=a[t%a.length],strokeWidth:l=0,strokeOpacity:c=1,lineDash:p=[0],lineDashOffset:h=0}=i;return{marker:{fill:s,fillOpacity:r,stroke:n,strokeWidth:l,strokeOpacity:c,lineDash:p,lineDashOffset:h}}}getLegendData(e){if(e!=="category")return[];const{showInLegend:t}=this.properties;return Array.from(this.processedNodes.values(),({id:i,label:o},a)=>({legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:!0,label:{text:o??i},symbol:this.legendItemSymbol(1,a),hideInLegend:!t,isFixed:!0}))}pickNodeClosestDatum({x:e,y:t}){let i=1/0,o;return this.linkSelection.each((a,s)=>{const r=a.containsPoint(e,t)?0:1/0;r<i&&(i=r,o=s)}),this.nodeSelection.each((a,s)=>{const r=a.distanceSquared(e,t);r<i&&(i=r,o=s)}),o!=null?{datum:o,distance:Math.sqrt(i)}:void 0}getDatumAriaText(e,t){if(e.type===0)return this.ctx.localeManager.t("ariaAnnounceFlowProportionLink",{index:e.index+1,count:this.linkCount,from:e.fromNode.id,to:e.toNode.id,size:e.size,sizeName:this.properties.sizeName??this.properties.sizeKey});if(e.type===1)return this.ctx.localeManager.t("ariaAnnounceFlowProportionNode",{index:e.index+1,count:this.nodeCount,description:t})}pickFocus(e){const{datumIndexDelta:t,otherIndexDelta:i}=e,o=this.contextNodeData?.nodeData[e.datumIndex-e.datumIndexDelta];let a=o;if(i!==0||t===0)return;if(o?.type===0){const n=Array.from(this.linkSelection,p=>p.datum),c=n.indexOf(o)+t;if(c>=0&&c<n.length)a=n[c];else if(c>0)a=n[n.length-1];else{const p=Array.from(this.nodeSelection,h=>h.datum);a=p[p.length-1]}}else if(o?.type===1){const n=Array.from(this.nodeSelection,p=>p.datum),c=n.indexOf(o)+t;c>=0&&c<n.length?a=n[c]:c<0?a=n[0]:a=Array.from(this.linkSelection,h=>h.datum)[0]}if(a==null)return;const s=a.type===1?Array.from(this.nodeSelection).find(n=>n.datum===a):Array.from(this.linkSelection).find(n=>n.datum===a);if(s==null)return;const r=this.computeFocusBounds(s.node);if(r!=null)return{datum:s.datum,datumIndex:this.contextNodeData?.nodeData.indexOf(s.datum)??0,otherIndex:0,bounds:r,clipFocusBox:!0}}getCategoryValue(e){}datumIndexForCategoryValue(e){}},import_ag_charts_community70=require("ag-charts-community"),{BBox:BBox6,Path:Path6,ScenePathChangeDetection:ScenePathChangeDetection3}=import_ag_charts_community70._ModuleSupport;function bezierControlPoints({radius:e,startAngle:t,endAngle:i,tension:o}){const a=e*Math.cos(t),s=e*Math.sin(t),r=e*Math.cos(i),n=e*Math.sin(i),l=a*o,c=s*o,p=r*o,h=n*o;return{x:[a,l,p,r],y:[s,c,h,n]}}var ChordLink=class extends Path6{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.radius=0,this.startAngle1=0,this.endAngle1=0,this.startAngle2=0,this.endAngle2=0,this.tension=1}computeBBox(){const{centerX:e,centerY:t,radius:i,startAngle1:o,endAngle1:a,startAngle2:s,endAngle2:r,tension:n}=this,l=bezierControlPoints({radius:i,startAngle:o,endAngle:r,tension:n}),c=bezierControlPoints({radius:i,startAngle:s,endAngle:a,tension:n}),p=Math.min(...l.x,...c.x),h=Math.max(...l.x,...c.x)-p,u=Math.min(...l.y,...c.y),d=Math.max(...l.y,...c.y)-u;return new BBox6(e+p,t+u,h,d)}isPointInPath(e,t){return super.isPointInPath(e,t)&&this.getBBox().containsPoint(e,t)}tensionedCurveTo(e,t,i,o,a,s,r,n){const{path:l,tension:c}=this,p=1-c;l.cubicCurveTo((i-e)*p+e,(o-t)*p+t,(a-r)*p+r,(s-n)*p+n,r,n)}updatePath(){const{path:e,centerX:t,centerY:i,radius:o}=this;let{startAngle1:a,endAngle1:s,startAngle2:r,endAngle2:n}=this;a>r&&([a,r]=[r,a],[s,n]=[n,s]),e.clear();const l=t+o*Math.cos(a),c=i+o*Math.sin(a);e.moveTo(l,c),this.tensionedCurveTo(l,c,t,i,t,i,t+o*Math.cos(n),i+o*Math.sin(n)),e.arc(t,i,o,n,r,!0),this.tensionedCurveTo(t+o*Math.cos(r),i+o*Math.sin(r),t,i,t,i,t+o*Math.cos(s),i+o*Math.sin(s)),e.arc(t,i,o,s,a,!0),e.closePath()}};__decorateClass([ScenePathChangeDetection3()],ChordLink.prototype,"centerX",2),__decorateClass([ScenePathChangeDetection3()],ChordLink.prototype,"centerY",2),__decorateClass([ScenePathChangeDetection3()],ChordLink.prototype,"radius",2),__decorateClass([ScenePathChangeDetection3()],ChordLink.prototype,"startAngle1",2),__decorateClass([ScenePathChangeDetection3()],ChordLink.prototype,"endAngle1",2),__decorateClass([ScenePathChangeDetection3()],ChordLink.prototype,"startAngle2",2),__decorateClass([ScenePathChangeDetection3()],ChordLink.prototype,"endAngle2",2),__decorateClass([ScenePathChangeDetection3()],ChordLink.prototype,"tension",2);var import_ag_charts_community71=require("ag-charts-community"),{FillGradientDefaults:FillGradientDefaults6,FillPatternDefaults:FillPatternDefaults6,BaseProperties:BaseProperties6,SeriesTooltip:SeriesTooltip8,SeriesProperties,ARRAY:ARRAY4,ARRAY_OF,COLOR_STRING:COLOR_STRING9,COLOR_STRING_ARRAY:COLOR_STRING_ARRAY3,FUNCTION:FUNCTION7,LINE_DASH:LINE_DASH8,OBJECT:OBJECT11,POSITIVE_NUMBER:POSITIVE_NUMBER11,RATIO:RATIO11,STRING:STRING8,OR:OR7,COLOR_GRADIENT:COLOR_GRADIENT6,TempValidate:TempValidate20,COLOR_PATTERN:COLOR_PATTERN6,Label:Label4}=import_ag_charts_community71._ModuleSupport,ChordSeriesLabelProperties=class extends Label4{constructor(){super(...arguments),this.spacing=1,this.maxWidth=1}};__decorateClass([TempValidate20(POSITIVE_NUMBER11)],ChordSeriesLabelProperties.prototype,"spacing",2),__decorateClass([TempValidate20(POSITIVE_NUMBER11)],ChordSeriesLabelProperties.prototype,"maxWidth",2);var ChordSeriesLinkProperties=class extends BaseProperties6{constructor(){super(...arguments),this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0,this.tension=0}};__decorateClass([TempValidate20(OR7(COLOR_GRADIENT6,COLOR_STRING9,COLOR_PATTERN6),{optional:!0})],ChordSeriesLinkProperties.prototype,"fill",2),__decorateClass([TempValidate20(RATIO11)],ChordSeriesLinkProperties.prototype,"fillOpacity",2),__decorateClass([TempValidate20(COLOR_STRING9,{optional:!0})],ChordSeriesLinkProperties.prototype,"stroke",2),__decorateClass([TempValidate20(RATIO11)],ChordSeriesLinkProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate20(POSITIVE_NUMBER11)],ChordSeriesLinkProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate20(LINE_DASH8)],ChordSeriesLinkProperties.prototype,"lineDash",2),__decorateClass([TempValidate20(POSITIVE_NUMBER11)],ChordSeriesLinkProperties.prototype,"lineDashOffset",2),__decorateClass([TempValidate20(RATIO11)],ChordSeriesLinkProperties.prototype,"tension",2),__decorateClass([TempValidate20(FUNCTION7,{optional:!0})],ChordSeriesLinkProperties.prototype,"itemStyler",2);var ChordSeriesNodeProperties=class extends BaseProperties6{constructor(){super(...arguments),this.spacing=1,this.width=1,this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([TempValidate20(POSITIVE_NUMBER11)],ChordSeriesNodeProperties.prototype,"spacing",2),__decorateClass([TempValidate20(POSITIVE_NUMBER11)],ChordSeriesNodeProperties.prototype,"width",2),__decorateClass([TempValidate20(OR7(COLOR_GRADIENT6,COLOR_STRING9,COLOR_PATTERN6),{optional:!0})],ChordSeriesNodeProperties.prototype,"fill",2),__decorateClass([TempValidate20(RATIO11)],ChordSeriesNodeProperties.prototype,"fillOpacity",2),__decorateClass([TempValidate20(COLOR_STRING9,{optional:!0})],ChordSeriesNodeProperties.prototype,"stroke",2),__decorateClass([TempValidate20(RATIO11)],ChordSeriesNodeProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate20(POSITIVE_NUMBER11)],ChordSeriesNodeProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate20(LINE_DASH8)],ChordSeriesNodeProperties.prototype,"lineDash",2),__decorateClass([TempValidate20(POSITIVE_NUMBER11)],ChordSeriesNodeProperties.prototype,"lineDashOffset",2),__decorateClass([TempValidate20(FUNCTION7,{optional:!0})],ChordSeriesNodeProperties.prototype,"itemStyler",2);var ChordSeriesProperties=class extends SeriesProperties{constructor(){super(...arguments),this.idKey="",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.sizeKey=void 0,this.sizeName=void 0,this.nodes=void 0,this.fillGradientDefaults=new FillGradientDefaults6,this.fillPatternDefaults=new FillPatternDefaults6,this.fills=[],this.strokes=[],this.label=new ChordSeriesLabelProperties,this.link=new ChordSeriesLinkProperties,this.node=new ChordSeriesNodeProperties,this.tooltip=new SeriesTooltip8}};__decorateClass([TempValidate20(STRING8)],ChordSeriesProperties.prototype,"fromKey",2),__decorateClass([TempValidate20(STRING8)],ChordSeriesProperties.prototype,"toKey",2),__decorateClass([TempValidate20(STRING8)],ChordSeriesProperties.prototype,"idKey",2),__decorateClass([TempValidate20(STRING8,{optional:!0})],ChordSeriesProperties.prototype,"idName",2),__decorateClass([TempValidate20(STRING8,{optional:!0})],ChordSeriesProperties.prototype,"labelKey",2),__decorateClass([TempValidate20(STRING8,{optional:!0})],ChordSeriesProperties.prototype,"labelName",2),__decorateClass([TempValidate20(STRING8,{optional:!0})],ChordSeriesProperties.prototype,"sizeKey",2),__decorateClass([TempValidate20(STRING8,{optional:!0})],ChordSeriesProperties.prototype,"sizeName",2),__decorateClass([TempValidate20(ARRAY4,{optional:!0})],ChordSeriesProperties.prototype,"nodes",2),__decorateClass([TempValidate20(OBJECT11)],ChordSeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([TempValidate20(OBJECT11)],ChordSeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([TempValidate20(ARRAY_OF(OR7(COLOR_GRADIENT6,COLOR_STRING9,COLOR_PATTERN6)))],ChordSeriesProperties.prototype,"fills",2),__decorateClass([TempValidate20(COLOR_STRING_ARRAY3)],ChordSeriesProperties.prototype,"strokes",2),__decorateClass([TempValidate20(OBJECT11)],ChordSeriesProperties.prototype,"label",2),__decorateClass([TempValidate20(OBJECT11)],ChordSeriesProperties.prototype,"link",2),__decorateClass([TempValidate20(OBJECT11)],ChordSeriesProperties.prototype,"node",2),__decorateClass([TempValidate20(OBJECT11)],ChordSeriesProperties.prototype,"tooltip",2);var{SeriesNodePickMode:SeriesNodePickMode6,CachedTextMeasurerPool:CachedTextMeasurerPool2,TextWrapper:TextWrapper3,TextUtils:TextUtils3,createDatumId:createDatumId9,angleBetween:angleBetween2,normalizeAngle360:normalizeAngle3605,isBetweenAngles,Sector:Sector3,evaluateBezier,applyShapeStyle:applyShapeStyle4,getShapeStyle:getShapeStyle7,BBox:BBox7}=import_ag_charts_community72._ModuleSupport,nodeMidAngle=e=>e.startAngle+angleBetween2(e.startAngle,e.endAngle)/2,ChordSeries=class extends FlowProportionSeries{constructor(e){super({moduleCtx:e,pickModes:[SeriesNodePickMode6.NEAREST_NODE,SeriesNodePickMode6.EXACT_SHAPE_MATCH]}),this.properties=new ChordSeriesProperties}isLabelEnabled(){return(this.properties.labelKey!=null||this.nodes==null)&&this.properties.label.enabled}linkFactory(){return new ChordLink}nodeFactory(){return new Sector3}createNodeData(){const{id:e,_nodeDataDependencies:{seriesRectWidth:t,seriesRectHeight:i}={seriesRectWidth:0,seriesRectHeight:0}}=this,{fromKey:o,toKey:a,sizeKey:s,label:{spacing:r,maxWidth:n,fontSize:l},node:{width:c,spacing:p}}=this.properties,h=t/2,u=i/2;let d=[];const{nodeGraph:f,links:g}=this.getNodeGraph(I=>({...I,centerX:h,centerY:u,innerRadius:NaN,outerRadius:NaN,startAngle:NaN,endAngle:NaN}),I=>({...I,centerX:h,centerY:u,radius:NaN,startAngle1:NaN,endAngle1:NaN,startAngle2:NaN,endAngle2:NaN}),{includeCircularReferences:!0});let m=0;f.forEach(({datum:I,linksBefore:T,linksAfter:C},M)=>{const P=T.reduce((B,{link:L})=>B+L.size,0)+C.reduce((B,{link:L})=>B+L.size,0);if(P===0)f.delete(M);else{I.size=P,m+=I.size;const B=this.getLabelText(this.properties.label,{datum:I.datum,value:I.label,fromKey:o,toKey:a,sizeKey:s,size:I.size});I.label=String(B)}});let y=0;if(this.isLabelEnabled()){const I=this.properties.label.getFont();let T=0;f.forEach(({datum:C})=>{const{id:M,label:P}=C;if(P==null)return;const B=TextWrapper3.wrapText(P,{maxWidth:n,font:this.properties.label,textWrap:"never"}),{width:L}=CachedTextMeasurerPool2.measureText(B,{font:I,textAlign:"left",textBaseline:"middle"});T=Math.max(L,T),d.push({id:M,text:B,centerX:h,centerY:u,angle:NaN,radius:NaN})}),y=T+r}const b=f.size;let S=Math.min(t,i)/2-c-y,D=p/S;if(y!==0&&(b*D>=1.5*Math.PI||S<=0)&&(d=[],S=Math.min(t,i)/2-c,D=p/S),b*D>=2*Math.PI||S<=0){import_ag_charts_core24.Logger.warnOnce("There was insufficient space to display the Chord Series.");return}const k=S,A=S+c,x=Math.max((2*Math.PI-b*D)/m,0);let v=0;f.forEach(({datum:I})=>{I.innerRadius=k,I.outerRadius=A,I.startAngle=v,I.endAngle=v+I.size*x,v=I.endAngle+D;const T=(I.innerRadius+I.outerRadius)/2,C=nodeMidAngle(I);I.midPoint={x:I.centerX+T*Math.cos(C),y:I.centerY+T*Math.sin(C)}});const N=[];f.forEach(({datum:I,linksBefore:T,linksAfter:C})=>{const M=nodeMidAngle(I),P=[...T.map(L=>({link:L.link,distance:angleBetween2(nodeMidAngle(L.node.datum),M),after:!1})),...C.map(L=>({link:L.link,distance:angleBetween2(nodeMidAngle(L.node.datum),M),after:!0}))];let B=I.startAngle;P.toSorted((L,w)=>L.distance-w.distance).forEach(({link:L,after:w})=>{const E=L.size*x;w?(L.startAngle1=B,L.endAngle1=B+E):(L.startAngle2=B,L.endAngle2=B+E),B+=L.size*x}),N.push(I)});const{tension:O}=this.properties.link;g.forEach(I=>{I.radius=S;const T=bezierControlPoints({radius:S,startAngle:I.startAngle1,endAngle:I.endAngle2,tension:O}),C=bezierControlPoints({radius:S,startAngle:I.startAngle2,endAngle:I.endAngle1,tension:O}),M=evaluateBezier(...T.x,.5),P=evaluateBezier(...T.y,.5),B=evaluateBezier(...C.x,.5),L=evaluateBezier(...C.y,.5);I.midPoint={x:I.centerX+(M+B)/2,y:I.centerY+(P+L)/2},N.push(I)}),d.forEach(I=>{const T=f.get(I.id)?.datum;T!=null&&(I.radius=A+r,I.angle=normalizeAngle3605(T.startAngle+angleBetween2(T.startAngle,T.endAngle)/2))}),d.sort((I,T)=>I.angle-T.angle);let _=1/0,R=-1/0;return d=d.filter(I=>{const T=TextUtils3.getLineHeight(l),C=Math.atan2(T/2,I.radius),M=I.angle-C,P=I.angle+C;return isBetweenAngles(_,M,P)||isBetweenAngles(R,M,P)?!1:(_=Math.min(M,_),R=Math.max(P,R),!0)}),{itemId:e,nodeData:N,labelData:d}}updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t)}updateLabelNodes(e){const{labelSelection:t}=e,{color:i,fontStyle:o,fontWeight:a,fontSize:s,fontFamily:r}=this.properties.label;t.each((n,{text:l,centerX:c,centerY:p,radius:h,angle:u})=>{n.visible=!0,n.translationX=c+h*Math.cos(u),n.translationY=p+h*Math.sin(u),n.text=l,n.fill=i,n.fontStyle=o,n.fontWeight=a,n.fontSize=s,n.fontFamily=r,n.textBaseline="middle",Math.cos(u)>=0?(n.textAlign="left",n.rotation=u):(n.textAlign="right",n.rotation=u-Math.PI)})}updateNodeSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId9([t.type,t.id]))}getBaseNodeStyle(e){const{properties:t}=this,{fill:i,fillOpacity:o,stroke:a,strokeOpacity:s,lineDash:r,lineDashOffset:n}=t.node,l=e?t.highlightStyle.item:void 0;return getShapeStyle7({fill:l?.fill??i,fillOpacity:l?.fillOpacity??o,stroke:l?.stroke??a,strokeOpacity:l?.strokeOpacity??s,strokeWidth:l?.strokeWidth??this.getStrokeWidth(t.node.strokeWidth),lineDash:l?.lineDash??r,lineDashOffset:l?.lineDashOffset??n},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults)}getNodeStyleOverrides(e,t,i,o,a,s,r){const{id:n,properties:l}=this,{fills:c,strokes:p}=l,{itemStyler:h}=l.node,u=s.fill??c[i%c.length],d=s.stroke??p[i%p.length];let f;if(r||(f??(f={}),f.fill=u,f.stroke=d),h!=null){const g=this.cachedDatumCallback(createDatumId9(e,"node",r?"highlight":"node"),()=>{const{fillOpacity:m=1,strokeOpacity:y=1,strokeWidth:b=0,lineDash:S=[],lineDashOffset:D=0}=s;return this.callWithContext(h,{seriesId:n,datum:t,highlighted:r,label:a,size:o,fill:u,fillOpacity:m,stroke:d,strokeOpacity:y,strokeWidth:b,lineDash:S,lineDashOffset:D})});f??(f={}),Object.assign(f,g)}return getShapeStyle7(f,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults)}updateNodeNodes(e){const{datumSelection:t,isHighlight:i}=e,o=this.getBaseNodeStyle(i),a=this.getShapeFillBBox();t.each((s,r)=>{const{datumIndex:n,size:l,label:c}=r,p=this.getNodeStyleOverrides(String(n.index),r.datum,n.index,l,c,o,i);applyShapeStyle4(s,o,p,a),s.centerX=r.centerX,s.centerY=r.centerY,s.innerRadius=r.innerRadius,s.outerRadius=r.outerRadius,s.startAngle=r.startAngle,s.endAngle=r.endAngle,s.inset=s.strokeWidth/2})}updateLinkSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId9([t.type,t.index,t.fromNode.id,t.toNode.id]))}getBaseLinkStyle(e){const{properties:t}=this,{fill:i,fillOpacity:o,stroke:a,strokeOpacity:s,lineDash:r,lineDashOffset:n,tension:l}=t.link,c=e?t.highlightStyle.item:void 0;return getShapeStyle7({fill:c?.fill??i,fillOpacity:c?.fillOpacity??o,stroke:c?.stroke??a,strokeOpacity:c?.strokeOpacity??s,strokeWidth:c?.strokeWidth??this.getStrokeWidth(t.link.strokeWidth),lineDash:c?.lineDash??r,lineDashOffset:c?.lineDashOffset??n,tension:l},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults)}getLinkStyleOverrides(e,t,i,o,a){const{id:s,properties:r}=this,{fills:n,strokes:l}=r,{itemStyler:c}=r.link,p=o.fill??n[i%n.length],h=o.stroke??l[i%l.length];let u;if(a||(u??(u={}),u.fill=p,u.stroke=h),c!=null){const d=this.cachedDatumCallback(createDatumId9(e,"link",a?"highlight":"node"),()=>{const{fillOpacity:f=1,strokeOpacity:g=1,strokeWidth:m=0,lineDash:y=[],lineDashOffset:b=0,tension:S}=o;return this.callWithContext(c,{seriesId:s,datum:t,highlighted:a,tension:S,fill:p,fillOpacity:f,stroke:h,strokeOpacity:g,strokeWidth:m,lineDash:y,lineDashOffset:b})});u??(u={}),Object.assign(u,d)}return getShapeStyle7(u,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults)}updateLinkNodes(e){const{datumSelection:t,isHighlight:i}=e,o=this.getBaseLinkStyle(i),a=this.getShapeFillBBox();t.each((s,r)=>{const{datumIndex:n}=r,l=r.fromNode.datumIndex,c=this.getLinkStyleOverrides(String(n.index),r.datum,l.index,o,i);s.centerX=r.centerX,s.centerY=r.centerY,s.radius=r.radius,s.startAngle1=r.startAngle1,s.endAngle1=r.endAngle1,s.startAngle2=r.startAngle2,s.endAngle2=r.endAngle2,applyShapeStyle4(s,o,c,a),s.tension=c?.tension??o.tension})}getShapeFillBBox(){const e=this._nodeDataDependencies?.seriesRectWidth??0,t=this._nodeDataDependencies?.seriesRectHeight??0,i=Math.min(e,t),o=(e-i)/2,a=(t-i)/2,s=new BBox7(o,a,e,t);return{series:s,axis:s}}getTooltipContent(e){const{id:t,linksProcessedData:i,nodesProcessedData:o,properties:a}=this,{fromKey:s,toKey:r,sizeKey:n,sizeName:l,tooltip:c}=a,p=this.contextNodeData?.nodeData.find(m=>m.datumIndex.type===e.type&&m.datumIndex.index===e.index);if(p==null)return;const h=p.type===0?p.fromNode.index:p.index,u=p.type===0?`${p.fromNode.label} - ${p.toNode.label}`:p.label,d=e.type===0?i?.dataSources.get(this.id)?.[e.index]:o?.dataSources.get(this.id)?.[e.index],f=p.size;let g;if(p.type===0){const m=p.fromNode.datumIndex,y=this.getBaseLinkStyle(!1);Object.assign(y,this.getLinkStyleOverrides(String(e.index),d,m.index,y,!1)),g=y}else{const m=p.label,y=this.getBaseNodeStyle(!1);Object.assign(y,this.getNodeStyleOverrides(String(e.index),d,e.index,f,m,y,!1)),g=y}return c.formatTooltip(this.properties,{title:u,symbol:this.legendItemSymbol(p.type,h,g),data:n!=null?[{label:l,fallbackLabel:n,value:String(f)}]:[]},{seriesId:t,datum:d,title:u,fromKey:s,toKey:r,sizeKey:n,sizeName:l,size:f,...g})}computeFocusBounds(e){return e}};ChordSeries.className="ChordSeries",ChordSeries.type="chord";var import_ag_charts_community73=require("ag-charts-community"),import_ag_charts_core25=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs8,seriesLabelOptionsDefs:seriesLabelOptionsDefs4,tooltipOptionsDefs:tooltipOptionsDefs8}=import_ag_charts_community73._ModuleSupport,chordSeriesOptionsDef={type:(0,import_ag_charts_core25.required)((0,import_ag_charts_core25.constant)("chord")),fromKey:(0,import_ag_charts_core25.required)(import_ag_charts_core25.string),toKey:(0,import_ag_charts_core25.required)(import_ag_charts_core25.string),sizeKey:import_ag_charts_core25.string,sizeName:import_ag_charts_core25.string,fills:(0,import_ag_charts_core25.arrayOf)(import_ag_charts_core25.colorUnion),strokes:(0,import_ag_charts_core25.arrayOf)(import_ag_charts_core25.color),label:{spacing:import_ag_charts_core25.positiveNumber,maxWidth:import_ag_charts_core25.positiveNumber,...seriesLabelOptionsDefs4},link:{tension:import_ag_charts_core25.ratio,itemStyler:import_ag_charts_core25.callback,...import_ag_charts_core25.fillOptionsDef,...import_ag_charts_core25.strokeOptionsDef,...import_ag_charts_core25.lineDashOptionsDef},node:{width:import_ag_charts_core25.positiveNumber,spacing:import_ag_charts_core25.positiveNumber,itemStyler:import_ag_charts_core25.callback,...import_ag_charts_core25.fillOptionsDef,...import_ag_charts_core25.strokeOptionsDef,...import_ag_charts_core25.lineDashOptionsDef},tooltip:tooltipOptionsDefs8,...commonSeriesOptionsDefs8};chordSeriesOptionsDef.fillGradientDefaults=import_ag_charts_core25.fillGradientDefaults,chordSeriesOptionsDef.fillPatternDefaults=import_ag_charts_core25.fillPatternDefaults;var ChordModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["flow-proportion"],solo:!0,identifier:"chord",tooltipDefaults:{range:"exact"},moduleFactory:e=>new ChordSeries(e),themeTemplate:{series:{fills:{$palette:"fills"},strokes:{$palette:"strokes"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community74._ModuleSupport.FILL_PATTERN_DEFAULTS,highlightStyle:{series:{dimOpacity:.2}},label:{fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:5,maxWidth:100},node:{spacing:8,width:10,strokeWidth:0},link:{fillOpacity:.5,strokeWidth:0,tension:.4}},legend:{enabled:!1,toggleSeries:!1}}},ChordSeriesModule={type:"series",name:"chord",chartType:"flow-proportion",enterprise:!0,options:chordSeriesOptionsDef,create:e=>new ChordSeries(e)},import_ag_charts_community83=require("ag-charts-community"),import_ag_charts_community75=require("ag-charts-community"),{ThemeConstants:{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE7,CARTESIAN_POSITION:CARTESIAN_POSITION5},ThemeSymbols:{DEFAULT_SHADOW_COLOUR}}=import_ag_charts_community75._ModuleSupport,FUNNEL_SERIES_AXES={$if:[{$eq:[{$path:["/direction",void 0]},"horizontal"]},[{type:CARTESIAN_AXIS_TYPE7.NUMBER,position:CARTESIAN_POSITION5.LEFT},{type:CARTESIAN_AXIS_TYPE7.CATEGORY,position:{$if:[{$eq:[{$path:["/stageLabel/placement",void 0]},"before"]},CARTESIAN_POSITION5.TOP,CARTESIAN_POSITION5.BOTTOM]},label:{$omit:[["placement"],{$path:["/stageLabel",void 0]}]}}],[{type:CARTESIAN_AXIS_TYPE7.CATEGORY,position:{$if:[{$eq:[{$path:["/stageLabel/placement",void 0]},"after"]},CARTESIAN_POSITION5.RIGHT,CARTESIAN_POSITION5.LEFT]},label:{$omit:[["placement"],{$path:["/stageLabel",void 0]}]}},{type:CARTESIAN_AXIS_TYPE7.NUMBER,position:CARTESIAN_POSITION5.BOTTOM}]]},FUNNEL_SERIES_THEME={series:{direction:"vertical",strokeWidth:0,spacingRatio:.25,fills:[{$palette:"fill"}],strokes:[{$palette:"stroke"}],fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community75._ModuleSupport.FILL_PATTERN_DEFAULTS,label:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"}},dropOff:{enabled:!0,fillOpacity:.2,strokeWidth:0},shadow:{enabled:!1,color:DEFAULT_SHADOW_COLOUR,xOffset:3,yOffset:3,blur:5}},axes:{[CARTESIAN_AXIS_TYPE7.NUMBER]:{nice:!1,gridLine:{enabled:!1},crosshair:{enabled:!1},label:{enabled:!1,formatter(e){return Math.abs(e.value).toFixed(e.fractionDigits??0)}}},[CARTESIAN_AXIS_TYPE7.CATEGORY]:{line:{enabled:!1}}}},import_ag_charts_community80=require("ag-charts-community"),import_ag_charts_community78=require("ag-charts-community"),import_ag_charts_community76=require("ag-charts-community"),{lineDistanceSquared,BBox:BBox8,Path:Path7,ScenePathChangeDetection:ScenePathChangeDetection4}=import_ag_charts_community76._ModuleSupport,delta2=1e-6;function pointsEq([e,t],[i,o]){return Math.abs(e-i)<=delta2&&Math.abs(t-o)<=delta2}var FunnelConnector=class extends Path7{constructor(){super(...arguments),this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x3=0,this.y3=0}get midPoint(){const{x0:e,y0:t,x1:i,y1:o,x2:a,y2:s,x3:r,y3:n}=this;return{x:(e+i+a+r)/4,y:(t+o+s+n)/4}}distanceSquared(e,t){if(this.containsPoint(e,t))return 0;const{x0:i,y0:o,x1:a,y1:s,x2:r,y2:n,x3:l,y3:c}=this;return Math.min(lineDistanceSquared(e,t,i,o,a,s,1/0),lineDistanceSquared(e,t,a,s,r,n,1/0),lineDistanceSquared(e,t,r,n,l,c,1/0),lineDistanceSquared(e,t,l,c,i,o,1/0))}computeBBox(){const{x0:e,y0:t,x1:i,y1:o,x2:a,y2:s,x3:r,y3:n}=this,l=Math.min(e,i,a,r),c=Math.max(e,i,a,r)-l,p=Math.min(t,o,s,n),h=Math.max(t,o,s,n)-p;return new BBox8(l,p,c,h)}updatePath(){const{path:e,x0:t,y0:i,x1:o,y1:a,x2:s,y2:r,x3:n,y3:l}=this,c=[[t,i],[o,a],[s,r],[n,l]];e.clear();let p,h;c.forEach(u=>{if(p!=null&&pointsEq(p,u)||h!=null&&pointsEq(h,u))return;const[d,f]=u;p==null?e.moveTo(d,f):e.lineTo(d,f),p??(p=u),h=u}),e.closePath()}};__decorateClass([ScenePathChangeDetection4()],FunnelConnector.prototype,"x0",2),__decorateClass([ScenePathChangeDetection4()],FunnelConnector.prototype,"y0",2),__decorateClass([ScenePathChangeDetection4()],FunnelConnector.prototype,"x1",2),__decorateClass([ScenePathChangeDetection4()],FunnelConnector.prototype,"y1",2),__decorateClass([ScenePathChangeDetection4()],FunnelConnector.prototype,"x2",2),__decorateClass([ScenePathChangeDetection4()],FunnelConnector.prototype,"y2",2),__decorateClass([ScenePathChangeDetection4()],FunnelConnector.prototype,"x3",2),__decorateClass([ScenePathChangeDetection4()],FunnelConnector.prototype,"y3",2);var import_ag_charts_community77=require("ag-charts-community"),{NODE_UPDATE_STATE_TO_PHASE_MAPPING}=import_ag_charts_community77._ModuleSupport;function connectorStartingPosition(e,t,i,o){const{x0:a,y0:s,x1:r,y1:n,x2:l,y2:c,x3:p,y3:h,opacity:u}=e;return i?{x0:(a+p)/2,y0:(s+h)/2,x1:(r+l)/2,y1:(n+c)/2,x2:(r+l)/2,y2:(n+c)/2,x3:(a+p)/2,y3:(s+h)/2,opacity:u}:{x0:(a+r)/2,y0:(s+n)/2,x1:(a+r)/2,y1:(s+n)/2,x2:(l+p)/2,y2:(c+h)/2,x3:(l+p)/2,y3:(c+h)/2,opacity:u}}function prepareConnectorAnimationFunctions(e,t){const i=s=>s==null;return{fromFn:(s,r,n)=>{n==="updated"&&i(r)?n="removed":n==="updated"&&i(s.previousDatum)&&(n="added");let l;n==="added"&&s.previousDatum==null&&t==="fade"?l={...resetConnectorSelectionsFn(s,r),opacity:0}:n==="unknown"||n==="added"?l=connectorStartingPosition(r,s.previousDatum,e,t):l={x0:s.x0,y0:s.y0,x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,x3:s.x3,y3:s.y3,opacity:s.opacity};const c=NODE_UPDATE_STATE_TO_PHASE_MAPPING[n];return{...l,phase:c}},toFn:(s,r,n)=>{let l;return n==="removed"&&s.datum==null&&t==="fade"?l={...resetConnectorSelectionsFn(s,r),opacity:0}:n==="removed"||i(r)?l=connectorStartingPosition(r,s.previousDatum,e,t):l=resetConnectorSelectionsFn(s,r),l}}}function resetConnectorSelectionsFn(e,t){const{x0:i,y0:o,x1:a,y1:s,x2:r,y2:n,x3:l,y3:c,opacity:p}=t;return{x0:i,y0:o,x1:a,y1:s,x2:r,y2:n,x3:l,y3:c,opacity:p}}var{SeriesNodePickMode:SeriesNodePickMode7,SeriesZIndexMap,valueProperty:valueProperty8,keyProperty:keyProperty7,ChartAxisDirection:ChartAxisDirection12,updateLabelNode:updateLabelNode4,SMALLEST_KEY_INTERVAL:SMALLEST_KEY_INTERVAL4,LARGEST_KEY_INTERVAL:LARGEST_KEY_INTERVAL2,diff:diff5,fixNumericExtent:fixNumericExtent6,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation4,resetMotion:resetMotion2,resetLabelFn:resetLabelFn4,animationValidation:animationValidation6,computeBarFocusBounds:computeBarFocusBounds6,ContinuousScale:ContinuousScale6,Group:Group7,Selection:Selection4,PointerEvents:PointerEvents4,motion:motion4,checkCrisp:checkCrisp3,createDatumId:createDatumId10,applyShapeFillBBox:applyShapeFillBBox4,getShapeStyle:getShapeStyle8,getShapeFill:getShapeFill3}=import_ag_charts_community78._ModuleSupport,FunnelSeriesNodeEvent=class extends import_ag_charts_community78._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.xKey=o.properties.stageKey,this.yKey=o.properties.valueKey}},BaseFunnelSeries=class extends import_ag_charts_community78._ModuleSupport.AbstractBarSeries{constructor({moduleCtx:e,animationResetFns:t}){super({moduleCtx:e,pickModes:[SeriesNodePickMode7.AXIS_ALIGNED,SeriesNodePickMode7.EXACT_SHAPE_MATCH],hasHighlightedLabels:!0,directionKeys:{x:["stageKey"],y:["valueKey"]},directionNames:{x:[],y:[]},categoryKey:"xValue",datumSelectionGarbageCollection:!1,animationResetFns:{datum:t.datum,label:resetLabelFn4}}),this.NodeEvent=FunnelSeriesNodeEvent,this.connectorNodeGroup=this.contentGroup.appendChild(new Group7({name:`${this.id}-series-connectorNodes`,zIndex:SeriesZIndexMap.BACKGROUND})),this.connectorSelection=Selection4.select(this.connectorNodeGroup,()=>this.connectionFactory()),this.connectorNodeGroup.pointerEvents=PointerEvents4.None}get pickModeAxis(){return"main-category"}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.connectorNodeGroup.zIndex=[SeriesZIndexMap.BACKGROUND,e],!0):!1}isVertical(){return!super.isVertical()}connectionFactory(){return new FunnelConnector}async processData(e){if(!this.properties.isValid())return;const{stageKey:t,valueKey:i}=this.properties,{visible:o,id:a}=this,s=(f,g,m)=>o&&this.ctx.legendManager.getItemEnabled({seriesId:a,itemId:m}),r=this.getCategoryAxis()?.scale,n=this.getValueAxis()?.scale,{isContinuousX:l,xScaleType:c,yScaleType:p}=this.getScaleInformation({xScale:r,yScale:n}),h=[];this.ctx.animationManager.isSkipped()||(this.processedData&&h.push(diff5(this.id,this.processedData)),h.push(animationValidation6()));const u=this.visible?{}:{forceValue:0},{processedData:d}=await this.requestDataModel(e,this.data,{props:[keyProperty7(t,c,{id:"xValue"}),valueProperty8(i,p,{id:"yValue",...u,validation:s,invalidValue:0}),...l?[SMALLEST_KEY_INTERVAL4,LARGEST_KEY_INTERVAL2]:[],...h],groupByKeys:!1});this.smallestDataInterval=d.reduced?.smallestKeyInterval,this.largestDataInterval=d.reduced?.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i,id:o,ctx:{legendManager:a}}=this;if(!t||!i)return[];const{keys:[s]}=t.domain;if(e===this.getCategoryDirection()){const r=i.resolveProcessedDataDefById(this,"xValue");return r?.def.type==="key"&&r?.def.valueType==="category"?this.hasData?s.filter((n,l)=>a.getItemEnabled({seriesId:o,itemId:l})):[]:this.padBandExtent(s)}else{const r=this.domainForClippedRange(ChartAxisDirection12.Y,["yValue"],"xValue",!0),n=Math.max(...r),l=[-n,n];return fixNumericExtent6(l)}}getSeriesRange(e,t){return[NaN,NaN]}createNodeData(){const{hasData:e,data:t,dataModel:i,groupScale:o,processedData:a,id:s,ctx:{legendManager:r}}=this,n=this.getCategoryAxis(),l=this.getValueAxis();if(!(e&&t&&n&&l&&i&&a?.type==="ungrouped"))return;const c=n.scale,p=l.scale,h=this.getBarDirection()===ChartAxisDirection12.X,{stageKey:u,valueKey:d}=this.properties,{strokeWidth:f}=this.barStyle(),g=`${d}`,m={itemId:g,nodeData:[],labelData:[],connectorData:[],scales:this.calculateScaling(),visible:this.visible},y=this.visible;if(!y)return m;const b=i.resolveKeysById(this,"xValue",a),S=i.resolveColumnById(this,"yValue",a),{barWidth:D,groupIndex:k}=this.updateGroupScale(n),A=ContinuousScale6.is(c)?D*-.5:0,x=checkCrisp3(n?.scale,n?.visibleRange,this.smallestDataInterval,this.largestDataInterval);let v;return(a.dataSources.get(this.id)??[]).forEach((O,_)=>{const R=y&&r.getItemEnabled({seriesId:s,itemId:_}),I=b[_];if(I==null)return;const T=Math.round(c.convert(I))+o.convert(String(k))+A,C=S[_],M=Math.round(p.convert(-C)),P=Math.round(p.convert(C)),B=Math.max(f,Math.abs(P-M)),L={x:h?Math.min(P,M):T,y:h?T:Math.min(P,M),width:h?B:D,height:h?D:B},w={x:L.x+L.width/2,y:L.y+L.height/2},E=this.createLabelData({datumIndex:_,rect:L,barAlongX:h,yDatum:C,datum:O,visible:R}),G={index:_,series:this,itemId:g,datum:O,datumIndex:_,xValue:I,yValue:C,xKey:u,yKey:d,x:L.x,y:L.y,width:L.width,height:L.height,midPoint:w,strokeWidth:f,crisp:x,label:E,visible:R};if(m.nodeData.push(G),E!=null&&m.labelData.push(E),v!=null){const F=v.rect,V=v.nodeDatum,W=v.datumIndex;h?m.connectorData.push({datum:V,datumIndex:W,x0:F.x,y0:F.y+F.height,x1:F.x+F.width,y1:F.y+F.height,x2:L.x+L.width,y2:L.y,x3:L.x,y3:L.y,opacity:1}):m.connectorData.push({datum:V,datumIndex:W,x0:F.x+F.width,y0:F.y,x1:L.x,y1:L.y,x2:L.x,y2:L.y+L.height,x3:F.x+F.width,y3:F.y+F.height,opacity:1})}R&&(v={itemId:g,rect:L,nodeDatum:G,datumIndex:_})}),m}updateNodes(e,t,i){super.updateNodes(e,t,i);const{connectorSelection:o}=this,a=this.contextNodeData?.connectorData??[];this.connectorSelection=this.updateConnectorSelection({connectorSelection:o,connectorData:a}),this.updateConnectorNodes({connectorSelection:o})}updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,o=t??[];return i.update(o,void 0,a=>this.getDatumId(a))}updateConnectorSelection(e){const{connectorData:t,connectorSelection:i}=e;return i.update(this.connectorEnabled()?t:[],void 0,o=>this.getDatumId(o.datum))}updateConnectorNodes(e){const{fills:t,strokes:i,fillGradientDefaults:o,fillPatternDefaults:a}=this.properties,{fill:s,fillOpacity:r,stroke:n,strokeOpacity:l,strokeWidth:c,lineDash:p,lineDashOffset:h}=this.connectorStyle(),u=this.getShapeFillBBox();e.connectorSelection.each((d,f)=>{const{datumIndex:g}=f;d.setProperties(resetConnectorSelectionsFn(d,f));const m=getShapeFill3(s??t[g%t.length],o,a);d.fill=m,applyShapeFillBBox4(d,m,u),d.fillOpacity=r,d.stroke=n??i[g%i.length],d.strokeOpacity=l,d.strokeWidth=c,d.lineDash=p,d.lineDashOffset=h})}getHighlightLabelData(e,t){const i=e.filter(o=>o.datum===t.datum);return i.length>0?i:void 0}updateLabelSelection(e){const t=this.properties.label.enabled?e.labelData:[];return e.labelSelection.update(t,i=>{i.pointerEvents=PointerEvents4.None})}updateLabelNodes(e){e.labelSelection.each((t,i)=>{updateLabelNode4(t,this.properties.label,i)})}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,properties:a}=this,{stageKey:s,valueKey:r,tooltip:n}=a,l=this.getCategoryAxis(),c=this.getValueAxis();if(!i||!o||!l||!c)return;const p=o.dataSources.get(this.id)?.[e],h=i.resolveKeysById(this,"xValue",o)[e],u=i.resolveColumnById(this,"yValue",o)[e];if(h!=null)return n.formatTooltip(this.properties,{symbol:this.legendItemSymbol(e),data:[{label:l.formatDatum(h),value:c.formatDatum(u)}]},{seriesId:t,datum:p,title:s,stageKey:s,valueKey:r,...this.tooltipStyle(p,e)})}resetAllAnimation(e){super.resetAllAnimation(e),resetMotion2([this.connectorSelection],resetConnectorSelectionsFn)}animateEmptyUpdateReady({labelSelection:e}){const{connectorSelection:t}=this,i=this.isVertical(),a=prepareConnectorAnimationFunctions(i,"normal");motion4.fromToMotion(this.id,"connectors",this.ctx.animationManager,[t],a),seriesLabelFadeInAnimation4(this,"labels",this.ctx.animationManager,e)}animateWaitingUpdateReady(e){const{labelSelection:t}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id),seriesLabelFadeInAnimation4(this,"labels",this.ctx.animationManager,t)}getDatumId(e){return createDatumId10(e.xValue)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e}){return computeBarFocusBounds6(this,this.contextNodeData?.nodeData[e])}legendItemSymbol(e){const{strokeWidth:t,fillOpacity:i,strokeOpacity:o,lineDash:a,lineDashOffset:s,fillGradientDefaults:r,fillPatternDefaults:n}=this.barStyle(),{fills:l,strokes:c}=this.properties,p=l[e%l.length]??"black",h=c[e%c.length]??"black";return{marker:getShapeStyle8({fill:p,fillOpacity:i,stroke:h,strokeWidth:t,strokeOpacity:o,lineDash:a,lineDashOffset:s},r,n)}}getLegendData(e){const{id:t,processedData:i,dataModel:o,ctx:{legendManager:a},visible:s}=this;if(!o||!i||e!=="category"||!this.properties.isValid())return[];const{showInLegend:r}=this.properties,n=o.resolveKeysById(this,"xValue",i);return(i.dataSources.get(this.id)??[]).map((l,c)=>{const p=n[c];if(p!=null)return{legendType:"category",id:t,datum:l,itemId:c,seriesId:t,enabled:s&&a.getItemEnabled({seriesId:t,itemId:c}),label:{text:String(p)},symbol:this.legendItemSymbol(c),skipAnimations:!0,hideInLegend:!r}}).filter(l=>l!=null)}},import_ag_charts_community79=require("ag-charts-community"),{FillGradientDefaults:FillGradientDefaults7,FillPatternDefaults:FillPatternDefaults7,Label:Label5,AbstractBarSeriesProperties:AbstractBarSeriesProperties5,SeriesTooltip:SeriesTooltip9,AxisLabel,TempValidate:TempValidate21,UNION:UNION4,OR:OR8,ARRAY_OF:ARRAY_OF2,COLOR_GRADIENT:COLOR_GRADIENT7,COLOR_STRING:COLOR_STRING10,COLOR_STRING_ARRAY:COLOR_STRING_ARRAY4,COLOR_PATTERN:COLOR_PATTERN7,LINE_DASH:LINE_DASH9,OBJECT:OBJECT12,POSITIVE_NUMBER:POSITIVE_NUMBER12,RATIO:RATIO12,STRING:STRING9}=import_ag_charts_community79._ModuleSupport,ConeFunnelSeriesLabel=class extends Label5{constructor(){super(...arguments),this.spacing=0}};__decorateClass([TempValidate21(UNION4(["before","middle","after"],"a placement"))],ConeFunnelSeriesLabel.prototype,"placement",2),__decorateClass([TempValidate21(POSITIVE_NUMBER12)],ConeFunnelSeriesLabel.prototype,"spacing",2);var ConeFunnelSeriesStageLabel=class extends AxisLabel{};__decorateClass([TempValidate21(UNION4(["before","after"],"a placement"))],ConeFunnelSeriesStageLabel.prototype,"placement",2);var ConeFunnelProperties=class extends AbstractBarSeriesProperties5{constructor(){super(...arguments),this.fills=[],this.fillGradientDefaults=new FillGradientDefaults7,this.fillPatternDefaults=new FillPatternDefaults7,this.fillOpacity=1,this.strokes=[],this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.label=new ConeFunnelSeriesLabel,this.stageLabel=new ConeFunnelSeriesStageLabel,this.tooltip=new SeriesTooltip9}};__decorateClass([TempValidate21(STRING9)],ConeFunnelProperties.prototype,"stageKey",2),__decorateClass([TempValidate21(STRING9)],ConeFunnelProperties.prototype,"valueKey",2),__decorateClass([TempValidate21(ARRAY_OF2(OR8(COLOR_GRADIENT7,COLOR_PATTERN7,COLOR_STRING10)))],ConeFunnelProperties.prototype,"fills",2),__decorateClass([TempValidate21(OBJECT12)],ConeFunnelProperties.prototype,"fillGradientDefaults",2),__decorateClass([TempValidate21(OBJECT12)],ConeFunnelProperties.prototype,"fillPatternDefaults",2),__decorateClass([TempValidate21(RATIO12)],ConeFunnelProperties.prototype,"fillOpacity",2),__decorateClass([TempValidate21(COLOR_STRING_ARRAY4)],ConeFunnelProperties.prototype,"strokes",2),__decorateClass([TempValidate21(POSITIVE_NUMBER12)],ConeFunnelProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate21(RATIO12)],ConeFunnelProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate21(LINE_DASH9)],ConeFunnelProperties.prototype,"lineDash",2),__decorateClass([TempValidate21(POSITIVE_NUMBER12)],ConeFunnelProperties.prototype,"lineDashOffset",2),__decorateClass([TempValidate21(OBJECT12)],ConeFunnelProperties.prototype,"label",2),__decorateClass([TempValidate21(OBJECT12)],ConeFunnelProperties.prototype,"stageLabel",2),__decorateClass([TempValidate21(OBJECT12)],ConeFunnelProperties.prototype,"tooltip",2);function resetLineSelectionsFn(e,{x:t,y:i,width:o,height:a,opacity:s}){return{x1:t,y1:i,x2:t+o,y2:i+a,opacity:s}}var{formatValue,Line:Line3}=import_ag_charts_community80._ModuleSupport,ConeFunnelSeries=class extends BaseFunnelSeries{constructor(e){super({moduleCtx:e,animationResetFns:{datum:resetLineSelectionsFn}}),this.properties=new ConeFunnelProperties}get hasData(){const{id:e,ctx:{legendManager:t}}=this,i=this.data?.reduce((o,a,s)=>o+(t.getItemEnabled({seriesId:e,itemId:s})?1:0),0);return i!=null&&i>1}getBandScalePadding(){return{inner:1,outer:0}}connectorEnabled(){return!0}barStyle(){return{fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[],lineDashOffset:0,fillGradientDefaults:this.properties.fillGradientDefaults,fillPatternDefaults:this.properties.fillPatternDefaults}}connectorStyle(){const{fillOpacity:e,strokeOpacity:t,strokeWidth:i,lineDash:o,lineDashOffset:a,fillGradientDefaults:s,fillPatternDefaults:r}=this.properties;return{fillOpacity:e,strokeOpacity:t,strokeWidth:i,lineDash:o,lineDashOffset:a,fillGradientDefaults:s,fillPatternDefaults:r}}nodeFactory(){return new Line3}createLabelData({datumIndex:e,rect:t,barAlongX:i,yDatum:o,datum:a,visible:s}){const{stageKey:r,valueKey:n,label:l}=this.properties,{spacing:c,placement:p}=l;let h,u,d,f;if(i)switch(h=t.x+t.width/2,d="center",p){case"before":u=t.y-c,f="bottom";break;case"after":u=t.y+t.height+c,f="top";break;default:u=t.y+t.height/2,f="middle"}else switch(u=t.y+t.height/2,f="middle",p){case"before":h=t.x-c,d="right";break;case"after":h=t.x+t.width+c,d="left";break;default:h=t.x+t.width/2,d="center"}return{x:h,y:u,textAlign:d,textBaseline:f,text:this.getLabelText(l,{itemId:n,value:o,datum:a,stageKey:r,valueKey:n},g=>formatValue(g,0)),itemId:n,datum:a,datumIndex:e,series:this,visible:s}}updateDatumNodes(e){const t=e.isHighlight?this.properties.highlightStyle.item:void 0;e.datumSelection.each((i,o)=>{i.setProperties(resetLineSelectionsFn(i,o)),i.stroke=t?.stroke,i.strokeWidth=t?.strokeWidth??0,i.strokeOpacity=t?.strokeOpacity??1,i.lineDash=t?.lineDash,i.lineDashOffset=t?.lineDashOffset??0})}tooltipStyle(e,t){const{fills:i,strokes:o}=this.properties,a=i[t%i.length]??"black",s=o[t%o.length]??"black",{fillOpacity:r,strokeOpacity:n,strokeWidth:l,lineDash:c,lineDashOffset:p}=this.barStyle();return{fill:a,fillOpacity:r,stroke:s,strokeOpacity:n,strokeWidth:l,lineDash:c,lineDashOffset:p}}};ConeFunnelSeries.className="ConeFunnelSeries",ConeFunnelSeries.type="cone-funnel";var import_ag_charts_community81=require("ag-charts-community"),import_ag_charts_core26=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs9,seriesLabelOptionsDefs:seriesLabelOptionsDefs5,tooltipOptionsDefs:tooltipOptionsDefs9,without:without2}=import_ag_charts_community81._ModuleSupport,coneFunnelSeriesOptionsDef={type:(0,import_ag_charts_core26.required)((0,import_ag_charts_core26.constant)("cone-funnel")),stageKey:(0,import_ag_charts_core26.required)(import_ag_charts_core26.string),valueKey:(0,import_ag_charts_core26.required)(import_ag_charts_core26.string),direction:(0,import_ag_charts_core26.union)("horizontal","vertical"),fills:(0,import_ag_charts_core26.arrayOf)(import_ag_charts_core26.colorUnion),strokes:(0,import_ag_charts_core26.arrayOf)(import_ag_charts_core26.color),showInMiniChart:import_ag_charts_core26.boolean,label:{spacing:import_ag_charts_core26.positiveNumber,placement:(0,import_ag_charts_core26.union)("before","middle","after"),...seriesLabelOptionsDefs5},stageLabel:{rotation:import_ag_charts_core26.number,spacing:import_ag_charts_core26.positiveNumber,minSpacing:import_ag_charts_core26.positiveNumber,placement:(0,import_ag_charts_core26.union)("before","after"),avoidCollisions:import_ag_charts_core26.boolean,itemStyler:import_ag_charts_core26.callback,format:import_ag_charts_core26.string,...seriesLabelOptionsDefs5},tooltip:tooltipOptionsDefs9,...commonSeriesOptionsDefs9,...without2(import_ag_charts_core26.fillOptionsDef,["fill"]),...without2(import_ag_charts_core26.strokeOptionsDef,["stroke"]),...import_ag_charts_core26.lineDashOptionsDef},import_ag_charts_community82=require("ag-charts-community"),{ThemeConstants:{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE8}}=import_ag_charts_community82._ModuleSupport,CONE_FUNNEL_SERIES_THEME={series:{direction:"vertical",fills:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$palette:"secondSequentialColors"},import_ag_charts_community82._ModuleSupport.SAFE_RANGE2_OPERATION]},strokes:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$palette:"secondSequentialColors"},import_ag_charts_community82._ModuleSupport.SAFE_RANGE2_OPERATION]},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community82._ModuleSupport.FILL_PATTERN_DEFAULTS,strokeWidth:0,label:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},placement:"before",spacing:4}},seriesArea:{padding:{top:20,bottom:20}},axes:{[CARTESIAN_AXIS_TYPE8.NUMBER]:{nice:!1,gridLine:{enabled:!1},crosshair:{enabled:!1},label:{enabled:!1,formatter(e){return Math.abs(e.value).toFixed(e.fractionDigits??0)}}},[CARTESIAN_AXIS_TYPE8.CATEGORY]:{line:{enabled:!1}}}},ConeFunnelSeriesModule={type:"series",name:"cone-funnel",chartType:"cartesian",enterprise:!0,options:coneFunnelSeriesOptionsDef,create:e=>new ConeFunnelSeries(e)},import_ag_charts_community87=require("ag-charts-community"),import_ag_charts_community85=require("ag-charts-community"),import_ag_charts_community84=require("ag-charts-community"),{FillGradientDefaults:FillGradientDefaults8,FillPatternDefaults:FillPatternDefaults8,Label:Label6,DropShadow:DropShadow4,AbstractBarSeriesProperties:AbstractBarSeriesProperties6,BaseProperties:BaseProperties7,SeriesTooltip:SeriesTooltip10,AxisLabel:AxisLabel2,TempValidate:TempValidate22,UNION:UNION5,BOOLEAN:BOOLEAN6,ARRAY_OF:ARRAY_OF3,OR:OR9,COLOR_GRADIENT:COLOR_GRADIENT8,COLOR_STRING_ARRAY:COLOR_STRING_ARRAY5,COLOR_PATTERN:COLOR_PATTERN8,COLOR_STRING:COLOR_STRING11,FUNCTION:FUNCTION8,LINE_DASH:LINE_DASH10,OBJECT:OBJECT13,POSITIVE_NUMBER:POSITIVE_NUMBER13,RATIO:RATIO13,STRING:STRING10}=import_ag_charts_community84._ModuleSupport,FunnelSeriesLabel=class extends Label6{},FunnelSeriesStageLabel=class extends AxisLabel2{};__decorateClass([TempValidate22(UNION5(["before","after"],"a placement"))],FunnelSeriesStageLabel.prototype,"placement",2);var FunnelDropOff=class extends BaseProperties7{constructor(){super(...arguments),this.enabled=!0,this.fill=void 0,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([TempValidate22(BOOLEAN6)],FunnelDropOff.prototype,"enabled",2),__decorateClass([TempValidate22(OR9(COLOR_GRADIENT8,COLOR_STRING11,COLOR_PATTERN8),{optional:!0})],FunnelDropOff.prototype,"fill",2),__decorateClass([TempValidate22(RATIO13)],FunnelDropOff.prototype,"fillOpacity",2),__decorateClass([TempValidate22(COLOR_STRING11,{optional:!0})],FunnelDropOff.prototype,"stroke",2),__decorateClass([TempValidate22(POSITIVE_NUMBER13)],FunnelDropOff.prototype,"strokeWidth",2),__decorateClass([TempValidate22(RATIO13)],FunnelDropOff.prototype,"strokeOpacity",2),__decorateClass([TempValidate22(LINE_DASH10)],FunnelDropOff.prototype,"lineDash",2),__decorateClass([TempValidate22(POSITIVE_NUMBER13)],FunnelDropOff.prototype,"lineDashOffset",2);var FunnelProperties=class extends AbstractBarSeriesProperties6{constructor(){super(...arguments),this.fills=[],this.fillGradientDefaults=new FillGradientDefaults8,this.fillPatternDefaults=new FillPatternDefaults8,this.fillOpacity=1,this.strokes=[],this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.spacingRatio=0,this.dropOff=new FunnelDropOff,this.shadow=new DropShadow4().set({enabled:!1}),this.label=new FunnelSeriesLabel,this.stageLabel=new FunnelSeriesStageLabel,this.tooltip=new SeriesTooltip10}};__decorateClass([TempValidate22(STRING10)],FunnelProperties.prototype,"stageKey",2),__decorateClass([TempValidate22(STRING10)],FunnelProperties.prototype,"valueKey",2),__decorateClass([TempValidate22(ARRAY_OF3(OR9(COLOR_GRADIENT8,COLOR_PATTERN8,COLOR_STRING11)))],FunnelProperties.prototype,"fills",2),__decorateClass([TempValidate22(OBJECT13)],FunnelProperties.prototype,"fillGradientDefaults",2),__decorateClass([TempValidate22(OBJECT13)],FunnelProperties.prototype,"fillPatternDefaults",2),__decorateClass([TempValidate22(RATIO13)],FunnelProperties.prototype,"fillOpacity",2),__decorateClass([TempValidate22(COLOR_STRING_ARRAY5)],FunnelProperties.prototype,"strokes",2),__decorateClass([TempValidate22(POSITIVE_NUMBER13)],FunnelProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate22(RATIO13)],FunnelProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate22(LINE_DASH10)],FunnelProperties.prototype,"lineDash",2),__decorateClass([TempValidate22(POSITIVE_NUMBER13)],FunnelProperties.prototype,"lineDashOffset",2),__decorateClass([TempValidate22(RATIO13)],FunnelProperties.prototype,"spacingRatio",2),__decorateClass([TempValidate22(FUNCTION8,{optional:!0})],FunnelProperties.prototype,"itemStyler",2),__decorateClass([TempValidate22(OBJECT13)],FunnelProperties.prototype,"dropOff",2),__decorateClass([TempValidate22(OBJECT13)],FunnelProperties.prototype,"shadow",2),__decorateClass([TempValidate22(OBJECT13)],FunnelProperties.prototype,"label",2),__decorateClass([TempValidate22(OBJECT13)],FunnelProperties.prototype,"stageLabel",2),__decorateClass([TempValidate22(OBJECT13)],FunnelProperties.prototype,"tooltip",2);var{ChartAxisDirection:ChartAxisDirection13,resetBarSelectionsFn:resetBarSelectionsFn3,prepareBarAnimationFunctions:prepareBarAnimationFunctions3,midpointStartingBarPosition:midpointStartingBarPosition2,createDatumId:createDatumId11,formatValue:formatValue2,Rect:Rect5,motion:motion5,applyShapeStyle:applyShapeStyle5,getShapeStyle:getShapeStyle9}=import_ag_charts_community85._ModuleSupport,FunnelSeries=class extends BaseFunnelSeries{constructor(e){super({moduleCtx:e,animationResetFns:{datum:resetBarSelectionsFn3}}),this.properties=new FunnelProperties}getBandScalePadding(){return{inner:this.properties.spacingRatio,outer:0}}connectorEnabled(){return this.properties.dropOff.enabled}barStyle(){const{fillOpacity:e,strokeOpacity:t,strokeWidth:i,lineDash:o,lineDashOffset:a,fillGradientDefaults:s,fillPatternDefaults:r}=this.properties;return{fillOpacity:e,strokeOpacity:t,strokeWidth:i,lineDash:o,lineDashOffset:a,fillGradientDefaults:s,fillPatternDefaults:r}}connectorStyle(){const{fill:e,fillOpacity:t,stroke:i,strokeOpacity:o,strokeWidth:a,lineDash:s,lineDashOffset:r}=this.properties.dropOff;return{fill:e,fillOpacity:t,stroke:i,strokeOpacity:o,strokeWidth:a,lineDash:s,lineDashOffset:r,fillGradientDefaults:this.properties.fillGradientDefaults,fillPatternDefaults:this.properties.fillPatternDefaults}}nodeFactory(){return new Rect5}createLabelData({datumIndex:e,rect:t,yDatum:i,datum:o,visible:a}){const{valueKey:s,stageKey:r,label:n}=this.properties;return{x:t.x+t.width/2,y:t.y+t.height/2,textAlign:"center",textBaseline:"middle",text:this.getLabelText(n,{itemId:r,value:i,datum:o,valueKey:s,stageKey:r},l=>formatValue2(l,0)),itemId:r,datum:o,datumIndex:e,series:this,visible:a}}getItemBaseStyle(e){const{properties:t}=this,i=e?t.highlightStyle.item:void 0;return getShapeStyle9({fill:i?.fill,fillOpacity:i?.fillOpacity??t.fillOpacity,stroke:i?.stroke,strokeWidth:i?.strokeWidth??this.getStrokeWidth(t.strokeWidth),strokeOpacity:i?.strokeOpacity??t.strokeOpacity,lineDash:i?.lineDash??t.lineDash,lineDashOffset:i?.lineDashOffset??t.lineDashOffset},t.fillGradientDefaults,t.fillPatternDefaults)}getItemStyleOverrides(e,t,i,o,a){const{id:s,properties:r}=this,{stageKey:n,valueKey:l,fills:c,strokes:p,itemStyler:h}=r,u=o.fill??c[i%c.length]??"black",d=o.stroke??p[i%p.length]??"black",f={};if(a||(f.fill=u,f.stroke=d),h!=null){const g=this.cachedDatumCallback(createDatumId11(e,a?"highlight":"node"),()=>{const{fillOpacity:m,strokeOpacity:y,strokeWidth:b,lineDash:S,lineDashOffset:D}=o;return this.callWithContext(h,{seriesId:s,datum:t,highlighted:a,stageKey:n,valueKey:l,fill:u,fillOpacity:m,stroke:d,strokeOpacity:y,strokeWidth:b,lineDash:S,lineDashOffset:D})});Object.assign(f,g)}return getShapeStyle9(f,r.fillGradientDefaults,r.fillPatternDefaults)}updateDatumNodes(e){const{shadow:t}=this.properties,{datumSelection:i,isHighlight:o}=e,a=this.getCategoryDirection()===ChartAxisDirection13.X,s=this.getItemBaseStyle(o),r=this.getShapeFillBBox();i.each((n,l)=>{const{datumIndex:c}=l,p=this.getItemStyleOverrides(String(l.datumIndex),l.datum,c,s,o);applyShapeStyle5(n,s,p,r),n.visible=a?l.width>0:l.height>0,n.crisp=l.crisp,n.fillShadow=t})}tooltipStyle(e,t){const i=this.getItemBaseStyle(!1);return Object.assign(i,this.getItemStyleOverrides(String(t),e,t,i,!1)),i}animateEmptyUpdateReady(e){super.animateEmptyUpdateReady(e);const{datumSelection:t}=e,i=this.isVertical(),a=prepareBarAnimationFunctions3(midpointStartingBarPosition2(i,"normal"));motion5.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],a)}animateWaitingUpdateReady(e){super.animateWaitingUpdateReady(e);const{datumSelection:t}=e,{processedData:i}=this,o=i?.reduced?.diff?.[this.id],a=prepareBarAnimationFunctions3(midpointStartingBarPosition2(this.isVertical(),"fade"));motion5.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],a,(s,r)=>r.xValue,o)}};FunnelSeries.className="FunnelSeries",FunnelSeries.type="funnel";var import_ag_charts_community86=require("ag-charts-community"),import_ag_charts_core27=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs10,seriesLabelOptionsDefs:seriesLabelOptionsDefs6,shadowOptionsDefs:shadowOptionsDefs4,tooltipOptionsDefs:tooltipOptionsDefs10,without:without3}=import_ag_charts_community86._ModuleSupport,funnelSeriesOptionsDef={type:(0,import_ag_charts_core27.required)((0,import_ag_charts_core27.constant)("funnel")),stageKey:(0,import_ag_charts_core27.required)(import_ag_charts_core27.string),valueKey:(0,import_ag_charts_core27.required)(import_ag_charts_core27.string),direction:(0,import_ag_charts_core27.union)("horizontal","vertical"),fills:(0,import_ag_charts_core27.arrayOf)(import_ag_charts_core27.colorUnion),strokes:(0,import_ag_charts_core27.arrayOf)(import_ag_charts_core27.color),showInMiniChart:import_ag_charts_core27.boolean,itemStyler:import_ag_charts_core27.callback,spacingRatio:import_ag_charts_core27.ratio,crisp:import_ag_charts_core27.boolean,dropOff:{enabled:import_ag_charts_core27.boolean,...import_ag_charts_core27.fillOptionsDef,...import_ag_charts_core27.strokeOptionsDef,...import_ag_charts_core27.lineDashOptionsDef},stageLabel:{rotation:import_ag_charts_core27.number,spacing:import_ag_charts_core27.positiveNumber,minSpacing:import_ag_charts_core27.positiveNumber,placement:(0,import_ag_charts_core27.union)("before","after"),avoidCollisions:import_ag_charts_core27.boolean,itemStyler:import_ag_charts_core27.callback,format:import_ag_charts_core27.string,...seriesLabelOptionsDefs6},label:seriesLabelOptionsDefs6,tooltip:tooltipOptionsDefs10,shadow:shadowOptionsDefs4,...commonSeriesOptionsDefs10,...without3(import_ag_charts_core27.fillOptionsDef,["fill"]),...without3(import_ag_charts_core27.strokeOptionsDef,["stroke"]),...import_ag_charts_core27.lineDashOptionsDef},FunnelSeriesModule={type:"series",name:"funnel",chartType:"cartesian",enterprise:!0,options:funnelSeriesOptionsDef,create:e=>new FunnelSeries(e)},import_ag_charts_community96=require("ag-charts-community"),import_ag_charts_community94=require("ag-charts-community"),DatumUnion=class{*[Symbol.iterator](){const{node:e,datum:t}=this;e&&t&&(yield{node:e,datum:t})}nodes(){return this.node?[this.node]:[]}update(e,t,i,o){const a=e.nodes();if(a.length===0)this.node?.remove(),this.node=void 0;else{this.node===void 0&&(this.node=new i,this.node.fillOpacity=0,this.node.strokeOpacity=0,t.appendChild(this.node));const s=a[0],r=a.toReversed().find(n=>n.datum.datum.value>n.datum.datum.segmentStart)??a[a.length-1];this.node.datum=this.datum=s.datum,o(this.node,s,r)}}},fadeInFns={fromFn:()=>({opacity:0,phase:"initial"}),toFn:()=>({opacity:1})};function formatLabel(e,t){if(e==null)return"";const{min:i,max:o}=t,a=i!==0?Math.ceil(Math.log10(Math.abs(i))):0,s=o!==0?Math.ceil(Math.log10(Math.abs(o))):0,r=Math.max(2-Math.max(a,s),0);return e.toFixed(r)}function getLabelText(e,t,i){if(t.text!=null)return t.text;const o=i??t.value,a=t?.formatter?.({seriesId:e.id,datum:void 0,value:o});if(a!=null)return String(a)}var import_ag_charts_community88=require("ag-charts-community");function lineMarker({path:e,x:t,y:i,size:o}){e.moveTo(t,i-o/2),e.lineTo(t,i+o/2)}var import_ag_charts_community89=require("ag-charts-community"),import_ag_charts_core28=require("ag-charts-core");function pickGaugeNearestDatum(e,t){const i=(0,import_ag_charts_core28.iterate)(e.datumUnion.nodes(),e.targetSelection.nodes());return e.pickNodeNearestDistantObject(t,i)}function pickGaugeFocus(e,t){const i=[{data:e.contextNodeData?.nodeData,selection:e.datumUnion},{data:e.contextNodeData?.targetData,selection:e.targetSelection}].filter(l=>l.data&&l.data.length>0),o=(0,import_ag_charts_core28.clamp)(0,t.otherIndex+t.otherIndexDelta,i.length-1);if(i.length===0)return;const{data:a,selection:s}=i[o];if(a==null||a.length===0)return;const r=(0,import_ag_charts_core28.clamp)(0,t.datumIndex,a.length-1),n=a[r];for(const l of s)if(l.datum===n)return{bounds:l.node,clipFocusBox:!0,datum:n,datumIndex:r,otherIndex:o}}var import_ag_charts_community92=require("ag-charts-community"),import_ag_charts_community90=require("ag-charts-community"),{MARKER_SHAPE,UNION:UNION6,OR:OR10}=import_ag_charts_community90._ModuleSupport,FILL_MODE=UNION6(["continuous","discrete"],"a fill mode"),TARGET_MARKER_SHAPE=OR10(MARKER_SHAPE,UNION6(["line"],"a marker shape")),CORNER_MODE=UNION6(["container","item"],"a corner mode"),import_ag_charts_community91=require("ag-charts-community"),import_ag_charts_core29=require("ag-charts-core"),{BaseProperties:BaseProperties8,TempValidate:TempValidate23,OBJECT:OBJECT14,BOOLEAN:BOOLEAN7,NUMBER:NUMBER7,NUMBER_ARRAY}=import_ag_charts_community91._ModuleSupport,GaugeSegmentationIntervalProperties=class extends BaseProperties8{getSegments(e,t){const{values:i,step:o,count:a}=this,s=Math.min(...e.domain),r=Math.max(...e.domain);let n;if(i!=null){const l=i.filter(c=>c>s&&c<r).sort((c,p)=>c-p);n=[s,...l,r]}else if(o!=null){const l=[];for(let c=s;c<r;c+=o)l.push(c);l.push(r),n=l}else if(a!=null){const l=a+1;n=Array.from({length:l+1},(c,p)=>p/l*(r-s)+s)}else{const l=e.ticks({nice:!0,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0})?.filter(c=>c>s&&c<r);n=l!=null?[s,...l,r]:void 0}return n!=null&&n.length>t&&(import_ag_charts_core29.Logger.warnOnce("the configured segmentation results in more than 1 item per pixel, ignoring. Supply a segmentation configuration that results in larger segments or omit this configuration"),n=void 0),n??(n=[s,r]),n}};__decorateClass([TempValidate23(NUMBER_ARRAY,{optional:!0})],GaugeSegmentationIntervalProperties.prototype,"values",2),__decorateClass([TempValidate23(NUMBER7,{optional:!0})],GaugeSegmentationIntervalProperties.prototype,"step",2),__decorateClass([TempValidate23(NUMBER7,{optional:!0})],GaugeSegmentationIntervalProperties.prototype,"count",2);var GaugeSegmentationProperties=class extends BaseProperties8{constructor(){super(...arguments),this.enabled=!1,this.interval=new GaugeSegmentationIntervalProperties,this.spacing=0}};__decorateClass([TempValidate23(BOOLEAN7)],GaugeSegmentationProperties.prototype,"enabled",2),__decorateClass([TempValidate23(OBJECT14)],GaugeSegmentationProperties.prototype,"interval",2),__decorateClass([TempValidate23(NUMBER7)],GaugeSegmentationProperties.prototype,"spacing",2);var{BaseProperties:BaseProperties9,SeriesTooltip:SeriesTooltip11,SeriesProperties:SeriesProperties2,PropertiesArray:PropertiesArray2,TempValidate:TempValidate24,BOOLEAN:BOOLEAN8,COLOR_STRING:COLOR_STRING12,COLOR_STRING_ARRAY:COLOR_STRING_ARRAY6,FUNCTION:FUNCTION9,LINE_DASH:LINE_DASH11,NUMBER:NUMBER8,OBJECT_ARRAY:OBJECT_ARRAY2,OBJECT:OBJECT15,POSITIVE_NUMBER:POSITIVE_NUMBER14,RATIO:RATIO14,STRING:STRING11,NUMBER_ARRAY:NUMBER_ARRAY2,UNION:UNION7,AND:AND5,LESS_THAN:LESS_THAN3,GREATER_THAN:GREATER_THAN3,Label:Label7,AxisLabel:AxisLabel3}=import_ag_charts_community92._ModuleSupport,TARGET_PLACEMENT=UNION7(["before","after","middle"],"a placement"),LABEL_PLACEMENT=UNION7(["inside-start","outside-start","inside-end","outside-end","inside-center","bar-inside","bar-inside-end","bar-outside-end","bar-end"],"an placement"),DIRECTION=UNION7(["horizontal","vertical"],"an orientation"),PLACEMENT3=UNION7(["before","after"],"a placement"),LinearGaugeDefaultTargetLabelProperties=class extends Label7{};__decorateClass([TempValidate24(NUMBER8,{optional:!0})],LinearGaugeDefaultTargetLabelProperties.prototype,"spacing",2);var LinearGaugeTargetProperties=class extends BaseProperties9{constructor(){super(...arguments),this.value=0,this.label=new LinearGaugeDefaultTargetLabelProperties}};__decorateClass([TempValidate24(STRING11,{optional:!0})],LinearGaugeTargetProperties.prototype,"text",2),__decorateClass([TempValidate24(NUMBER8)],LinearGaugeTargetProperties.prototype,"value",2),__decorateClass([TempValidate24(TARGET_MARKER_SHAPE,{optional:!0})],LinearGaugeTargetProperties.prototype,"shape",2),__decorateClass([TempValidate24(TARGET_PLACEMENT,{optional:!0})],LinearGaugeTargetProperties.prototype,"placement",2),__decorateClass([TempValidate24(NUMBER8,{optional:!0})],LinearGaugeTargetProperties.prototype,"spacing",2),__decorateClass([TempValidate24(POSITIVE_NUMBER14,{optional:!0})],LinearGaugeTargetProperties.prototype,"size",2),__decorateClass([TempValidate24(NUMBER8,{optional:!0})],LinearGaugeTargetProperties.prototype,"rotation",2),__decorateClass([TempValidate24(COLOR_STRING12,{optional:!0})],LinearGaugeTargetProperties.prototype,"fill",2),__decorateClass([TempValidate24(RATIO14,{optional:!0})],LinearGaugeTargetProperties.prototype,"fillOpacity",2),__decorateClass([TempValidate24(COLOR_STRING12,{optional:!0})],LinearGaugeTargetProperties.prototype,"stroke",2),__decorateClass([TempValidate24(POSITIVE_NUMBER14,{optional:!0})],LinearGaugeTargetProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate24(RATIO14,{optional:!0})],LinearGaugeTargetProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate24(LINE_DASH11,{optional:!0})],LinearGaugeTargetProperties.prototype,"lineDash",2),__decorateClass([TempValidate24(POSITIVE_NUMBER14,{optional:!0})],LinearGaugeTargetProperties.prototype,"lineDashOffset",2),__decorateClass([TempValidate24(OBJECT15)],LinearGaugeTargetProperties.prototype,"label",2);var LinearGaugeBarProperties=class extends BaseProperties9{constructor(){super(...arguments),this.enabled=!0,this.thicknessRatio=1,this.fills=new PropertiesArray2(import_ag_charts_community92._ModuleSupport.StopProperties),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([TempValidate24(BOOLEAN8)],LinearGaugeBarProperties.prototype,"enabled",2),__decorateClass([TempValidate24(POSITIVE_NUMBER14,{optional:!0})],LinearGaugeBarProperties.prototype,"thickness",2),__decorateClass([TempValidate24(RATIO14)],LinearGaugeBarProperties.prototype,"thicknessRatio",2),__decorateClass([TempValidate24(OBJECT_ARRAY2)],LinearGaugeBarProperties.prototype,"fills",2),__decorateClass([TempValidate24(FILL_MODE)],LinearGaugeBarProperties.prototype,"fillMode",2),__decorateClass([TempValidate24(COLOR_STRING12,{optional:!0})],LinearGaugeBarProperties.prototype,"fill",2),__decorateClass([TempValidate24(RATIO14)],LinearGaugeBarProperties.prototype,"fillOpacity",2),__decorateClass([TempValidate24(COLOR_STRING12)],LinearGaugeBarProperties.prototype,"stroke",2),__decorateClass([TempValidate24(POSITIVE_NUMBER14)],LinearGaugeBarProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate24(RATIO14)],LinearGaugeBarProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate24(LINE_DASH11)],LinearGaugeBarProperties.prototype,"lineDash",2),__decorateClass([TempValidate24(POSITIVE_NUMBER14)],LinearGaugeBarProperties.prototype,"lineDashOffset",2);var LinearGaugeScaleIntervalProperties=class extends BaseProperties9{constructor(){super(...arguments),this.values=void 0,this.step=void 0,this.minSpacing=0,this.maxSpacing=1e3}};__decorateClass([TempValidate24(NUMBER_ARRAY2,{optional:!0})],LinearGaugeScaleIntervalProperties.prototype,"values",2),__decorateClass([TempValidate24(NUMBER8,{optional:!0})],LinearGaugeScaleIntervalProperties.prototype,"step",2),__decorateClass([TempValidate24(NUMBER8)],LinearGaugeScaleIntervalProperties.prototype,"minSpacing",2),__decorateClass([TempValidate24(NUMBER8)],LinearGaugeScaleIntervalProperties.prototype,"maxSpacing",2);var LinearGaugeScaleLabelProperties=class extends AxisLabel3{constructor(){super(...arguments),this.placement=void 0}};__decorateClass([TempValidate24(PLACEMENT3,{optional:!0})],LinearGaugeScaleLabelProperties.prototype,"placement",2);var LinearGaugeScaleProperties=class extends BaseProperties9{constructor(){super(...arguments),this.min=0,this.max=1,this.fills=new PropertiesArray2(import_ag_charts_community92._ModuleSupport.StopProperties),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.defaultFill="black",this.interval=new LinearGaugeScaleIntervalProperties,this.label=new LinearGaugeScaleLabelProperties}};__decorateClass([TempValidate24(AND5(NUMBER8,LESS_THAN3("max")))],LinearGaugeScaleProperties.prototype,"min",2),__decorateClass([TempValidate24(AND5(NUMBER8,GREATER_THAN3("min")))],LinearGaugeScaleProperties.prototype,"max",2),__decorateClass([TempValidate24(OBJECT_ARRAY2)],LinearGaugeScaleProperties.prototype,"fills",2),__decorateClass([TempValidate24(FILL_MODE)],LinearGaugeScaleProperties.prototype,"fillMode",2),__decorateClass([TempValidate24(COLOR_STRING12,{optional:!0})],LinearGaugeScaleProperties.prototype,"fill",2),__decorateClass([TempValidate24(RATIO14)],LinearGaugeScaleProperties.prototype,"fillOpacity",2),__decorateClass([TempValidate24(COLOR_STRING12)],LinearGaugeScaleProperties.prototype,"stroke",2),__decorateClass([TempValidate24(POSITIVE_NUMBER14)],LinearGaugeScaleProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate24(RATIO14)],LinearGaugeScaleProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate24(LINE_DASH11)],LinearGaugeScaleProperties.prototype,"lineDash",2),__decorateClass([TempValidate24(POSITIVE_NUMBER14)],LinearGaugeScaleProperties.prototype,"lineDashOffset",2),__decorateClass([TempValidate24(COLOR_STRING12)],LinearGaugeScaleProperties.prototype,"defaultFill",2),__decorateClass([TempValidate24(OBJECT15)],LinearGaugeScaleProperties.prototype,"interval",2),__decorateClass([TempValidate24(OBJECT15)],LinearGaugeScaleProperties.prototype,"label",2);var LinearGaugeLabelProperties=class extends AutoSizedLabel{constructor(){super(...arguments),this.placement="inside-center",this.avoidCollisions=!0}};__decorateClass([TempValidate24(STRING11,{optional:!0})],LinearGaugeLabelProperties.prototype,"text",2),__decorateClass([TempValidate24(LABEL_PLACEMENT)],LinearGaugeLabelProperties.prototype,"placement",2),__decorateClass([TempValidate24(BOOLEAN8)],LinearGaugeLabelProperties.prototype,"avoidCollisions",2);var LinearGaugeSeriesProperties=class extends SeriesProperties2{constructor(){super(...arguments),this.value=0,this.segmentation=new GaugeSegmentationProperties,this.defaultColorRange=[],this.targets=new PropertiesArray2(LinearGaugeTargetProperties),this.defaultTarget=new LinearGaugeTargetProperties,this.defaultScale=new LinearGaugeScaleProperties,this.direction="vertical",this.thickness=1,this.cornerRadius=0,this.cornerMode="container",this.margin=0,this.scale=new LinearGaugeScaleProperties,this.bar=new LinearGaugeBarProperties,this.label=new LinearGaugeLabelProperties,this.tooltip=new SeriesTooltip11}};__decorateClass([TempValidate24(NUMBER8)],LinearGaugeSeriesProperties.prototype,"value",2),__decorateClass([TempValidate24(OBJECT15)],LinearGaugeSeriesProperties.prototype,"segmentation",2),__decorateClass([TempValidate24(COLOR_STRING_ARRAY6)],LinearGaugeSeriesProperties.prototype,"defaultColorRange",2),__decorateClass([TempValidate24(OBJECT_ARRAY2)],LinearGaugeSeriesProperties.prototype,"targets",2),__decorateClass([TempValidate24(OBJECT15)],LinearGaugeSeriesProperties.prototype,"defaultTarget",2),__decorateClass([TempValidate24(OBJECT15)],LinearGaugeSeriesProperties.prototype,"defaultScale",2),__decorateClass([TempValidate24(DIRECTION)],LinearGaugeSeriesProperties.prototype,"direction",2),__decorateClass([TempValidate24(POSITIVE_NUMBER14)],LinearGaugeSeriesProperties.prototype,"thickness",2),__decorateClass([TempValidate24(POSITIVE_NUMBER14)],LinearGaugeSeriesProperties.prototype,"cornerRadius",2),__decorateClass([TempValidate24(CORNER_MODE)],LinearGaugeSeriesProperties.prototype,"cornerMode",2),__decorateClass([TempValidate24(NUMBER8)],LinearGaugeSeriesProperties.prototype,"margin",2),__decorateClass([TempValidate24(OBJECT15)],LinearGaugeSeriesProperties.prototype,"scale",2),__decorateClass([TempValidate24(OBJECT15)],LinearGaugeSeriesProperties.prototype,"bar",2),__decorateClass([TempValidate24(FUNCTION9,{optional:!0})],LinearGaugeSeriesProperties.prototype,"itemStyler",2),__decorateClass([TempValidate24(OBJECT15)],LinearGaugeSeriesProperties.prototype,"label",2),__decorateClass([TempValidate24(OBJECT15)],LinearGaugeSeriesProperties.prototype,"tooltip",2);var import_ag_charts_community93=require("ag-charts-community"),{CachedTextMeasurerPool:CachedTextMeasurerPool3,BBox:BBox9}=import_ag_charts_community93._ModuleSupport;function datumRect(e){const{x0:t,y0:i,x1:o,y1:a,horizontalInset:s,verticalInset:r}=e,n=Math.min(t,o)+s,l=Math.min(i,a)+r,c=Math.max(Math.abs(o-t)-2*s,0),p=Math.max(Math.abs(a-i)-2*r,0);return{x:n,y:l,width:c,height:p}}function clipBBoxVisibility(e,t){if(t==null)return!0;const i=datumRect(e),o=1e-6,a=i.x+o,s=i.y+o,r=i.x+i.width-o,n=i.y+i.height-o,l=t.x,c=t.x+t.width,p=t.y,h=t.y+t.height;return Math.max(a,l)<=Math.min(r,c)&&Math.max(s,p)<=Math.min(n,h)}function hasClipBBox(e){const{clipX0:t,clipX1:i,clipY0:o,clipY1:a}=e;return t!=null&&i!=null||o!=null&&a!=null}function computeClipBBox(e){if(!hasClipBBox(e))return;const{x0:t,y0:i,x1:o,y1:a}=e,{x:s,y:r,width:n,height:l}=datumRect(e);let{clipX0:c,clipX1:p,clipY0:h,clipY1:u}=e;(c==null||p==null)&&(c=t,p=o),(h==null||u==null)&&(h=i,u=a);const d=Math.min(c,p),f=Math.min(h,u),g=Math.abs(p-c),m=Math.abs(u-h);return c=Math.max(s,d),h=Math.max(r,f),p=Math.min(s+n,d+g),u=Math.min(r+l,f+m),new BBox9(Math.min(c,p),Math.min(h,u),Math.abs(p-c),Math.abs(u-h))}function prepareLinearGaugeSeriesAnimationFunctions(e,t){const i=e?"initial":"update";return{node:{fromFn(a,s){const r=a.previousDatum;let{x0:n,y0:l,x1:c,y1:p,clipX0:h,clipY0:u,clipX1:d,clipY1:f}=r??s;const{horizontalInset:g,verticalInset:m}=s,y=r!=null&&hasClipBBox(r),b=hasClipBBox(s);return y&&b||(!y&&b?({x0:n,y0:l,x1:c,y1:p,clipX0:h,clipY0:u,clipX1:d,clipY1:f}=s,e&&(t?d=s.clipX0:f=s.clipY0)):y&&!b?({x0:n,y0:l,x1:c,y1:p}=s,h=void 0,u=void 0,d=void 0,f=void 0):e&&(t?c=n:p=l)),{x0:n,y0:l,x1:c,y1:p,clipX0:h,clipY0:u,clipX1:d,clipY1:f,horizontalInset:g,verticalInset:m,phase:i}},toFn(a,s){const{x0:r,y0:n,x1:l,y1:c,clipX0:p,clipY0:h,clipX1:u,clipY1:d,horizontalInset:f,verticalInset:g}=s;return{x0:r,y0:n,x1:l,y1:c,clipX0:p,clipY0:h,clipX1:u,clipY1:d,horizontalInset:f,verticalInset:g}},applyFn(a,s){a.setProperties(resetLinearGaugeSeriesResetRectFunction(a,s))}}}}function resetLinearGaugeSeriesResetRectFunction(e,t){const{x:i,y:o,width:a,height:s}=datumRect(t),r=computeClipBBox(t),n=clipBBoxVisibility(t,r);return{x:i,y:o,width:a,height:s,clipBBox:r,visible:n}}var horizontalTextAligns={Before:"right",Center:"center",After:"left"},verticalTextBaselines={Before:"top",Center:"middle",After:"bottom"},horizontalAlignFactors={Before:-1,Center:-.5,After:0},verticalAlignFactors2={Before:0,Center:-.5,After:-1};function formatLinearGaugeLabels(e,t,i,o,a){const{seriesRect:s,gaugeRect:r,barRect:n}=o,{padding:l,horizontal:c}=i;t.each((p,h)=>{const u=getLabelText(e,h,a?.label);let d,f;h.placement==="outside-start"?c?(d=r.x,f=s.height):(d=s.width,f=s.height-(r.y+r.height)):h.placement==="outside-end"?c?(d=s.width-(r.x+r.width),f=s.height):(d=s.width,f=r.y):h.avoidCollisions&&(d=r.width,f=r.height);let g;if(u==null)return;if(d!=null&&f!=null)g=formatSingleLabel(u,h,{padding:l},()=>({width:d,height:f,meta:null}))?.[0];else{const T={fontSize:h.fontSize,fontStyle:h.fontStyle,fontWeight:h.fontWeight,fontFamily:h.fontFamily,lineHeight:h.lineHeight},{width:C,height:M}=CachedTextMeasurerPool3.measureText(u,{font:T});g={text:u,fontSize:h.fontSize,lineHeight:getLineHeight(h,h.fontSize),width:C,height:M}}if(g==null){p.visible=!1;return}const m=c?r.x:r.y+r.height,y=c?r.x+r.width:r.y,b=c?n.x:n.y+n.height,S=c?n.x+n.width:n.y,D=h.spacing*(c?1:-1);let k,A,x,v;switch(h.placement){case"outside-start":k=-1/0,A=1/0,x=m-D,v="Before";break;case"outside-end":k=-1/0,A=1/0,x=y+D,v="After";break;case"inside-start":k=m,A=S,x=m+D,v="After";break;case"inside-end":k=S,A=y,x=y-D,v="Before";break;case"inside-center":k=m,A=y,x=(m+y)/2,v="Center";break;case"bar-inside":k=b,A=S,x=(b+S)/2,v="Center";break;case"bar-inside-end":k=b,A=S,x=S-D,v="Before";break;case"bar-outside-end":k=S,A=y,x=S+D,v="After";break;case"bar-end":k=-1/0,A=1/0,x=S,v="Center";break}const N=c?x:r.x+r.width/2,O=c?r.y+r.height/2:x;let _,R;c?(_=N+horizontalAlignFactors[v]*g.width,R=_+g.width):(_=O+verticalAlignFactors2[v]*g.height,R=_+g.height);const I=Math.min(_,R)>=Math.min(k,A)&&Math.max(_,R)<=Math.max(k,A);if(h.avoidCollisions&&!I){p.visible=!1;return}p.visible=!0,p.text=g.text,p.fontSize=g.fontSize,p.lineHeight=g.lineHeight,p.textAlign=c?horizontalTextAligns[v]:"center",p.textBaseline=c?"middle":verticalTextBaselines[v],p.x=N,p.y=O})}var{fromToMotion:fromToMotion2,resetMotion:resetMotion3,SeriesNodePickMode:SeriesNodePickMode8,StateMachine,createDatumId:createDatumId12,CachedTextMeasurerPool:CachedTextMeasurerPool4,toRadians:toRadians4,BBox:BBox10,Group:Group8,PointerEvents:PointerEvents5,Selection:Selection5,Rect:Rect6,Text,TransformableText:TransformableText2,Marker,LinearScale:LinearScale3,AxisTickGenerator:AxisTickGenerator2,NiceMode,easing,getColorStops,findRangeExtent}=import_ag_charts_community94._ModuleSupport,horizontalTargetPlacementRotation={before:180,middle:0,after:0},verticalTargetPlacementRotation={before:90,middle:0,after:-90},LinearGaugeAxis=class{constructor(e){this.gauge=e}get defaultTickMinSpacing(){return 0}get range(){return this.gauge.range}get reverse(){return!1}get scale(){return this.gauge.scale}get label(){return this.gauge.properties.scale.label}get interval(){return this.gauge.properties.scale.interval}formatTick(e,t,i,o,a){const{label:s}=this;return s.formatter?.({value:e,index:t,domain:i,boundSeries:void 0})??(s.format!=null?a?.(e):void 0)??this.gauge.formatLabel(e)}inRange(){return!0}},LinearGaugeSeries=class extends import_ag_charts_community94._ModuleSupport.Series{constructor(e){super({moduleCtx:e,useLabelLayer:!0,pickModes:[SeriesNodePickMode8.EXACT_SHAPE_MATCH,SeriesNodePickMode8.NEAREST_NODE]}),this.properties=new LinearGaugeSeriesProperties,this.seriesRect=BBox10.NaN,this.gaugeRect=BBox10.NaN,this.scale=new LinearScale3,this.axis=new LinearGaugeAxis(this),this.tickGenerator=new AxisTickGenerator2(this.axis),this.originX=0,this.originY=0,this.scaleGroup=this.contentGroup.appendChild(new Group8({name:"scaleGroup"})),this.itemGroup=this.contentGroup.appendChild(new Group8({name:"itemGroup"})),this.itemTargetGroup=this.contentGroup.appendChild(new Group8({name:"itemTargetGroup"})),this.itemTargetLabelGroup=this.contentGroup.appendChild(new Group8({name:"itemTargetLabelGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Group8({name:"itemLabelGroup"})),this.highlightTargetGroup=this.highlightGroup.appendChild(new Group8({name:"itemTargetLabelGroup"})),this.tickGroup=this.contentGroup.appendChild(new Group8({name:"tickGroup"})),this.scaleSelection=Selection5.select(this.scaleGroup,()=>this.nodeFactory()),this.datumSelection=Selection5.select(this.itemGroup,()=>this.nodeFactory()),this.targetSelection=Selection5.select(this.itemTargetGroup,()=>this.markerFactory()),this.targetLabelSelection=Selection5.select(this.itemTargetLabelGroup,Text),this.labelSelection=Selection5.select(this.itemLabelGroup,Text),this.highlightTargetSelection=Selection5.select(this.highlightTargetGroup,()=>this.markerFactory()),this.tickSelection=Selection5.select(this.tickGroup,TransformableText2),this.datumUnion=new DatumUnion,this.animationState=new StateMachine("empty",{empty:{update:{target:"ready",action:()=>this.animateEmptyUpdateReady()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.animateReadyResize(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateWaitingUpdateReady()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty"},reset:"empty",skip:"ready"}}),this.scaleGroup.pointerEvents=PointerEvents5.None,this.tickGroup.pointerEvents=PointerEvents5.None}get range(){return this.horizontal?[0,this.gaugeRect.width]:[0,this.gaugeRect.height]}get horizontal(){return this.properties.direction==="horizontal"}get hasData(){return!0}nodeFactory(){const e=new Rect6;return e.crisp=!0,e}markerFactory(){return new Marker}processData(){this.nodeDataRefresh=!0,this.animationState.transition("updateData")}formatLabel(e){return formatLabel(e,this.properties.scale)}createLinearGradient(e,t,i){const{properties:o,horizontal:a}=this,{defaultColorRange:s}=o;return{type:"gradient",gradient:"linear",colorSpace:"oklch",colorStops:getColorStops(t,s,e.domain,i),rotation:a?90:0}}getShapeFillBBox(){const{properties:e,originX:t,originY:i,horizontal:o,scale:a}=this,{thickness:s}=e,r=findRangeExtent(a.range);return new BBox10(t,i,o?r:s,o?s:r)}getTargets(){const{properties:e}=this,t=e.defaultTarget;return Array.from(e.targets).map(i=>{const{text:o=t.text,value:a=t.value??0,shape:s=t.shape??"triangle",rotation:r=t.rotation??0,strokeWidth:n=t.strokeWidth??0,placement:l=t.placement??"middle",spacing:c=t.spacing??0,size:p=t.size??0,fill:h=t.fill??"black",fillOpacity:u=t.fillOpacity??1,stroke:d=t.stroke??"black",strokeOpacity:f=t.strokeOpacity??1,lineDash:g=t.lineDash??[0],lineDashOffset:m=t.lineDashOffset??0}=i,{enabled:y=t.label.enabled,color:b=t.label.color??"black",fontStyle:S=t.label.fontStyle??"normal",fontWeight:D=t.label.fontWeight??"normal",fontSize:k=t.label.fontSize,fontFamily:A=t.label.fontFamily,spacing:x=t.label.spacing??0}=i.label;return{text:o,value:a,shape:s,placement:l,spacing:c,size:p,rotation:r,fill:h,fillOpacity:u,stroke:d,strokeWidth:n,strokeOpacity:f,lineDash:g,lineDashOffset:m,label:{enabled:y,color:b,fontStyle:S,fontWeight:D,fontSize:k,fontFamily:A,spacing:x}}})}getTargetPoint(e){const{properties:t,originX:i,originY:o,horizontal:a,scale:s,gaugeRect:r}=this,{thickness:n}=t,{value:l,placement:c,spacing:p,size:h}=e,u=s.convert(l);let d;switch(c){case"before":d=-(p+h/2);break;case"after":d=n+p+h/2;break;default:d=n/2;break}return{x:i+r.x+(a?u:d),y:o+r.y+(a?d:u)}}getTargetLabel(e){const{size:t,placement:i,label:o}=e,{spacing:a,color:s,fontStyle:r,fontWeight:n,fontSize:l,fontFamily:c}=o,p=void 0,h=t/2+a;let u,d,f=0,g=0;return this.horizontal?(u="center",i==="after"?(d="top",g=h):(d="bottom",g=-h)):(d="middle",i==="before"?(u="right",f=-h):(u="left",f=h)),{offsetX:f,offsetY:g,fill:s,textAlign:u,textBaseline:d,fontStyle:r,fontWeight:n,fontSize:l,fontFamily:c,lineHeight:p}}labelDatum(e,t){const{placement:i,avoidCollisions:o,spacing:a,text:s,color:r,fontSize:n,minimumFontSize:l,fontStyle:c,fontWeight:p,fontFamily:h,lineHeight:u,wrapping:d,overflowStrategy:f,formatter:g=m=>this.formatLabel(m.value)}=e;return{placement:i,avoidCollisions:o,spacing:a,text:s,value:t,fill:r,fontSize:n,minimumFontSize:l,fontStyle:c,fontWeight:p,fontFamily:h,lineHeight:u,wrapping:d,overflowStrategy:f,formatter:g}}verticalLabelInset(){const{properties:e}=this,{label:t}=e,i=t.text?.split(`
`),o=getLineHeight(t,t.fontSize)*(i?.length??1);return t.spacing+o}horizontalLabelInset(){const{scale:e,properties:t}=this,{scale:i,label:o}=t,a=o.text?.split(`
`),s=o.getFont(),r=i.interval.values??e.ticks({nice:!1,interval:i.interval.step,minTickCount:0,maxTickCount:6,tickCount:5}),l=(a??r.map(c=>getLabelText(this,this.labelDatum(o,c))??"")).reduce((c,p)=>{const{width:h}=CachedTextMeasurerPool4.measureText(p,{font:s});return Math.max(c,h)},0);return o.spacing+l}createNodeData(){const{id:e,properties:t,horizontal:i,scale:o,seriesRect:a}=this;if(!t.isValid())return;const{value:s,segmentation:r,thickness:n,cornerRadius:l,cornerMode:c,bar:p,scale:h,label:u}=t;o.domain=[h.min,h.max],o.range=i?[0,a.width]:[a.height,0];let d,f;i?(f=1,d=Math.PI/2):h.label.placement==="before"?(f=1,d=0):(f=-1,d=0);const g=d-Math.PI/2;let m,y,b,S;i?(m=0,y=a.width,b=(a.height-n)/2,S=b+n,u.placement==="outside-start"?m+=this.horizontalLabelInset():u.placement==="outside-end"&&(y-=this.horizontalLabelInset())):(m=(a.width-n)/2,y=m+n,S=0,b=a.height,u.placement==="outside-start"?b-=this.verticalLabelInset():u.placement==="outside-end"&&(S+=this.verticalLabelInset())),this.gaugeRect=new BBox10(Math.min(m,y),Math.min(b,S),Math.abs(y-m),Math.abs(S-b));const D=0,k=0;o.domain=[h.min,h.max],o.range=i?[m,y]:[b,S];const{ticks:A}=this.tickGenerator.generateTicks({domain:o.domain,primaryTickCount:void 0,visibleRange:[0,1],niceMode:NiceMode.Off,labelX:0,parallelFlipRotation:d,regularFlipRotation:g,sideFlag:f}).tickData,x=!1,v=this.getTargets(),N=[],O=[],_=[],R=[],[I,T]=o.range,C=Math.abs(T-I),M=i?o.convert(s):y,P=i?S:o.convert(s),B=r.enabled?r.spacing/2:0,L=i?B:0,w=i?0:B,E=Math.min(p.thickness??Math.round(p.thicknessRatio*n),n),G=-(n-E)/2,F=i?0:G,V=i?G:0,W=c==="item",K=Math.ceil(C);let q=r.enabled?r.interval.getSegments(o,K):void 0;const Y=p.fill??this.createLinearGradient(o,p.fills,p.fillMode),X=h.fill??(p.enabled&&h.fills.length===0?h.defaultFill:void 0)??this.createLinearGradient(o,h.fills,h.fillMode);if(q==null&&W){const H=Math.min(...o.domain),$=Math.max(...o.domain),j={value:s,segmentStart:H,segmentEnd:$};if(p.enabled){const te=Math.min(l,E/2,C/2)*(x?-1:1),J=i?te:0,ee=i?0:te;N.push({series:this,itemId:"value",datum:j,datumIndex:{type:0},type:0,x0:D+m-J-F,y0:k+b-ee-V,x1:D+M+J+F,y1:k+P+ee+V,clipX0:void 0,clipY0:void 0,clipX1:void 0,clipY1:void 0,topLeftCornerRadius:l,topRightCornerRadius:l,bottomRightCornerRadius:l,bottomLeftCornerRadius:l,fill:Y,horizontalInset:L,verticalInset:w})}const z=Math.min(l,n/2,C/2)*(x?-1:1),oe=i?z:0,ae=i?0:z;R.push({series:this,itemId:"scale",datum:j,datumIndex:{type:0},type:0,x0:D+m-oe,y0:k+b-ae,x1:D+y+oe,y1:k+S+ae,clipX0:void 0,clipY0:void 0,clipX1:void 0,clipY1:void 0,topLeftCornerRadius:l,topRightCornerRadius:l,bottomRightCornerRadius:l,bottomLeftCornerRadius:l,fill:X,horizontalInset:L,verticalInset:w})}else{q??(q=o.domain);const H=D+m-F,$=k+b-V,j=D+M+F,Z=k+P+V;for(let z=0;z<q.length-1;z+=1){const oe=q[z+0],ae=q[z+1],Q={value:s,segmentStart:oe,segmentEnd:ae},te=z===0,J=z===q.length-2,ee=o.convert(oe),ie=o.convert(ae),se=W||te?l:0,re=W||J?l:0,ne=i?se:re,pe=re,le=i?re:se,ce=se;p.enabled&&N.push({series:this,itemId:`value-${z}`,datum:Q,datumIndex:{type:0},type:0,x0:D+(i?ee:m),y0:k+(i?b:ee),x1:D+(i?ie:y),y1:k+(i?S:ie),clipX0:H,clipY0:$,clipX1:j,clipY1:Z,topLeftCornerRadius:ne,topRightCornerRadius:pe,bottomRightCornerRadius:le,bottomLeftCornerRadius:ce,fill:Y,horizontalInset:L,verticalInset:w}),R.push({series:this,itemId:`scale-${z}`,datum:Q,datumIndex:{type:0},type:0,x0:D+(i?ee:m),y0:k+(i?b:ee),x1:D+(i?ie:y),y1:k+(i?S:ie),clipX0:void 0,clipY0:void 0,clipX1:void 0,clipY1:void 0,topLeftCornerRadius:ne,topRightCornerRadius:pe,bottomRightCornerRadius:le,bottomLeftCornerRadius:ce,fill:X,horizontalInset:L,verticalInset:w})}}u.enabled&&_.push(this.labelDatum(u,s));const U=i?horizontalTargetPlacementRotation:verticalTargetPlacementRotation;for(let H=0;H<v.length;H+=1){const $=v[H],{value:j,text:Z,shape:z,size:oe,fill:ae,fillOpacity:Q,stroke:te,strokeWidth:J,strokeOpacity:ee,lineDash:ie,lineDashOffset:se}=$,re=this.getTargetPoint($),ne=toRadians4($.rotation+U[$.placement]);O.push({series:this,itemId:`target-${H}`,midPoint:re,datum:{value:j},datumIndex:{type:1,index:H},type:1,value:j,text:Z,x:re.x,y:re.y,shape:z,size:oe,rotation:ne,fill:ae,fillOpacity:Q,stroke:te,strokeOpacity:ee,strokeWidth:J,lineDash:ie,lineDashOffset:se,label:this.getTargetLabel($)})}return{itemId:e,nodeData:N,tickData:A,targetData:O,labelData:_,scaleData:R}}updateSelections(e){(this.nodeDataRefresh||e)&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}highlightDatum(e){if(e!=null&&e.series===this&&e.type===1)return e}update({seriesRect:e}){const{datumSelection:t,labelSelection:i,targetSelection:o,targetLabelSelection:a,scaleSelection:s,highlightTargetSelection:r,tickSelection:n}=this;this.seriesRect=e??BBox10.NaN;const l=this.checkResize(e);this.updateSelections(l),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();const c=this.contextNodeData?.nodeData??[],p=this.contextNodeData?.labelData??[],h=this.contextNodeData?.targetData??[],u=this.contextNodeData?.scaleData??[],d=this.contextNodeData?.tickData??[],f=this.highlightDatum(this.ctx.highlightManager.getActiveHighlight());this.scaleSelection=this.updateScaleSelection({scaleData:u,scaleSelection:s}),this.updateScaleNodes({scaleSelection:s}),this.targetSelection=this.updateTargetSelection({targetData:h,targetSelection:o}),this.updateTargetNodes({targetSelection:o,isHighlight:!1}),this.targetLabelSelection=this.updateTargetLabelSelection({targetData:h,targetLabelSelection:a}),this.updateTargetLabelNodes({targetLabelSelection:a}),this.datumSelection=this.updateDatumSelection({nodeData:c,datumSelection:t}),this.updateDatumNodes({datumSelection:t}),this.labelSelection=this.updateLabelSelection({labelData:p,labelSelection:i}),this.updateLabelNodes({labelSelection:i}),this.highlightTargetSelection=this.updateTargetSelection({targetData:f!=null?[f]:[],targetSelection:r}),this.updateTargetNodes({targetSelection:r,isHighlight:!0}),this.tickSelection=this.updateTickSelection({tickData:d,tickSelection:n}),this.updateTickNodes({tickSelection:n}),l&&this.animationState.transition("resize"),this.animationState.transition("update")}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId12(e.nodeData.length,t.itemId))}updateDatumNodes(e){const{datumSelection:t}=e,{ctx:i,properties:o}=this,{bar:a}=o,{fillOpacity:s,stroke:r,strokeOpacity:n,lineDash:l,lineDashOffset:c}=a,p=this.getStrokeWidth(a.strokeWidth),h=i.animationManager.isSkipped(),u=this.getShapeFillBBox();t.each((d,f)=>{const{topLeftCornerRadius:g,topRightCornerRadius:m,bottomRightCornerRadius:y,bottomLeftCornerRadius:b,fill:S}=f;d.fill=S,d.fillBBox=u,d.fillOpacity=s,d.stroke=r,d.strokeOpacity=n,d.strokeWidth=p,d.lineDash=l,d.lineDashOffset=c,d.topLeftCornerRadius=g,d.topRightCornerRadius=m,d.bottomRightCornerRadius=y,d.bottomLeftCornerRadius=b,d.pointerEvents=this.properties.bar.enabled?import_ag_charts_community94._ModuleSupport.PointerEvents.All:import_ag_charts_community94._ModuleSupport.PointerEvents.None,(h||d.previousDatum==null)&&d.setProperties(resetLinearGaugeSeriesResetRectFunction(d,f))}),this.datumUnion.update(t,this.itemGroup,import_ag_charts_community94._ModuleSupport.Rect,(d,f,g)=>{d.pointerEvents=import_ag_charts_community94._ModuleSupport.PointerEvents.None,d.clipBBox??(d.clipBBox=new BBox10(NaN,NaN,NaN,NaN)),d.x=f.x,d.y=f.y,d.clipBBox.x=f.clipBBox?.x??f.x,d.clipBBox.y=f.clipBBox?.y??f.y,this.horizontal?(d.height=d.clipBBox.height=g.height,d.width=g===f?g.width:g.x+g.width,d.clipBBox.width=d.width-(g.width-(g.clipBBox?.width??g.width)),d.topLeftCornerRadius=f.topLeftCornerRadius,d.bottomLeftCornerRadius=f.bottomLeftCornerRadius,d.topRightCornerRadius=g.topRightCornerRadius,d.bottomRightCornerRadius=g.bottomRightCornerRadius):(d.width=d.clipBBox.width=g.width,d.height=g===f?g.height:g.x+g.height,d.clipBBox.height=d.height-(g.height-(g.clipBBox?.height??g.height)),d.topLeftCornerRadius=f.topLeftCornerRadius,d.topRightCornerRadius=f.topRightCornerRadius,d.bottomLeftCornerRadius=g.bottomLeftCornerRadius,d.bottomRightCornerRadius=g.bottomRightCornerRadius)})}updateScaleSelection(e){return e.scaleSelection.update(e.scaleData,void 0,t=>createDatumId12(e.scaleData.length,t.itemId))}updateScaleNodes(e){const{scaleSelection:t}=e,{scale:i}=this.properties,{fillOpacity:o,stroke:a,strokeOpacity:s,strokeWidth:r,lineDash:n,lineDashOffset:l}=i,c=this.getShapeFillBBox();t.each((p,h)=>{const{topLeftCornerRadius:u,topRightCornerRadius:d,bottomRightCornerRadius:f,bottomLeftCornerRadius:g,fill:m}=h;p.fill=m,p.fillBBox=c,p.fillOpacity=o,p.stroke=a,p.strokeOpacity=s,p.strokeWidth=r,p.lineDash=n,p.lineDashOffset=l,p.topLeftCornerRadius=u,p.topRightCornerRadius=d,p.bottomRightCornerRadius=f,p.bottomLeftCornerRadius=g,p.setProperties(resetLinearGaugeSeriesResetRectFunction(p,h))})}updateTargetSelection(e){return e.targetSelection.update(e.targetData,void 0,t=>t.itemId)}updateTargetNodes(e){const{targetSelection:t,isHighlight:i}=e,o=i?this.properties.highlightStyle.item:void 0;t.each((a,s)=>{const{x:r,y:n,shape:l,size:c,rotation:p,fill:h,fillOpacity:u,stroke:d,strokeOpacity:f,strokeWidth:g,lineDash:m,lineDashOffset:y}=s;a.size=c,a.shape=l==="line"?lineMarker:l,a.fill=o?.fill??h,a.fillOpacity=o?.fillOpacity??u,a.stroke=o?.stroke??d,a.strokeOpacity=o?.strokeOpacity??f,a.strokeWidth=o?.strokeWidth??g,a.lineDash=o?.lineDash??m,a.lineDashOffset=o?.lineDashOffset??y,a.translationX=r,a.translationY=n,a.rotation=p})}updateTargetLabelSelection(e){return e.targetLabelSelection.update(e.targetData)}updateTargetLabelNodes(e){const{targetLabelSelection:t}=e;t.each((i,o)=>{const{x:a,y:s,text:r}=o,{offsetX:n,offsetY:l,fill:c,fontStyle:p,fontWeight:h,fontSize:u,fontFamily:d,textAlign:f,textBaseline:g}=o.label;i.visible=!0,i.x=a+n,i.y=s+l,i.text=r,i.fill=c,i.fontStyle=p,i.fontWeight=h,i.fontSize=u,i.fontFamily=d,i.textAlign=f,i.textBaseline=g})}updateTickSelection(e){return e.tickSelection.update(e.tickData,void 0,t=>t.tickId)}updateTickNodes(e){const{gaugeRect:t,properties:i}=this,o=i.defaultScale,{enabled:a,color:s,fontFamily:r=o.label.fontFamily,fontSize:n=o.label.fontSize,fontStyle:l,fontWeight:c=o.label.fontWeight,spacing:p}=i.scale.label;let{placement:h}=i.scale.label;const u=toRadians4(i.scale.label.rotation??0);let d,f,g,m;this.horizontal?(h??(h="after"),d="center",f=h==="before"?"bottom":"top",m=this.originY+t.y+(h==="before"?-p:t.height+p)):(h??(h="before"),d=h==="before"?"end":"start",f="middle",g=this.originX+t.x+(h==="before"?-p:t.width+p)),e.tickSelection.each((y,b)=>{if(!a){y.visible=!1;return}const S=g??b.translationY,D=m??b.translationY;y.visible=!0,y.text=b.tickLabel,y.fill=s,y.fontFamily=r,y.fontSize=n,y.fontStyle=l,y.fontWeight=c,y.textBaseline=f,y.textAlign=d,y.x=S,y.y=D,y.rotationCenterX=S,y.rotationCenterY=D,y.rotation=u})}updateLabelSelection(e){return e.labelSelection.update(e.labelData,void 0,t=>"primary")}updateLabelNodes(e){const{labelSelection:t}=e,i=this.ctx.animationManager.isSkipped();t.each((o,a)=>{o.fill=a.fill,o.fontStyle=a.fontStyle,o.fontWeight=a.fontWeight,o.fontFamily=a.fontFamily}),(i||this.labelsHaveExplicitText())&&this.formatLabelText()}labelsHaveExplicitText(){for(const{datum:e}of this.labelSelection)if(e.text==null)return!1;return!0}formatLabelText(e){const{labelSelection:t,horizontal:i,scale:o,seriesRect:a,gaugeRect:s}=this,{x:r,y:n,width:l,height:c}=s,p=e?.label??this.properties.value;let h;if(i){const f=o.convert(p);h=new BBox10(r,n,f-r,c)}else{const f=o.convert(p);h=new BBox10(r,f,l,c-f)}const u={seriesRect:a,gaugeRect:s,barRect:h},{margin:d}=this.properties;formatLinearGaugeLabels(this,t,{padding:d,horizontal:i},u,e)}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),resetMotion3([this.datumSelection],resetLinearGaugeSeriesResetRectFunction),this.formatLabelText()}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}animateLabelText(e={}){const{animationManager:t}=this.ctx;let i=0,o=0;if(this.labelSelection.each((a,s)=>{a.opacity=1,i=a.previousDatum?.value??e.from??s.value,o=s.value}),!this.labelsHaveExplicitText())if(i===o)this.formatLabelText({label:o});else{const a=`${this.id}_labels`;t.animate({id:a,groupId:"label",from:{label:i},to:{label:o},phase:e.phase??"update",ease:easing.easeOut,onUpdate:s=>this.formatLabelText(s)})}}animateEmptyUpdateReady(){const{animationManager:e}=this.ctx,{node:t}=prepareLinearGaugeSeriesAnimationFunctions(!0,this.horizontal);fromToMotion2(this.id,"node",e,[this.datumSelection],t,(i,o)=>o.itemId),fromToMotion2(this.id,"label",e,[this.labelSelection],fadeInFns,()=>"primary"),this.animateLabelText({from:0,phase:"initial"})}animateWaitingUpdateReady(){const{animationManager:e}=this.ctx,{node:t}=prepareLinearGaugeSeriesAnimationFunctions(!1,this.horizontal);fromToMotion2(this.id,"node",e,[this.datumSelection],t,(i,o)=>o.itemId),this.animateLabelText()}animateReadyResize(){this.resetAllAnimation()}getSeriesDomain(){return[0,1]}getSeriesRange(e,t){return[NaN,NaN]}getLegendData(){return[]}getTooltipContent(e){const{id:t,properties:i}=this,{tooltip:o}=i;if(!i.isValid())return;let a,s;if(e.type===0?(a=i.value,s=i.label.text):{value:a,text:s}=i.targets[e.index],a!=null)return o.formatTooltip(this.properties,{data:[{label:s,fallbackLabel:"Value",value:this.formatLabel(a)}]},{seriesId:t,title:void 0,datum:void 0,value:a})}pickNodeClosestDatum(e){return pickGaugeNearestDatum(this,e)}pickFocus(e){return pickGaugeFocus(this,e)}getCaptionText(){return this.formatLabel(this.properties.value)}getCategoryValue(e){}datumIndexForCategoryValue(e){}};LinearGaugeSeries.className="LinearGaugeSeries",LinearGaugeSeries.type="linear-gauge";var import_ag_charts_community95=require("ag-charts-community"),import_ag_charts_core30=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs11,autoSizedLabelOptionsDefs:autoSizedLabelOptionsDefs2,seriesLabelOptionsDefs:seriesLabelOptionsDefs7,tooltipOptionsDefs:tooltipOptionsDefs11,numberFormatValidator:numberFormatValidator3}=import_ag_charts_community95._ModuleSupport,fillsOptionsDef={fills:import_ag_charts_core30.gradientColorStops,fillMode:(0,import_ag_charts_core30.union)("continuous","discrete")},linearGaugeTargetOptionsDef={value:(0,import_ag_charts_core30.required)(import_ag_charts_core30.number),text:import_ag_charts_core30.string,shape:(0,import_ag_charts_core30.or)((0,import_ag_charts_core30.union)("circle","cross","diamond","heart","plus","pin","square","star","triangle","line"),import_ag_charts_core30.callback),placement:(0,import_ag_charts_core30.union)("before","after","middle"),spacing:import_ag_charts_core30.positiveNumber,size:import_ag_charts_core30.positiveNumber,rotation:import_ag_charts_core30.number,...import_ag_charts_core30.fillOptionsDef,...import_ag_charts_core30.strokeOptionsDef,...import_ag_charts_core30.lineDashOptionsDef},linearGaugeSeriesOptionsDef={type:(0,import_ag_charts_core30.required)((0,import_ag_charts_core30.constant)("linear-gauge")),value:(0,import_ag_charts_core30.required)(import_ag_charts_core30.number),direction:(0,import_ag_charts_core30.union)("horizontal","vertical"),cornerMode:(0,import_ag_charts_core30.union)("container","item"),cornerRadius:import_ag_charts_core30.positiveNumber,thickness:import_ag_charts_core30.positiveNumber,scale:{min:(0,import_ag_charts_core30.and)(import_ag_charts_core30.number,(0,import_ag_charts_core30.lessThan)("max")),max:(0,import_ag_charts_core30.and)(import_ag_charts_core30.number,(0,import_ag_charts_core30.greaterThan)("min")),label:{enabled:import_ag_charts_core30.boolean,formatter:import_ag_charts_core30.callback,rotation:import_ag_charts_core30.number,spacing:import_ag_charts_core30.positiveNumber,minSpacing:import_ag_charts_core30.positiveNumber,placement:(0,import_ag_charts_core30.union)("before","after"),avoidCollisions:import_ag_charts_core30.boolean,format:numberFormatValidator3,...import_ag_charts_core30.fontOptionsDef},interval:{values:(0,import_ag_charts_core30.arrayOf)(import_ag_charts_core30.number),step:import_ag_charts_core30.number},...fillsOptionsDef,...import_ag_charts_core30.fillOptionsDef,...import_ag_charts_core30.strokeOptionsDef,...import_ag_charts_core30.lineDashOptionsDef},targets:(0,import_ag_charts_core30.arrayOfDefs)(linearGaugeTargetOptionsDef,"target options array"),segmentation:{enabled:import_ag_charts_core30.boolean,spacing:import_ag_charts_core30.positiveNumber,interval:{values:(0,import_ag_charts_core30.arrayOf)(import_ag_charts_core30.number),step:import_ag_charts_core30.number,count:import_ag_charts_core30.number}},bar:{enabled:import_ag_charts_core30.boolean,thickness:import_ag_charts_core30.positiveNumber,thicknessRatio:import_ag_charts_core30.ratio,...fillsOptionsDef,...import_ag_charts_core30.fillOptionsDef,...import_ag_charts_core30.strokeOptionsDef,...import_ag_charts_core30.lineDashOptionsDef},label:{...autoSizedLabelOptionsDefs2,text:import_ag_charts_core30.string,spacing:import_ag_charts_core30.positiveNumber,avoidCollisions:import_ag_charts_core30.boolean,placement:(0,import_ag_charts_core30.union)("inside-start","outside-start","inside-end","outside-end","inside-center","bar-inside","bar-inside-end","bar-outside-end","bar-end")},tooltip:tooltipOptionsDefs11,...commonSeriesOptionsDefs11};linearGaugeSeriesOptionsDef.margin=import_ag_charts_core30.number,linearGaugeSeriesOptionsDef.defaultColorRange=(0,import_ag_charts_core30.arrayOf)(import_ag_charts_core30.color),linearGaugeSeriesOptionsDef.defaultTarget={...linearGaugeTargetOptionsDef,value:import_ag_charts_core30.number,label:{...seriesLabelOptionsDefs7,spacing:import_ag_charts_core30.number}},linearGaugeSeriesOptionsDef.defaultScale=linearGaugeSeriesOptionsDef.scale,linearGaugeSeriesOptionsDef.scale.defaultFill=import_ag_charts_core30.color;var LinearGaugeModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["gauge"],identifier:"linear-gauge",moduleFactory:e=>new LinearGaugeSeries(e),tooltipDefaults:{range:10},themeTemplate:{minWidth:200,minHeight:200,tooltip:{enabled:!1},series:{thickness:50,defaultColorRange:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$interpolate:[{$palette:"secondDivergingColors"},5]},import_ag_charts_community96._ModuleSupport.SAFE_RANGE2_OPERATION]},scale:{defaultFill:{$path:["./1",{$palette:"fill"},{$palette:"hierarchyColors"}]},stroke:{$path:["./2",import_ag_charts_community96._ModuleSupport.SAFE_STROKE_FILL_OPERATION,{$palette:"hierarchyColors"}]},label:{spacing:11}},bar:{strokeWidth:0},segmentation:{enabled:!1,interval:{},spacing:1},defaultTarget:{fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},size:10,shape:"triangle",placement:"after",spacing:5,label:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},spacing:5}},defaultScale:{label:{fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}}},label:{enabled:!1,placement:"inside-start",fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[2]},minimumFontSize:12,spacing:18,color:{$ref:"backgroundColor"}},margin:4}}},LinearGaugeSeriesModule={type:"series",name:"linear-gauge",chartType:"gauge",enterprise:!0,options:linearGaugeSeriesOptionsDef,create:e=>new LinearGaugeSeries(e)},import_ag_charts_community103=require("ag-charts-community"),MAP_THEME_DEFAULTS={zoom:{axes:"xy",anchorPointX:"pointer",anchorPointY:"pointer",buttons:{anchorPointX:"middle",anchorPointY:"middle"}},legend:{enabled:!1},gradientLegend:{enabled:!1}},import_ag_charts_community101=require("ag-charts-community"),import_ag_charts_core31=require("ag-charts-core"),import_ag_charts_community98=require("ag-charts-community"),delta3=1e-9;function lineSegmentDistanceToPointSquared(e,t,i,o){const[a,s]=e,[r,n]=t,l=r-a,c=n-s,p=l*l+c*c;let h,u;if(Math.abs(p)<delta3)h=a,u=s;else{let g=((i-a)*l+(o-s)*c)/p;g=Math.max(0,Math.min(1,g)),h=a+g*(r-a),u=s+g*(n-s)}const d=i-h,f=o-u;return d*d+f*f}function lineStringDistance(e,t,i){let o=1/0,a=e[e.length-1];for(const s of e)o=Math.min(o,lineSegmentDistanceToPointSquared(a,s,t,i)),a=s;return Math.sqrt(o)}function lineStringLength(e){let[t,i]=e[0],o=0;for(let a=1;a<e.length;a+=1){const[s,r]=e[a],n=Math.hypot(s-t,r-i);o+=n,t=s,i=r}return o}function lineStringCenter(e){if(e.length===0)return;const t=lineStringLength(e)/2;let[i,o]=e[0],a=0;for(let s=1;s<e.length;s+=1){const[r,n]=e[s],l=Math.hypot(r-i,n-o),c=a+l;if(c>t){const p=(t-a)/l,h=[i+(r-i)*p,o+(n-o)*p],u=Math.atan2(n-o,r-i);return{point:h,angle:u}}a=c,i=r,o=n}}var import_ag_charts_community97=require("ag-charts-community"),{LonLatBBox}=import_ag_charts_community97._ModuleSupport;function extendBbox(e,t,i,o,a){return e==null?e=new LonLatBBox(t,i,o,a):(e.lon0=Math.min(e.lon0,t),e.lat0=Math.min(e.lat0,i),e.lon1=Math.max(e.lon1,o),e.lat1=Math.max(e.lat1,a)),e}function polygonBbox(e,t){return e.forEach(i=>{const[o,a]=i;t=extendBbox(t,o,a,o,a)}),t}function polygonCentroid(e){if(e.length===0)return;let t=0,i=0,o=0,[a,s]=e[e.length-1];for(const[r,n]of e){const l=a*n-r*s;o+=l,t+=(a+r)*l,i+=(s+n)*l,a=r,s=n}return o*=3,[t/o,i/o]}function polygonDistance(e,t,i){let o=!1,a=1/0;for(const s of e){let r=s[s.length-1],[n,l]=r;for(const c of s){const[p,h]=c;h>i!=l>i&&t<(n-p)*(i-h)/(l-h)+p&&(o=!o),a=Math.min(a,lineSegmentDistanceToPointSquared(r,c,t,i)),r=c,n=p,l=h}}return(o?-1:1)*Math.sqrt(a)}var{Path:Path8,ExtendedPath2D:ExtendedPath2D2,BBox:BBox11,ScenePathChangeDetection:ScenePathChangeDetection5}=import_ag_charts_community98._ModuleSupport,GeoGeometry=class extends Path8{constructor(){super(...arguments),this.projectedGeometry=void 0,this.renderMode=3,this.strokePath=new ExtendedPath2D2}computeBBox(){return(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),this.bbox?.clone()}updatePath(){const{projectedGeometry:e}=this;this.strokePath.clear(),this.path.clear(),this.bbox=e!=null?this.drawGeometry(e,void 0):void 0}drawPath(e){super.drawPath(e),this.renderStroke(e,this.strokePath.getPath2D())}containsPoint(e,t){const{projectedGeometry:i}=this;return i==null||!this.getBBox().containsPoint(e,t)?!1:this.geometryDistance(i,e,t)<=0}distanceSquared(e,t){const{projectedGeometry:i}=this;if(i==null)return 1/0;const o=this.geometryDistance(i,e,t);return o>0?o*o:0}geometryDistance(e,t,i){const{renderMode:o,strokeWidth:a}=this,s=(o&1)!==0,r=(o&2)!==0,n=Math.max(a/2,1)+1;switch(e.type){case"GeometryCollection":return e.geometries.reduce((l,c)=>Math.min(l,this.geometryDistance(c,t,i)),1/0);case"MultiPolygon":return s?e.coordinates.reduce((l,c)=>Math.min(l,Math.max(polygonDistance(c,t,i),0)),1/0):1/0;case"Polygon":return s?Math.max(polygonDistance(e.coordinates,t,i),0):1/0;case"MultiLineString":return r?e.coordinates.reduce((l,c)=>Math.min(l,Math.max(lineStringDistance(c,t,i)-n,0)),1/0):1/0;case"LineString":return r?Math.max(lineStringDistance(e.coordinates,t,i)-n,0):1/0;case"MultiPoint":case"Point":default:return 1/0}}drawGeometry(e,t){const{renderMode:i,path:o,strokePath:a}=this,s=(i&1)!==0,r=(i&2)!==0;switch(e.type){case"GeometryCollection":e.geometries.forEach(n=>{t=this.drawGeometry(n,t)});break;case"MultiPolygon":s&&e.coordinates.forEach(n=>{t=this.drawPolygon(o,n,t)});break;case"Polygon":s&&(t=this.drawPolygon(o,e.coordinates,t));break;case"LineString":r&&(t=this.drawLineString(a,e.coordinates,t,!1));break;case"MultiLineString":r&&e.coordinates.forEach(n=>{t=this.drawLineString(a,n,t,!1)});break;case"Point":case"MultiPoint":break}return t}drawPolygon(e,t,i){if(t.length<1)return i;i=this.drawLineString(e,t[0],i,!0);for(let o=1;o<t.length;o+=1){const a=t[o];this.drawLineString(e,a,void 0,!0)}return i}drawLineString(e,t,i,o){if(t.length<2)return i;const a=o?t.length-1:t.length;for(let s=0;s<a;s+=1){const[r,n]=t[s];if(s===0?e.moveTo(r,n):e.lineTo(r,n),i==null)i=new BBox11(r,n,0,0);else{const{x:l,y:c}=i,p=l+i.width,h=c+i.height;i.x=Math.min(l,r),i.y=Math.min(c,n),i.width=Math.max(p,r)-i.x,i.height=Math.max(h,n)-i.y}}return o&&e.closePath(),i}};__decorateClass([ScenePathChangeDetection5()],GeoGeometry.prototype,"projectedGeometry",2),__decorateClass([ScenePathChangeDetection5()],GeoGeometry.prototype,"renderMode",2);function geometryBbox(e,t){if(e.bbox!=null){const[i,o,a,s]=e.bbox;return t=extendBbox(t,i,o,a,s),t}switch(e.type){case"GeometryCollection":e.geometries.forEach(i=>{t=geometryBbox(i,t)});break;case"MultiPolygon":e.coordinates.forEach(i=>{i.length>0&&(t=polygonBbox(i[0],t))});break;case"Polygon":e.coordinates.length>0&&(t=polygonBbox(e.coordinates[0],t));break;case"MultiLineString":e.coordinates.forEach(i=>{t=polygonBbox(i,t)});break;case"LineString":t=polygonBbox(e.coordinates,t);break;case"MultiPoint":e.coordinates.forEach(i=>{const[o,a]=i;t=extendBbox(t,o,a,o,a)});break;case"Point":{const[i,o]=e.coordinates;t=extendBbox(t,i,o,i,o);break}}return t}function largestPolygon(e){switch(e.type){case"GeometryCollection":{let t,i;return e.geometries.forEach(o=>{const a=largestPolygon(o);if(a==null)return;const s=polygonBbox(a[0],void 0);if(s==null)return;const r=Math.abs(s.lat1-s.lat0)*Math.abs(s.lon1-s.lon0);(t==null||r>t)&&(t=r,i=a)}),i}case"MultiPolygon":{let t,i;return e.coordinates.forEach(o=>{const a=polygonBbox(o[0],void 0);if(a==null)return;const s=Math.abs(a.lat1-a.lat0)*Math.abs(a.lon1-a.lon0);(t==null||s>t)&&(t=s,i=o)}),i}case"Polygon":return e.coordinates;case"MultiLineString":case"LineString":case"MultiPoint":case"Point":return}}function largestLineString(e){switch(e.type){case"GeometryCollection":{let t,i;return e.geometries.forEach(o=>{const a=largestLineString(o);if(a==null)return;const s=lineStringLength(a);s!=null&&(t==null||s>t)&&(t=s,i=a)}),i}case"MultiLineString":{let t=0,i;return e.coordinates.forEach(o=>{const a=lineStringLength(o);a>t&&(t=a,i=o)}),i}case"LineString":return e.coordinates;case"MultiPolygon":case"Polygon":case"MultiPoint":case"Point":return}}function containsType(e,t){if(e==null)return!1;switch(e.type){case"GeometryCollection":return e.geometries.some(i=>containsType(i,t));case"MultiPolygon":case"Polygon":return(t&1)!==0;case"MultiLineString":case"LineString":return(t&2)!==0;case"MultiPoint":case"Point":return(t&4)!==0}}function projectGeometry(e,t){switch(e.type){case"GeometryCollection":return{type:"GeometryCollection",geometries:e.geometries.map(i=>projectGeometry(i,t))};case"Polygon":return{type:"Polygon",coordinates:projectPolygon(e.coordinates,t)};case"MultiPolygon":return{type:"MultiPolygon",coordinates:projectMultiPolygon(e.coordinates,t)};case"MultiLineString":return{type:"MultiLineString",coordinates:projectPolygon(e.coordinates,t)};case"LineString":return{type:"LineString",coordinates:projectLineString(e.coordinates,t)};case"MultiPoint":return{type:"MultiPoint",coordinates:projectLineString(e.coordinates,t)};case"Point":return{type:"Point",coordinates:t.convert(e.coordinates)}}}function projectMultiPolygon(e,t){return e.map(i=>projectPolygon(i,t))}function projectPolygon(e,t){return e.map(i=>projectLineString(i,t))}function projectLineString(e,t){return e.map(i=>t.convert(i))}function prepareMapMarkerAnimationFunctions(){return{fromFn:(i,o,a)=>a==="removed"?{scalingX:1,scalingY:1}:i.previousDatum==null?{scalingX:0,scalingY:0}:{scalingX:i.scalingX,scalingY:i.scalingY},toFn:(i,o,a)=>a==="removed"?{scalingX:0,scalingY:0}:{scalingX:1,scalingY:1}}}function findFocusedGeoGeometry(e,t){const i=e.contextNodeData?.nodeData[t.datumIndex];if(i!==void 0){for(const o of e.datumSelection.nodes())if(o.datum===i)return o}}var import_ag_charts_community99=require("ag-charts-community"),TopologySeriesProperties=class extends import_ag_charts_community99._ModuleSupport.SeriesProperties{},TopologySeries=class extends import_ag_charts_community99._ModuleSupport.DataModelSeries{addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",e=>{this.onLegendItemClick(e)}),this.ctx.chartEventManager.addListener("legend-item-double-click",e=>{this.onLegendItemDoubleClick(e)}))}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(e,t){return[NaN,NaN]}},import_ag_charts_community100=require("ag-charts-community"),{AND:AND6,ARRAY:ARRAY5,COLOR_STRING:COLOR_STRING13,COLOR_STRING_ARRAY:COLOR_STRING_ARRAY7,FUNCTION:FUNCTION10,LINE_DASH:LINE_DASH12,NUMBER_ARRAY:NUMBER_ARRAY3,OBJECT:OBJECT16,POSITIVE_NUMBER:POSITIVE_NUMBER15,RATIO:RATIO15,STRING:STRING12,TempValidate:TempValidate25,SeriesProperties:SeriesProperties3,SeriesTooltip:SeriesTooltip12,Label:Label8}=import_ag_charts_community100._ModuleSupport,MapLineSeriesProperties=class extends SeriesProperties3{constructor(){super(...arguments),this.topology=void 0,this.idKey="",this.topologyIdKey="name",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.maxStrokeWidth=void 0,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.label=new Label8,this.tooltip=new SeriesTooltip12}};__decorateClass([TempValidate25(GEOJSON_OBJECT,{optional:!0})],MapLineSeriesProperties.prototype,"topology",2),__decorateClass([TempValidate25(STRING12,{optional:!0})],MapLineSeriesProperties.prototype,"title",2),__decorateClass([TempValidate25(STRING12,{optional:!0})],MapLineSeriesProperties.prototype,"legendItemName",2),__decorateClass([TempValidate25(STRING12)],MapLineSeriesProperties.prototype,"idKey",2),__decorateClass([TempValidate25(STRING12)],MapLineSeriesProperties.prototype,"topologyIdKey",2),__decorateClass([TempValidate25(STRING12,{optional:!0})],MapLineSeriesProperties.prototype,"idName",2),__decorateClass([TempValidate25(STRING12,{optional:!0})],MapLineSeriesProperties.prototype,"labelKey",2),__decorateClass([TempValidate25(STRING12,{optional:!0})],MapLineSeriesProperties.prototype,"labelName",2),__decorateClass([TempValidate25(STRING12,{optional:!0})],MapLineSeriesProperties.prototype,"sizeKey",2),__decorateClass([TempValidate25(STRING12,{optional:!0})],MapLineSeriesProperties.prototype,"sizeName",2),__decorateClass([TempValidate25(STRING12,{optional:!0})],MapLineSeriesProperties.prototype,"colorKey",2),__decorateClass([TempValidate25(STRING12,{optional:!0})],MapLineSeriesProperties.prototype,"colorName",2),__decorateClass([TempValidate25(NUMBER_ARRAY3,{optional:!0})],MapLineSeriesProperties.prototype,"sizeDomain",2),__decorateClass([TempValidate25(AND6(COLOR_STRING_ARRAY7,ARRAY5.restrict({minLength:1})),{optional:!0})],MapLineSeriesProperties.prototype,"colorRange",2),__decorateClass([TempValidate25(POSITIVE_NUMBER15,{optional:!0})],MapLineSeriesProperties.prototype,"maxStrokeWidth",2),__decorateClass([TempValidate25(COLOR_STRING13)],MapLineSeriesProperties.prototype,"stroke",2),__decorateClass([TempValidate25(RATIO15)],MapLineSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate25(POSITIVE_NUMBER15)],MapLineSeriesProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate25(LINE_DASH12)],MapLineSeriesProperties.prototype,"lineDash",2),__decorateClass([TempValidate25(POSITIVE_NUMBER15)],MapLineSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([TempValidate25(FUNCTION10,{optional:!0})],MapLineSeriesProperties.prototype,"itemStyler",2),__decorateClass([TempValidate25(OBJECT16)],MapLineSeriesProperties.prototype,"label",2),__decorateClass([TempValidate25(OBJECT16)],MapLineSeriesProperties.prototype,"tooltip",2);var{getMissCount:getMissCount2,createDatumId:createDatumId13,SeriesNodePickMode:SeriesNodePickMode9,valueProperty:valueProperty9,CachedTextMeasurerPool:CachedTextMeasurerPool5,ColorScale:ColorScale2,LinearScale:LinearScale4,Selection:Selection6,Text:Text2,Transformable:Transformable2}=import_ag_charts_community101._ModuleSupport,MapLineSeries=class extends TopologySeries{constructor(e){super({moduleCtx:e,categoryKey:void 0,useLabelLayer:!0,pickModes:[SeriesNodePickMode9.EXACT_SHAPE_MATCH,SeriesNodePickMode9.NEAREST_NODE],usesPlacedLabels:!0}),this.properties=new MapLineSeriesProperties,this._chartTopology=void 0,this.colorScale=new ColorScale2,this.sizeScale=new LinearScale4,this.datumSelection=Selection6.select(this.contentGroup,()=>this.nodeFactory()),this.labelSelection=Selection6.select(this.labelGroup,Text2),this.highlightDatumSelection=Selection6.select(this.highlightNode,()=>this.nodeFactory()),this._previousDatumMidPoint=void 0}getNodeData(){return this.contextNodeData?.nodeData}get topology(){return this.properties.topology??this._chartTopology}get hasData(){return super.hasData&&this.topology!=null}renderToOffscreenCanvas(){return!0}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.contentGroup.zIndex=[1,e],this.highlightGroup.zIndex=[2,e],!0):!1}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}nodeFactory(){const e=new GeoGeometry;return e.renderMode=2,e.lineJoin="round",e.lineCap="round",e}async processData(e){if(this.data==null||!this.properties.isValid())return;const{data:t,topology:i,sizeScale:o,colorScale:a}=this,{topologyIdKey:s,idKey:r,sizeKey:n,colorKey:l,labelKey:c,sizeDomain:p,colorRange:h}=this.properties,u=new Map;i?.features.forEach(S=>{const D=S.properties?.[s];D==null||!containsType(S.geometry,2)||u.set(D,S)});const d=this.sizeScale.type,f=this.colorScale.type,g=this.scale?.type,{dataModel:m,processedData:y}=await this.requestDataModel(e,t,{props:[valueProperty9(r,g,{id:"idValue",includeProperty:!1}),valueProperty9(r,g,{id:"featureValue",includeProperty:!1,processor:()=>S=>u.get(S)}),...c!=null?[valueProperty9(c,"band",{id:"labelValue"})]:[],...n!=null?[valueProperty9(n,d,{id:"sizeValue"})]:[],...l!=null?[valueProperty9(l,f,{id:"colorValue"})]:[]]}),b=m.resolveColumnById(this,"featureValue",y);if(this.topologyBounds=b.reduce((S,D)=>{const k=D?.geometry;return k==null?S:geometryBbox(k,S)},void 0),n!=null){const S=m.resolveProcessedDataIndexById(this,"sizeValue"),D=y.domain.values[S]??[];o.domain=p??D}if(h!=null&&this.isColorScaleValid()){const S=m.resolveProcessedDataIndexById(this,"colorValue");a.domain=y.domain.values[S],a.range=h,a.update()}i==null&&import_ag_charts_core31.Logger.warnOnce("no topology was provided for [MapLineSeries]; nothing will be rendered.")}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const o=t.resolveProcessedDataIndexById(this,"colorValue"),a=i.input.count,s=getMissCount2(this,i.defs.values[o].missing);return!(a===0||a===s)}getLabelDatum(e,t,i,o){if(t==null||i==null)return;const a=largestLineString(i);if(a==null)return;const{idKey:s,idName:r,sizeKey:n,sizeName:l,colorKey:c,colorName:p,labelKey:h,labelName:u,label:d}=this.properties,f=this.getLabelText(d,{value:t,datum:e,idKey:s,idName:r,sizeKey:n,sizeName:l,colorKey:c,colorName:p,labelKey:h,labelName:u});if(f==null)return;const g=CachedTextMeasurerPool5.measureText(String(f),{font:o}),m=lineStringCenter(a);if(m==null)return;const[y,b]=m.point,{width:S,height:D}=g;return{point:{x:y,y:b,size:0},label:{width:S,height:D,text:f},anchor:void 0,placement:void 0}}createNodeData(){const{id:e,dataModel:t,processedData:i,sizeScale:o,properties:a,scale:s}=this,{idKey:r,sizeKey:n,colorKey:l,labelKey:c,label:p}=a;if(t==null||i==null)return;const h=t.resolveColumnById(this,"idValue",i),u=t.resolveColumnById(this,"featureValue",i),d=c!=null?t.resolveColumnById(this,"labelValue",i):void 0,f=n!=null?t.resolveColumnById(this,"sizeValue",i):void 0,g=l!=null?t.resolveColumnById(this,"colorValue",i):void 0,m=a.maxStrokeWidth??a.strokeWidth;o.range=[Math.min(a.strokeWidth,m),m];const y=p.getFont(),b=new Map;i.dataSources.get(this.id)?.forEach((v,N)=>{const O=h[N],_=u[N]?.geometry??void 0,R=_!=null&&s!=null?projectGeometry(_,s):void 0;O!=null&&R!=null&&b.set(O,R)});const S=[],D=[],k=[];(i.dataSources.get(this.id)??[]).forEach((v,N)=>{const O=h[N],_=g?.[N],R=f?.[N],I=d?.[N],T=b.get(O);T==null&&k.push(O);const C=this.getLabelDatum(v,I,T,y);C!=null&&D.push(C),S.push({series:this,itemId:r,datum:v,datumIndex:N,idValue:O,labelValue:I,colorValue:_,sizeValue:R,projectedGeometry:T})});const x=10;if(k.length>x){const v=k.length-x;k.length=x,k.push(`(+${v} more)`)}return k.length>0&&import_ag_charts_core31.Logger.warnOnce("some data items do not have matches in the provided topology",k),{itemId:e,nodeData:S,labelData:D}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(){const{datumSelection:e,highlightDatumSelection:t}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let i=this.ctx.highlightManager?.getActiveHighlight();i!=null&&(i.series!==this||i.datum==null)&&(i=void 0);const o=this.contextNodeData?.nodeData??[];this.datumSelection=this.updateDatumSelection({nodeData:o,datumSelection:e}),this.updateDatumNodes({datumSelection:e,isHighlight:!1}),this.highlightDatumSelection=this.updateDatumSelection({nodeData:i!=null?[i]:[],datumSelection:t}),this.updateDatumNodes({datumSelection:t,isHighlight:!0})}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId13(t.idValue))}getItemBaseStyle(e){const{properties:t}=this,i=e?t.highlightStyle.item:void 0;return{stroke:i?.stroke??t.stroke,strokeWidth:i?.strokeWidth??this.getStrokeWidth(t.strokeWidth),strokeOpacity:i?.strokeOpacity??t.strokeOpacity,lineDash:i?.lineDash??t.lineDash,lineDashOffset:i?.lineDashOffset??t.lineDashOffset}}getItemStyleOverrides(e,t,i,o,a,s){const{id:r,properties:n,colorScale:l,sizeScale:c}=this,{colorRange:p,itemStyler:h}=n;let u;if(!s&&i!=null&&(u??(u={}),u.stroke=this.isColorScaleValid()?l.convert(i):p?.[0]??n.stroke),o!=null&&(u??(u={}),u.strokeWidth=c.convert(o,!0)),h!=null){const d=this.cachedDatumCallback(createDatumId13(e,s?"highlight":"node"),()=>this.callWithContext(h,{seriesId:r,datum:t,highlighted:s,...a,...u}));u??(u={}),Object.assign(u,d)}return u}updateDatumNodes(e){const{datumSelection:t,isHighlight:i}=e,o=this.getItemBaseStyle(i);t.each((a,s)=>{const{datum:r,datumIndex:n,colorValue:l,sizeValue:c,projectedGeometry:p}=s;if(p==null){a.visible=!1,a.projectedGeometry=void 0;return}const h=this.getItemStyleOverrides(String(n),r,l,c,o,i);a.visible=!0,a.projectedGeometry=p,a.stroke=h?.stroke??o.stroke,a.strokeWidth=h?.strokeWidth??o.strokeWidth,a.strokeOpacity=h?.strokeOpacity??o.strokeOpacity,a.lineDash=h?.lineDash??o.lineDash,a.lineDashOffset=h?.lineDashOffset??o.lineDashOffset})}updatePlacedLabelData(e){this.labelSelection=this.labelSelection.update(e,t=>{t.pointerEvents=import_ag_charts_community101._ModuleSupport.PointerEvents.None}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(e){const{labelSelection:t}=e,{color:i,fontStyle:o,fontWeight:a,fontSize:s,fontFamily:r}=this.properties.label;t.each((n,{x:l,y:c,width:p,height:h,text:u})=>{n.visible=!0,n.x=l+p/2,n.y=c+h/2,n.text=u,n.fill=i,n.fontStyle=o,n.fontWeight=a,n.fontSize=s,n.fontFamily=r,n.textAlign="center",n.textBaseline="middle"})}resetAnimation(){}getLabelData(){return this.isLabelEnabled()?this.contextNodeData?.labelData??[]:[]}pickNodeClosestDatum({x:e,y:t}){let i=1/0,o;return this.datumSelection.each((a,s)=>{const r=a.distanceSquared(e,t);r<i&&(i=r,o=s)}),o!=null?{datum:o,distance:Math.sqrt(i)}:void 0}datumMidPoint(e){const{_previousDatumMidPoint:t}=this;if(t?.datum===e)return t.point;const i=e.projectedGeometry,o=i!=null?largestLineString(i):void 0,a=o!=null?lineStringCenter(o)?.point:void 0,s=a!=null?{x:a[0],y:a[1]}:void 0;return this._previousDatumMidPoint={datum:e,point:s},s}legendItemSymbol(e){const{dataModel:t,processedData:i,properties:o}=this,{strokeWidth:a,strokeOpacity:s,lineDash:r}=o;let{stroke:n}=o;if(e!=null&&this.isColorScaleValid()){const c=t.resolveColumnById(this,"colorValue",i)[e];n=this.colorScale.convert(c)}return{marker:{fill:void 0,fillOpacity:0,stroke:void 0,strokeWidth:0,strokeOpacity:0,lineDash:[0],lineDashOffset:0,enabled:!1},line:{stroke:n,strokeWidth:a,strokeOpacity:s,lineDash:r}}}getLegendData(e){const{processedData:t,dataModel:i}=this;if(t==null||i==null)return[];const{id:o,visible:a}=this,{title:s,legendItemName:r,idKey:n,idName:l,colorKey:c,colorName:p,colorRange:h,showInLegend:u}=this.properties;if(e==="gradient"&&c!=null&&h!=null){const d=t.domain.values[i.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:a,seriesId:o,colorName:p,colorRange:h,colorDomain:d}]}else return e==="category"?[{legendType:"category",id:o,itemId:o,seriesId:o,enabled:a,label:{text:r??s??l??n},symbol:this.legendItemSymbol(),legendItemName:r,hideInLegend:!u}]:[]}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,properties:a}=this,{idKey:s,idName:r,colorKey:n,colorName:l,sizeKey:c,sizeName:p,labelKey:h,labelName:u,title:d,legendItemName:f,tooltip:g}=a;if(!i||!o)return;const m=o.dataSources.get(this.id)?.[e],y=i.resolveColumnById(this,"idValue",o),b=[],S=c!=null?i.resolveColumnById(this,"sizeValue",o)[e]:void 0,D=n!=null?i.resolveColumnById(this,"colorValue",o)[e]:void 0;if(c!=null&&b.push({label:p,fallbackLabel:c,value:String(S)}),n!=null&&b.push({label:l,fallbackLabel:n,value:String(D)}),h!=null&&h!==s){const A=i.resolveColumnById(this,"labelValue",o)[e];b.push({label:u,fallbackLabel:h,value:A})}const k=this.getItemBaseStyle(!1);return Object.assign(k,this.getItemStyleOverrides(String(e),e,D,S,k,!1)),g.formatTooltip(this.properties,{heading:y[e],title:d??f,symbol:this.legendItemSymbol(e),data:b},{seriesId:t,datum:m,title:d,idKey:s,idName:r,colorKey:n,colorName:l,sizeKey:c,sizeName:p,labelKey:h,labelName:u,...k})}computeFocusBounds(e){const t=findFocusedGeoGeometry(this,e);return t?Transformable2.toCanvas(this.contentGroup,t.getBBox()):void 0}};MapLineSeries.className="MapLineSeries",MapLineSeries.type="map-line";var import_ag_charts_community102=require("ag-charts-community"),import_ag_charts_core32=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs12,seriesLabelOptionsDefs:seriesLabelOptionsDefs8,tooltipOptionsDefs:tooltipOptionsDefs12}=import_ag_charts_community102._ModuleSupport,mapLineSeriesOptionsDef={type:(0,import_ag_charts_core32.required)((0,import_ag_charts_core32.constant)("map-line")),idKey:(0,import_ag_charts_core32.required)(import_ag_charts_core32.string),sizeKey:import_ag_charts_core32.string,colorKey:import_ag_charts_core32.string,labelKey:import_ag_charts_core32.string,idName:import_ag_charts_core32.string,sizeName:import_ag_charts_core32.string,colorName:import_ag_charts_core32.string,labelName:import_ag_charts_core32.string,topology:import_ag_charts_core32.object,topologyIdKey:import_ag_charts_core32.string,legendItemName:import_ag_charts_core32.string,maxStrokeWidth:import_ag_charts_core32.positiveNumber,title:import_ag_charts_core32.string,itemStyler:import_ag_charts_core32.callback,sizeDomain:(0,import_ag_charts_core32.arrayOf)(import_ag_charts_core32.positiveNumber),label:seriesLabelOptionsDefs8,tooltip:tooltipOptionsDefs12,...commonSeriesOptionsDefs12,...import_ag_charts_core32.strokeOptionsDef,...import_ag_charts_core32.lineDashOptionsDef,highlightStyle:{...commonSeriesOptionsDefs12.highlightStyle,...import_ag_charts_core32.strokeOptionsDef}};mapLineSeriesOptionsDef.colorRange=(0,import_ag_charts_core32.and)((0,import_ag_charts_core32.arrayOf)(import_ag_charts_core32.color),(0,import_ag_charts_core32.arrayLength)(1));var MapLineModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-line",moduleFactory:e=>new MapLineSeries(e),tooltipDefaults:{range:"exact"},themeTemplate:{...MAP_THEME_DEFAULTS,series:{stroke:import_ag_charts_community103._ModuleSupport.SAFE_STROKE_FILL_OPERATION,colorRange:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$palette:"divergingColors"},import_ag_charts_community103._ModuleSupport.SAFE_RANGE2_OPERATION]},strokeWidth:1,maxStrokeWidth:3,lineDash:[0],lineDashOffset:0,label:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}},tooltip:{range:"exact"}}},MapLineSeriesModule={type:"series",name:"map-line",chartType:"topology",enterprise:!0,options:mapLineSeriesOptionsDef,create:e=>new MapLineSeries(e)},import_ag_charts_community107=require("ag-charts-community"),import_ag_charts_community105=require("ag-charts-community"),import_ag_charts_core33=require("ag-charts-core"),import_ag_charts_community104=require("ag-charts-community"),{COLOR_STRING:COLOR_STRING14,LINE_DASH:LINE_DASH13,OBJECT:OBJECT17,POSITIVE_NUMBER:POSITIVE_NUMBER16,RATIO:RATIO16,TempValidate:TempValidate26,SeriesProperties:SeriesProperties4,SeriesTooltip:SeriesTooltip13}=import_ag_charts_community104._ModuleSupport,MapLineBackgroundSeriesProperties=class extends SeriesProperties4{constructor(){super(...arguments),this.topology=void 0,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.tooltip=new SeriesTooltip13}};__decorateClass([TempValidate26(GEOJSON_OBJECT,{optional:!0})],MapLineBackgroundSeriesProperties.prototype,"topology",2),__decorateClass([TempValidate26(COLOR_STRING14)],MapLineBackgroundSeriesProperties.prototype,"stroke",2),__decorateClass([TempValidate26(RATIO16)],MapLineBackgroundSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate26(POSITIVE_NUMBER16)],MapLineBackgroundSeriesProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate26(LINE_DASH13)],MapLineBackgroundSeriesProperties.prototype,"lineDash",2),__decorateClass([TempValidate26(POSITIVE_NUMBER16)],MapLineBackgroundSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([TempValidate26(OBJECT17)],MapLineBackgroundSeriesProperties.prototype,"tooltip",2);var{createDatumId:createDatumId14,SeriesNodePickMode:SeriesNodePickMode10,Group:Group9,Selection:Selection7,PointerEvents:PointerEvents6}=import_ag_charts_community105._ModuleSupport,MapLineBackgroundSeries=class extends TopologySeries{constructor(e){super({moduleCtx:e,categoryKey:void 0,useLabelLayer:!0,pickModes:[SeriesNodePickMode10.EXACT_SHAPE_MATCH]}),this.properties=new MapLineBackgroundSeriesProperties,this._chartTopology=void 0,this.itemGroup=this.contentGroup.appendChild(new Group9({name:"itemGroup"})),this.datumSelection=Selection7.select(this.itemGroup,()=>this.nodeFactory())}getNodeData(){return this.contextNodeData?.nodeData}get topology(){return this.properties.topology??this._chartTopology}get focusable(){return!1}setOptionsData(){}setChartData(){}get hasData(){return!1}renderToOffscreenCanvas(){return!0}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.contentGroup.zIndex=[0,e,0],this.highlightGroup.zIndex=[0,e,1],!0):!1}nodeFactory(){const e=new GeoGeometry;return e.renderMode=2,e.lineJoin="round",e.lineCap="round",e.pointerEvents=PointerEvents6.None,e}processData(){const{topology:e}=this;this.topologyBounds=e?.features.reduce((t,i)=>{const o=i.geometry;return o==null?t:geometryBbox(o,t)},void 0),e==null&&import_ag_charts_core33.Logger.warnOnce("no topology was provided for [MapShapeBackgroundSeries]; nothing will be rendered.")}createNodeData(){const{id:e,topology:t,scale:i}=this;if(t==null)return;const o=[],a=[];return t.features.forEach((s,r)=>{const{geometry:n}=s,l=n!=null&&i!=null?projectGeometry(n,i):void 0;l!=null&&o.push({series:this,itemId:r,datum:s,datumIndex:0,index:r,projectedGeometry:l})}),{itemId:e,nodeData:o,labelData:a}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(){const{datumSelection:e}=this;this.updateSelections(),this.contentGroup.visible=this.visible;const{nodeData:t=[]}=this.contextNodeData??{};this.datumSelection=this.updateDatumSelection({nodeData:t,datumSelection:e}),this.updateDatumNodes({datumSelection:e})}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId14(t.index))}updateDatumNodes(e){const{properties:t}=this,{datumSelection:i}=e,{stroke:o,strokeOpacity:a,lineDash:s,lineDashOffset:r}=t,n=this.getStrokeWidth(t.strokeWidth);i.each((l,c)=>{const{projectedGeometry:p}=c;if(p==null){l.visible=!1,l.projectedGeometry=void 0;return}l.visible=!0,l.projectedGeometry=p,l.stroke=o,l.strokeWidth=n,l.strokeOpacity=a,l.lineDash=s,l.lineDashOffset=r})}resetAnimation(){}getLegendData(){return[]}getTooltipContent(e){}computeFocusBounds(e){}};MapLineBackgroundSeries.className="MapLineBackgroundSeries",MapLineBackgroundSeries.type="map-line-background";var import_ag_charts_community106=require("ag-charts-community"),import_ag_charts_core34=require("ag-charts-core"),mapLineBackgroundSeriesOptionsDef={type:(0,import_ag_charts_core34.required)((0,import_ag_charts_core34.constant)("map-line-background")),topology:import_ag_charts_core34.object,...import_ag_charts_core34.strokeOptionsDef,...import_ag_charts_core34.lineDashOptionsDef},MapLineBackgroundModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-line-background",moduleFactory:e=>new MapLineBackgroundSeries(e),tooltipDefaults:{range:"exact"},themeTemplate:{...MAP_THEME_DEFAULTS,series:{stroke:{$path:["./1",{$palette:"stroke"},{$palette:"secondHierarchyColors"}]},strokeWidth:1,lineDash:[0],lineDashOffset:0}}},MapLineBackgroundSeriesModule={type:"series",name:"map-line-background",chartType:"topology",enterprise:!0,options:mapLineBackgroundSeriesOptionsDef,create:e=>new MapLineBackgroundSeries(e)},import_ag_charts_community112=require("ag-charts-community"),import_ag_charts_core37=require("ag-charts-core"),import_ag_charts_community110=require("ag-charts-community"),import_ag_charts_core35=require("ag-charts-core"),insertManySorted=(e,t,i)=>{let o=e,a=o;for(const s of t)if(o==null||i(o.value,s)>0)o={value:s,next:o},a=o;else{for(a=a;a.next!=null&&i(a.next.value,s)<=0;)a=a.next;a.next={value:s,next:a.next}}return o};function polygonPointSearch(e,t,i){const o=polygonBbox(e[0],void 0);if(o==null)return;const a=(o.lon0+o.lon1)/2,s=(o.lat0+o.lat1)/2,r=Math.abs(o.lon1-o.lon0),n=Math.abs(o.lat1-o.lat0),l=polygonCentroid(e[0]),[c,p]=l,h=-polygonDistance(e,c,p);let u;const d=(k,A)=>{const v=Math.max(A-h,0);return k-.5*v},f=(k,A,x)=>{const{distance:v,maxDistance:N}=i(e,k,A,x),O=Math.hypot(c-k,p-A),_=Math.min(Math.max(c,k-x/2),k+x/2),R=Math.min(Math.max(p,A-x/2),A+x/2),I=Math.hypot(c-_,p-R),T=d(v,O),C=d(N,I);return{distance:v,maxDistance:N,value:T,maxValue:C,x:k,y:A,stride:x}},g=(k,A,x,v)=>{const N=f(A,x,v);N.maxDistance>=0&&k.push(N)},m=Math.min(r,n)/2;let y={value:f(a,s,m),next:null};for(;y!=null;){const k=y.value,{distance:A,value:x,maxValue:v,x:N,y:O,stride:_}=k;if(y=y.next,A>0&&(u==null||x>u.value)&&(u=k),u!=null&&v-u.value<=t)continue;const R=_/2,I=[];g(I,N-R,O-R,R),g(I,N+R,O-R,R),g(I,N-R,O+R,R),g(I,N+R,O+R,R),I.sort(labelPlacementCmp),y=insertManySorted(y,I,labelPlacementCmp)}if(u==null)return;const{distance:b,x:S,y:D}=u;return{x:S,y:D,distance:b}}var labelPlacementCmp=(e,t)=>t.maxValue-e.maxValue;function polygonMarkerCenter(e,t){const i=polygonPointSearch(e,t,(s,r,n,l)=>{const c=-polygonDistance(s,r,n),p=c+l*Math.SQRT2;return{distance:c,maxDistance:p}});if(i==null)return;const{x:o,y:a}=i;return[o,a]}function markerPositions(e,t){let i;switch(e.type){case"GeometryCollection":return e.geometries.flatMap(o=>markerPositions(o,t));case"MultiPoint":return e.coordinates;case"Point":return[e.coordinates];case"MultiPolygon":{const o=largestPolygon(e);i=o!=null?polygonMarkerCenter(o,t):void 0;break}case"Polygon":{const o=e.coordinates;i=o!=null?polygonMarkerCenter(o,t):void 0;break}case"MultiLineString":{const o=largestLineString(e);i=o!=null?lineStringCenter(o)?.point:void 0;break}case"LineString":{const o=e.coordinates;i=lineStringCenter(o)?.point;break}}return i!=null?[i]:[]}var import_ag_charts_community108=require("ag-charts-community"),{BBox:BBox12}=import_ag_charts_community108._ModuleSupport;function getTopologyShapeFillBBox(e){if(!e)return;const{range:t}=e,i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=new BBox12(0,0,i,o);return{series:a,axis:a}}var import_ag_charts_community109=require("ag-charts-community"),{FillGradientDefaults:FillGradientDefaults9,FillPatternDefaults:FillPatternDefaults9,AND:AND7,ARRAY:ARRAY6,COLOR_STRING:COLOR_STRING15,COLOR_STRING_ARRAY:COLOR_STRING_ARRAY8,FUNCTION:FUNCTION11,NUMBER_ARRAY:NUMBER_ARRAY4,OBJECT:OBJECT18,OR:OR11,COLOR_GRADIENT:COLOR_GRADIENT9,COLOR_PATTERN:COLOR_PATTERN9,POSITIVE_NUMBER:POSITIVE_NUMBER17,RATIO:RATIO17,STRING:STRING13,MARKER_SHAPE:MARKER_SHAPE2,LINE_DASH:LINE_DASH14,TempValidate:TempValidate27,SeriesProperties:SeriesProperties5,SeriesTooltip:SeriesTooltip14,Label:Label9}=import_ag_charts_community109._ModuleSupport,MapMarkerSeriesLabel=class extends Label9{constructor(){super(...arguments),this.placement="bottom"}};__decorateClass([TempValidate27(STRING13)],MapMarkerSeriesLabel.prototype,"placement",2);var MapMarkerSeriesProperties=class extends SeriesProperties5{constructor(){super(...arguments),this.topology=void 0,this.idKey=void 0,this.topologyIdKey="name",this.idName=void 0,this.latitudeKey=void 0,this.latitudeName=void 0,this.longitudeKey=void 0,this.longitudeName=void 0,this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.shape="circle",this.size=6,this.fill="black",this.fillGradientDefaults=new FillGradientDefaults9,this.fillPatternDefaults=new FillPatternDefaults9,this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.label=new MapMarkerSeriesLabel,this.tooltip=new SeriesTooltip14}};__decorateClass([TempValidate27(GEOJSON_OBJECT,{optional:!0})],MapMarkerSeriesProperties.prototype,"topology",2),__decorateClass([TempValidate27(STRING13,{optional:!0})],MapMarkerSeriesProperties.prototype,"title",2),__decorateClass([TempValidate27(STRING13,{optional:!0})],MapMarkerSeriesProperties.prototype,"legendItemName",2),__decorateClass([TempValidate27(STRING13,{optional:!0})],MapMarkerSeriesProperties.prototype,"idKey",2),__decorateClass([TempValidate27(STRING13)],MapMarkerSeriesProperties.prototype,"topologyIdKey",2),__decorateClass([TempValidate27(STRING13,{optional:!0})],MapMarkerSeriesProperties.prototype,"idName",2),__decorateClass([TempValidate27(STRING13,{optional:!0})],MapMarkerSeriesProperties.prototype,"latitudeKey",2),__decorateClass([TempValidate27(STRING13,{optional:!0})],MapMarkerSeriesProperties.prototype,"latitudeName",2),__decorateClass([TempValidate27(STRING13,{optional:!0})],MapMarkerSeriesProperties.prototype,"longitudeKey",2),__decorateClass([TempValidate27(STRING13,{optional:!0})],MapMarkerSeriesProperties.prototype,"longitudeName",2),__decorateClass([TempValidate27(STRING13,{optional:!0})],MapMarkerSeriesProperties.prototype,"labelKey",2),__decorateClass([TempValidate27(STRING13,{optional:!0})],MapMarkerSeriesProperties.prototype,"labelName",2),__decorateClass([TempValidate27(STRING13,{optional:!0})],MapMarkerSeriesProperties.prototype,"sizeKey",2),__decorateClass([TempValidate27(STRING13,{optional:!0})],MapMarkerSeriesProperties.prototype,"sizeName",2),__decorateClass([TempValidate27(STRING13,{optional:!0})],MapMarkerSeriesProperties.prototype,"colorKey",2),__decorateClass([TempValidate27(STRING13,{optional:!0})],MapMarkerSeriesProperties.prototype,"colorName",2),__decorateClass([TempValidate27(AND7(COLOR_STRING_ARRAY8,ARRAY6.restrict({minLength:1})),{optional:!0})],MapMarkerSeriesProperties.prototype,"colorRange",2),__decorateClass([TempValidate27(MARKER_SHAPE2)],MapMarkerSeriesProperties.prototype,"shape",2),__decorateClass([TempValidate27(POSITIVE_NUMBER17)],MapMarkerSeriesProperties.prototype,"size",2),__decorateClass([TempValidate27(POSITIVE_NUMBER17,{optional:!0})],MapMarkerSeriesProperties.prototype,"maxSize",2),__decorateClass([TempValidate27(NUMBER_ARRAY4,{optional:!0})],MapMarkerSeriesProperties.prototype,"sizeDomain",2),__decorateClass([TempValidate27(OR11(COLOR_GRADIENT9,COLOR_PATTERN9,COLOR_STRING15))],MapMarkerSeriesProperties.prototype,"fill",2),__decorateClass([TempValidate27(OBJECT18)],MapMarkerSeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([TempValidate27(OBJECT18)],MapMarkerSeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([TempValidate27(RATIO17)],MapMarkerSeriesProperties.prototype,"fillOpacity",2),__decorateClass([TempValidate27(COLOR_STRING15)],MapMarkerSeriesProperties.prototype,"stroke",2),__decorateClass([TempValidate27(POSITIVE_NUMBER17)],MapMarkerSeriesProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate27(RATIO17)],MapMarkerSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate27(LINE_DASH14)],MapMarkerSeriesProperties.prototype,"lineDash",2),__decorateClass([TempValidate27(POSITIVE_NUMBER17)],MapMarkerSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([TempValidate27(FUNCTION11,{optional:!0})],MapMarkerSeriesProperties.prototype,"itemStyler",2),__decorateClass([TempValidate27(OBJECT18)],MapMarkerSeriesProperties.prototype,"label",2),__decorateClass([TempValidate27(OBJECT18)],MapMarkerSeriesProperties.prototype,"tooltip",2);var{CachedTextMeasurerPool:CachedTextMeasurerPool6,fromToMotion:fromToMotion3,StateMachine:StateMachine2,getMissCount:getMissCount3,createDatumId:createDatumId15,SeriesNodePickMode:SeriesNodePickMode11,valueProperty:valueProperty10,computeMarkerFocusBounds:computeMarkerFocusBounds2,ColorScale:ColorScale3,LinearScale:LinearScale5,Group:Group10,Selection:Selection8,Text:Text3,Marker:Marker2,applyShapeStyle:applyShapeStyle6,getShapeStyle:getShapeStyle10}=import_ag_charts_community110._ModuleSupport,MapMarkerSeries=class extends TopologySeries{constructor(e){super({moduleCtx:e,categoryKey:void 0,useLabelLayer:!0,pickModes:[SeriesNodePickMode11.EXACT_SHAPE_MATCH,SeriesNodePickMode11.NEAREST_NODE],usesPlacedLabels:!0}),this.properties=new MapMarkerSeriesProperties,this._chartTopology=void 0,this.colorScale=new ColorScale3,this.sizeScale=new LinearScale5,this.markerGroup=this.contentGroup.appendChild(new Group10({name:"markerGroup"})),this.labelSelection=Selection8.select(this.labelGroup,Text3,!1),this.markerSelection=Selection8.select(this.markerGroup,Marker2,!1),this.highlightMarkerSelection=Selection8.select(this.highlightNode,Marker2),this.animationState=new StateMachine2("empty",{empty:{update:{target:"ready",action:()=>this.animateMarkers()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.resetAllAnimation(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateMarkers()},resize:{target:"ready",action:()=>this.resetAllAnimation()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:()=>this.resetAllAnimation()},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getNodeData(){return this.contextNodeData?.nodeData}get topology(){return this.properties.topology??this._chartTopology}get hasData(){const e=this.properties.latitudeKey!=null&&this.properties.longitudeKey!=null;return super.hasData&&(this.topology!=null||e)}renderToOffscreenCanvas(){return!0}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.contentGroup.zIndex=[3,e],this.highlightGroup.zIndex=[4,e],!0):!1}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}async processData(e){if(this.data==null||!this.properties.isValid())return;const{data:t,topology:i,sizeScale:o,colorScale:a}=this,{topologyIdKey:s,idKey:r,latitudeKey:n,longitudeKey:l,sizeKey:c,colorKey:p,labelKey:h,sizeDomain:u,colorRange:d}=this.properties,f=new Map;i?.features.forEach(v=>{const N=v.properties?.[s];N!=null&&f.set(N,v)});const g=this.sizeScale.type,m=this.colorScale.type,y=this.scale?.type,b=n!=null&&l!=null,{dataModel:S,processedData:D}=await this.requestDataModel(e,t,{props:[...r!=null?[valueProperty10(r,y,{id:"idValue",includeProperty:!1}),valueProperty10(r,y,{id:"featureValue",includeProperty:!1,processor:()=>v=>f.get(v)})]:[],...b?[valueProperty10(n,y,{id:"latValue"}),valueProperty10(l,y,{id:"lonValue"})]:[],...h?[valueProperty10(h,"band",{id:"labelValue"})]:[],...c?[valueProperty10(c,g,{id:"sizeValue"})]:[],...p?[valueProperty10(p,m,{id:"colorValue"})]:[]]}),k=r!=null?S.resolveColumnById(this,"featureValue",D):void 0,A=b?S.resolveColumnById(this,"latValue",D):void 0,x=b?S.resolveColumnById(this,"lonValue",D):void 0;if(this.topologyBounds=D.dataSources.get(this.id)?.reduce((v,N,O)=>{const R=k?.[O]?.geometry;if(R!=null&&(v=geometryBbox(R,v)),A!=null&&x!=null){const I=x[O],T=A[O];v=extendBbox(v,I,T,I,T)}return v},void 0),c!=null){const v=S.resolveProcessedDataIndexById(this,"sizeValue"),N=D.domain.values[v]??[];o.domain=u??N}if(d!=null&&this.isColorScaleValid()){const v=S.resolveProcessedDataIndexById(this,"colorValue");a.domain=D.domain.values[v],a.range=d,a.update()}this.animationState.transition("updateData")}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const o=t.resolveProcessedDataIndexById(this,"colorValue"),a=i.input.count,s=getMissCount3(this,i.defs.values[o].missing);return!(a===0||a===s)}getLabelDatum(e,t,i,o,a,s){if(t==null)return;const{idKey:r,idName:n,latitudeKey:l,latitudeName:c,longitudeKey:p,longitudeName:h,sizeKey:u,sizeName:d,colorKey:f,colorName:g,labelKey:m,labelName:y,label:b,shape:S}=this.properties,{placement:D}=b,k=this.getLabelText(b,{value:t,datum:e,idKey:r,idName:n,latitudeKey:l,latitudeName:c,longitudeKey:p,longitudeName:h,sizeKey:u,sizeName:d,colorKey:f,colorName:g,labelKey:m,labelName:y});if(k==null)return;const{width:A,height:x}=CachedTextMeasurerPool6.measureText(String(k),{font:s}),v=Marker2.anchor(S);return{point:{x:i,y:o,size:a},label:{width:A,height:x,text:k},anchor:v,placement:D}}createNodeData(){const{id:e,dataModel:t,processedData:i,sizeScale:o,properties:a,scale:s}=this,{idKey:r,latitudeKey:n,longitudeKey:l,sizeKey:c,colorKey:p,labelKey:h,label:u}=a;if(t==null||i==null||s==null)return;const d=n!=null&&l!=null,f=r!=null?t.resolveColumnById(this,"idValue",i):void 0,g=r!=null?t.resolveColumnById(this,"featureValue",i):void 0,m=d?t.resolveColumnById(this,"latValue",i):void 0,y=d?t.resolveColumnById(this,"lonValue",i):void 0,b=h!=null?t.resolveColumnById(this,"labelValue",i):void 0,S=c!=null?t.resolveColumnById(this,"sizeValue",i):void 0,D=p!=null?t.resolveColumnById(this,"colorValue",i):void 0,k=a.maxSize??a.size;o.range=[Math.min(a.size,k),k];const A=u.getFont();let x;f!=null&&g!=null&&(x=new Map,i.dataSources.get(this.id)?.forEach((I,T)=>{const C=f[T],M=g[T]?.geometry??void 0,P=M!=null&&s!=null?projectGeometry(M,s):void 0;C!=null&&P!=null&&x.set(C,P)}));const v=[],N=[],O=[];(i.dataSources.get(this.id)??[]).forEach((I,T)=>{const C=f?.[T],M=y?.[T],P=m?.[T],B=D?.[T],L=S?.[T],w=b?.[T],E=L!=null?o.convert(L,!0):a.size,G=C!=null?x?.get(C):void 0;if(C!=null&&projectGeometry==null&&O.push(C),M!=null&&P!=null){const[F,V]=s.convert([M,P]),W=this.getLabelDatum(I,w,F,V,E,A);W&&N.push(W),v.push({series:this,itemId:n,datum:I,datumIndex:T,index:-1,idValue:C,lonValue:M,latValue:P,labelValue:w,sizeValue:L,colorValue:B,point:{x:F,y:V,size:E},midPoint:{x:F,y:V}})}else G!=null&&markerPositions(G,1).forEach(([F,V],W)=>{const K=this.getLabelDatum(I,w,F,V,E,A);K&&N.push(K),v.push({series:this,itemId:n,datum:I,datumIndex:T,index:W,idValue:C,lonValue:M,latValue:P,labelValue:w,sizeValue:L,colorValue:B,point:{x:F,y:V,size:E},midPoint:{x:F,y:V}})})});const R=10;if(O.length>R){const I=O.length-R;O.length=R,O.push(`(+${I} more)`)}return O.length>0&&import_ag_charts_core35.Logger.warnOnce("some data items do not have matches in the provided topology",O),{itemId:e,nodeData:v,labelData:N}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}checkScaleChange(){return this.previousScale===this.scale?!1:(this.previousScale=this.scale,!0)}update({seriesRect:e}){const t=this.checkResize(e),i=this.checkScaleChange(),{markerSelection:o,highlightMarkerSelection:a}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let s=this.ctx.highlightManager?.getActiveHighlight();s!=null&&(s.series!==this||s.datum==null)&&(s=void 0);const r=this.contextNodeData?.nodeData??[];this.markerSelection=this.updateMarkerSelection({markerData:r,markerSelection:o}),this.updateMarkerNodes({markerSelection:o,isHighlight:!1,highlightedDatum:s}),this.highlightMarkerSelection=this.updateMarkerSelection({markerData:s!=null?[s]:[],markerSelection:a}),this.updateMarkerNodes({markerSelection:a,isHighlight:!0,highlightedDatum:s}),(i||t)&&this.animationState.transition("resize"),this.animationState.transition("update")}updatePlacedLabelData(e){this.labelSelection=this.labelSelection.update(e,t=>{t.pointerEvents=import_ag_charts_community110._ModuleSupport.PointerEvents.None}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(e){const{labelSelection:t}=e,{color:i,fontStyle:o,fontWeight:a,fontSize:s,fontFamily:r}=this.properties.label;t.each((n,{x:l,y:c,width:p,height:h,text:u})=>{n.visible=!0,n.x=l+p/2,n.y=c+h/2,n.text=u,n.fill=i,n.fontStyle=o,n.fontWeight=a,n.fontSize=s,n.fontFamily=r,n.textAlign="center",n.textBaseline="middle"})}updateMarkerSelection(e){const{markerData:t,markerSelection:i}=e;return i.update(t,void 0,o=>createDatumId15([o.index,o.idValue,o.lonValue,o.latValue]))}getMarkerItemBaseStyle(e){const{properties:t}=this,i=e?t.highlightStyle.item:void 0;return getShapeStyle10({shape:t.shape,size:t.size,fill:i?.fill??t.fill,fillOpacity:i?.fillOpacity??t.fillOpacity,stroke:i?.stroke??t.stroke,strokeWidth:i?.strokeWidth??this.getStrokeWidth(t.strokeWidth),strokeOpacity:i?.strokeOpacity??t.strokeOpacity,lineDash:i?.lineDash??t.lineDash,lineDashOffset:i?.lineDashOffset??t.lineDashOffset},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults)}getMarkerItemStyleOverrides(e,t,i,o,a,s){const{id:r,properties:n,colorScale:l,sizeScale:c}=this,{colorRange:p,itemStyler:h}=n;let u;if(u??(u={}),!s&&i!=null&&(u.fill=this.isColorScaleValid()?l.convert(i):p?.[0]??n.fill),o!=null&&(u.size=c.convert(o,!0)),h!=null){const d=this.cachedDatumCallback(createDatumId15(e,s?"highlight":"node"),()=>this.callWithContext(h,{seriesId:r,datum:t,highlighted:s,...a,...u}));u??(u={}),Object.assign(u,d)}return u}updateMarkerNodes(e){const{markerSelection:t,isHighlight:i,highlightedDatum:o}=e,a=this.getMarkerItemBaseStyle(i),s=getTopologyShapeFillBBox(this.scale);t.each((r,n)=>{const{datumIndex:l,datum:c,point:p,colorValue:h,sizeValue:u}=n,d=this.getMarkerItemStyleOverrides(String(l),c,h,u,a,i);r.shape=d?.shape??a.shape,r.size=d?.size??a.size,applyShapeStyle6(r,a,d,s),r.x=p.x,r.y=p.y,r.scalingCenterX=p.x,r.scalingCenterY=p.y,r.zIndex=!i&&o!=null&&c===o.datum?1:0})}isProcessedDataAnimatable(){return!0}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),this.ctx.animationManager.skipCurrentBatch(),this.labelSelection.cleanup(),this.markerSelection.cleanup(),this.highlightMarkerSelection.cleanup()}animateMarkers(){const{animationManager:e}=this.ctx,t=prepareMapMarkerAnimationFunctions();fromToMotion3(this.id,"markers",e,[this.markerSelection,this.highlightMarkerSelection],t)}getLabelData(){return this.isLabelEnabled()?this.contextNodeData?.labelData??[]:[]}pickNodeClosestDatum(e){const{x:t,y:i}=e;let o=1/0,a;return this.contextNodeData?.nodeData.forEach(s=>{const{x:r,y:n,size:l}=s.point,c=Math.max(Math.abs(r-t)-l,0),p=Math.max(Math.abs(n-i)-l,0),h=c*c+p*p;h<o&&(o=h,a=s)}),a!=null?{datum:a,distance:Math.sqrt(o)}:void 0}legendItemSymbol(e){const{dataModel:t,processedData:i,properties:o}=this,{shape:a,fillOpacity:s,stroke:r,strokeWidth:n,strokeOpacity:l,lineDash:c,lineDashOffset:p}=o;let{fill:h}=o;if(e!=null&&this.isColorScaleValid()){const d=t.resolveColumnById(this,"colorValue",i)[e];h=this.colorScale.convert(d)}return{marker:getShapeStyle10({shape:a,fill:h,fillOpacity:s,stroke:r,strokeWidth:n,strokeOpacity:l,lineDash:c,lineDashOffset:p},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults)}}getLegendData(e){const{processedData:t,dataModel:i}=this;if(t==null||i==null)return[];const{id:o,visible:a}=this,{title:s,legendItemName:r,idName:n,idKey:l,colorKey:c,colorName:p,colorRange:h,showInLegend:u}=this.properties;if(e==="gradient"&&c!=null&&h!=null){const d=t.domain.values[i.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:a,seriesId:o,colorName:p,colorRange:h,colorDomain:d}]}else return e==="category"?[{legendType:"category",id:o,itemId:o,seriesId:o,enabled:a,label:{text:r??s??n??l??o},symbol:this.legendItemSymbol(),legendItemName:r,hideInLegend:!u}]:[]}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,properties:a}=this,{idKey:s,idName:r,latitudeKey:n,latitudeName:l,longitudeKey:c,longitudeName:p,colorKey:h,colorName:u,sizeKey:d,sizeName:f,labelKey:g,labelName:m,title:y,legendItemName:b,tooltip:S}=a;if(!i||!o)return;const D=o.dataSources.get(this.id)?.[e],k=d!=null?i.resolveColumnById(this,"sizeValue",o)[e]:void 0,A=h!=null?i.resolveColumnById(this,"colorValue",o)[e]:void 0,x=[];if(k!=null&&x.push({label:f,fallbackLabel:d,value:String(k)}),A!=null&&x.push({label:u,fallbackLabel:h,value:String(A)}),g!=null&&g!==s){const O=i.resolveColumnById(this,"labelValue",o)[e];x.push({label:m,fallbackLabel:g,value:O})}let v;if(s!=null)v=i.resolveColumnById(this,"idValue",o)[e];else if(n!=null&&c!=null){const O=i.resolveColumnById(this,"latValue",o)[e],_=i.resolveColumnById(this,"lonValue",o)[e];v=`${Math.abs(O).toFixed(4)}\xB0 ${O>=0?"N":"S"}, ${Math.abs(_).toFixed(4)}\xB0 ${_>=0?"W":"E"}`}const N=this.getMarkerItemBaseStyle(!1);return Object.assign(N,this.getMarkerItemStyleOverrides(String(e),e,A,k,N,!1)),S.formatTooltip(this.properties,{heading:v,title:y??b,symbol:this.legendItemSymbol(e),data:x},{seriesId:t,datum:D,title:y,idKey:s,idName:r,latitudeKey:n,latitudeName:l,longitudeKey:c,longitudeName:p,colorKey:h,colorName:u,sizeKey:d,sizeName:f,labelKey:g,labelName:m,...N})}getFormattedMarkerStyle(e){const{datumIndex:t,colorValue:i,sizeValue:o}=e,a=this.getMarkerItemBaseStyle(!1);return Object.assign(a,this.getMarkerItemStyleOverrides(String(t),t,i,o,a,!1)),{size:a.size}}computeFocusBounds(e){return computeMarkerFocusBounds2(this,e)}};MapMarkerSeries.className="MapMarkerSeries",MapMarkerSeries.type="map-marker";var import_ag_charts_community111=require("ag-charts-community"),import_ag_charts_core36=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs13,markerOptionsDefs:markerOptionsDefs2,seriesLabelOptionsDefs:seriesLabelOptionsDefs9,tooltipOptionsDefs:tooltipOptionsDefs13,without:without4}=import_ag_charts_community111._ModuleSupport,mapMarkerSeriesOptionsDef={type:(0,import_ag_charts_core36.required)((0,import_ag_charts_core36.constant)("map-marker")),idKey:import_ag_charts_core36.string,latitudeKey:import_ag_charts_core36.string,longitudeKey:import_ag_charts_core36.string,sizeKey:import_ag_charts_core36.string,colorKey:import_ag_charts_core36.string,labelKey:import_ag_charts_core36.string,idName:import_ag_charts_core36.string,latitudeName:import_ag_charts_core36.string,longitudeName:import_ag_charts_core36.string,sizeName:import_ag_charts_core36.string,colorName:import_ag_charts_core36.string,labelName:import_ag_charts_core36.string,topology:import_ag_charts_core36.object,topologyIdKey:import_ag_charts_core36.string,legendItemName:import_ag_charts_core36.string,colorRange:(0,import_ag_charts_core36.arrayOf)(import_ag_charts_core36.color),title:import_ag_charts_core36.string,maxSize:import_ag_charts_core36.positiveNumber,sizeDomain:(0,import_ag_charts_core36.arrayOf)(import_ag_charts_core36.positiveNumber),label:{placement:(0,import_ag_charts_core36.union)("top","bottom","left","right"),...seriesLabelOptionsDefs9},tooltip:tooltipOptionsDefs13,...commonSeriesOptionsDefs13,...without4(markerOptionsDefs2,["enabled"]),highlightStyle:{...commonSeriesOptionsDefs13.highlightStyle,...import_ag_charts_core36.fillOptionsDef,...import_ag_charts_core36.strokeOptionsDef}},MapMarkerModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-marker",moduleFactory:e=>new MapMarkerSeries(e),tooltipDefaults:{range:"exact"},themeTemplate:{...MAP_THEME_DEFAULTS,series:{shape:"circle",maxSize:30,fill:{$palette:"fill"},stroke:{$palette:"stroke"},colorRange:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$palette:"divergingColors"},import_ag_charts_community112._ModuleSupport.SAFE_RANGE2_OPERATION]},fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!0},fillPatternDefaults:import_ag_charts_community112._ModuleSupport.FILL_PATTERN_DEFAULTS,fillOpacity:.5,label:{color:{$ref:"textColor"}}},tooltip:{range:"exact"}}},MapMarkerSeriesModule={type:"series",name:"map-marker",chartType:"topology",enterprise:!0,options:mapMarkerSeriesOptionsDef,create:e=>new MapMarkerSeries(e),validate(e,t,i){const o=(0,import_ag_charts_core37.validate)(e,t,i);if(o.valid?.idKey==null&&(o.valid?.latitudeKey==null||o.valid?.longitudeKey==null)){const a=r=>i?`${i}.${r}`:r,s=`Either \`${a("idKey")}\` or both \`${a("latitudeKey")}\` and \`${a("longitudeKey")}\` are required.`;o.errors.push(new import_ag_charts_core37.ValidationError(s,i,!0))}return o}},import_ag_charts_community116=require("ag-charts-community"),import_ag_charts_community114=require("ag-charts-community"),import_ag_charts_core38=require("ag-charts-core");function preferredLabelCenter(e,{aspectRatio:t,precision:i}){const o=polygonPointSearch(e,i,(l,c,p,h)=>{const u=maxWidthOfRectConstrainedByCenterAndAspectRatioToPolygon(l,c,p,t),d=u+2*h*t,f=u*Math.SQRT2,g=d*Math.SQRT2;return{distance:f,maxDistance:g}});if(o==null)return;const{x:a,y:s,distance:r}=o,n=r/Math.SQRT2;return{x:a,y:s,maxWidth:n}}function maxWidthOfRectConstrainedByCenterAndAspectRatioToLineSegment(e,t,i,o,a){const[s,r]=e,[n,l]=t,c=1/a,p=n-s,h=l-r,[u,d]=r<=l?e:t,[f,g]=s<=n?e:t,[m,y]=r<=l?t:e,[b,S]=s<=n?t:e;let D=1/0;if(p!==0){const O=h/p;for(let _=0;_<=1;_+=1){const R=_===0?c:-c,I=(O*s-r-R*i+o)/(O-R);if(I>=f&&I<=b){const T=Math.abs(i-I)*2;D=Math.min(D,T)}}}else for(let O=0;O<=1;O+=1){const R=(O===0?c:-c)*(s-i)+o;if(R>=d&&R<=y){const T=Math.abs(o-R)*2*a;D=Math.min(D,T)}}const k=a,A=Math.abs((u-i)/(d-o)),x=Math.abs((m-i)/(y-o));if(y<o&&x<k){const _=Math.abs(o-y)*2*a;D=Math.min(D,_)}else if(d>o&&A<k){const _=Math.abs(o-d)*2*a;D=Math.min(D,_)}const v=Math.abs((g-o)/(f-i)),N=Math.abs((S-o)/(b-i));if(b<i&&N<c){const O=Math.abs(i-b)*2;D=Math.min(D,O)}else if(f>i&&v<c){const O=Math.abs(i-f)*2;D=Math.min(D,O)}return D}function maxWidthOfRectConstrainedByCenterAndAspectRatioToPolygon(e,t,i,o){let a=!1,s=1/0;for(const r of e){let n=r[r.length-1],[l,c]=n;for(const p of r){const[h,u]=p;u>i!=c>i&&t<(l-h)*(i-u)/(c-u)+h&&(a=!a);const d=maxWidthOfRectConstrainedByCenterAndAspectRatioToLineSegment(n,p,t,i,o);s=Math.min(s,d),n=p,l=h,c=u}}return(a?1:-1)*s}function applyX(e,t,i){i>=t&&(e.maxX=Math.min(e.maxX,i-t)),i<=t&&(e.minX=Math.max(e.minX,i-t))}function xExtentsOfRectConstrainedByCenterAndHeightToLineSegment(e,t,i,o,a,s){const r=a-s/2,n=a+s/2,[l,c]=t,[p,h]=i,u=p-l,d=h-c,[f,g]=l<=p?t:i,[m,y]=l<=p?i:t;if(u!==0){const b=d/u;for(let S=0;S<=1;S+=1){const k=((S===0?r:n)-c)/b+l;k>=f&&k<=m&&applyX(e,o,k)}}else Math.max(r,Math.min(c,h))<=Math.min(n,Math.max(c,h))&&applyX(e,o,l);return m<o&&y>=r&&y<=n?applyX(e,o,m):f>o&&g>=r&&g<=n&&applyX(e,o,f),e}function maxWidthInPolygonForRectOfHeight(e,t,i,o){const a={minX:-1/0,maxX:1/0};for(const n of e){let l=n[n.length-1];for(const c of n)xExtentsOfRectConstrainedByCenterAndHeightToLineSegment(a,l,c,t,i,o),l=c}const{minX:s,maxX:r}=a;return Number.isFinite(s)&&Number.isFinite(r)?{x:t+(s+r)/2,width:r-s}:{x:t,width:0}}var import_ag_charts_community113=require("ag-charts-community"),{AND:AND8,ARRAY:ARRAY7,COLOR_STRING:COLOR_STRING16,COLOR_STRING_ARRAY:COLOR_STRING_ARRAY9,COLOR_GRADIENT:COLOR_GRADIENT10,COLOR_PATTERN:COLOR_PATTERN10,FUNCTION:FUNCTION12,LINE_DASH:LINE_DASH15,OR:OR12,OBJECT:OBJECT19,POSITIVE_NUMBER:POSITIVE_NUMBER18,RATIO:RATIO18,STRING:STRING14,TempValidate:TempValidate28,SeriesProperties:SeriesProperties6,SeriesTooltip:SeriesTooltip15,FillGradientDefaults:FillGradientDefaults10,FillPatternDefaults:FillPatternDefaults10}=import_ag_charts_community113._ModuleSupport,MapShapeSeriesProperties=class extends SeriesProperties6{constructor(){super(...arguments),this.topology=void 0,this.idKey="",this.idName=void 0,this.topologyIdKey="name",this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.fill="black",this.fillGradientDefaults=new FillGradientDefaults10,this.fillPatternDefaults=new FillPatternDefaults10,this.fillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.padding=0,this.label=new AutoSizedSecondaryLabel,this.tooltip=new SeriesTooltip15}};__decorateClass([TempValidate28(GEOJSON_OBJECT,{optional:!0})],MapShapeSeriesProperties.prototype,"topology",2),__decorateClass([TempValidate28(STRING14,{optional:!0})],MapShapeSeriesProperties.prototype,"title",2),__decorateClass([TempValidate28(STRING14,{optional:!0})],MapShapeSeriesProperties.prototype,"legendItemName",2),__decorateClass([TempValidate28(STRING14)],MapShapeSeriesProperties.prototype,"idKey",2),__decorateClass([TempValidate28(STRING14,{optional:!0})],MapShapeSeriesProperties.prototype,"idName",2),__decorateClass([TempValidate28(STRING14)],MapShapeSeriesProperties.prototype,"topologyIdKey",2),__decorateClass([TempValidate28(STRING14,{optional:!0})],MapShapeSeriesProperties.prototype,"labelKey",2),__decorateClass([TempValidate28(STRING14,{optional:!0})],MapShapeSeriesProperties.prototype,"labelName",2),__decorateClass([TempValidate28(STRING14,{optional:!0})],MapShapeSeriesProperties.prototype,"colorKey",2),__decorateClass([TempValidate28(STRING14,{optional:!0})],MapShapeSeriesProperties.prototype,"colorName",2),__decorateClass([TempValidate28(AND8(COLOR_STRING_ARRAY9,ARRAY7.restrict({minLength:1})),{optional:!0})],MapShapeSeriesProperties.prototype,"colorRange",2),__decorateClass([TempValidate28(OR12(COLOR_GRADIENT10,COLOR_PATTERN10,COLOR_STRING16))],MapShapeSeriesProperties.prototype,"fill",2),__decorateClass([TempValidate28(OBJECT19)],MapShapeSeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([TempValidate28(OBJECT19)],MapShapeSeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([TempValidate28(RATIO18)],MapShapeSeriesProperties.prototype,"fillOpacity",2),__decorateClass([TempValidate28(COLOR_STRING16)],MapShapeSeriesProperties.prototype,"stroke",2),__decorateClass([TempValidate28(RATIO18)],MapShapeSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate28(POSITIVE_NUMBER18)],MapShapeSeriesProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate28(LINE_DASH15)],MapShapeSeriesProperties.prototype,"lineDash",2),__decorateClass([TempValidate28(POSITIVE_NUMBER18)],MapShapeSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([TempValidate28(POSITIVE_NUMBER18)],MapShapeSeriesProperties.prototype,"padding",2),__decorateClass([TempValidate28(FUNCTION12,{optional:!0})],MapShapeSeriesProperties.prototype,"itemStyler",2),__decorateClass([TempValidate28(OBJECT19)],MapShapeSeriesProperties.prototype,"label",2),__decorateClass([TempValidate28(OBJECT19)],MapShapeSeriesProperties.prototype,"tooltip",2);var{getMissCount:getMissCount4,createDatumId:createDatumId16,SeriesNodePickMode:SeriesNodePickMode12,valueProperty:valueProperty11,CachedTextMeasurerPool:CachedTextMeasurerPool7,TextUtils:TextUtils4,ColorScale:ColorScale4,Group:Group11,Selection:Selection9,Text:Text4,PointerEvents:PointerEvents7,applyShapeStyle:applyShapeStyle7,getShapeStyle:getShapeStyle11}=import_ag_charts_community114._ModuleSupport,fixedScale=import_ag_charts_community114._ModuleSupport.MercatorScale.fixedScale(),MapShapeSeries=class extends TopologySeries{constructor(e){super({moduleCtx:e,categoryKey:void 0,useLabelLayer:!0,pickModes:[SeriesNodePickMode12.EXACT_SHAPE_MATCH,SeriesNodePickMode12.NEAREST_NODE]}),this.properties=new MapShapeSeriesProperties,this._chartTopology=void 0,this.colorScale=new ColorScale4,this.itemGroup=this.contentGroup.appendChild(new Group11({name:"itemGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Group11({name:"itemLabelGroup"})),this.datumSelection=Selection9.select(this.itemGroup,()=>this.nodeFactory()),this.labelSelection=Selection9.select(this.itemLabelGroup,Text4),this.highlightDatumSelection=Selection9.select(this.highlightNode,()=>this.nodeFactory()),this.previousLabelLayouts=void 0,this._previousDatumMidPoint=void 0,this.itemLabelGroup.pointerEvents=PointerEvents7.None}getNodeData(){return this.contextNodeData?.nodeData}get topology(){return this.properties.topology??this._chartTopology}get hasData(){return super.hasData&&this.topology!=null}renderToOffscreenCanvas(){return!0}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.contentGroup.zIndex=[1,e],this.highlightGroup.zIndex=[2,e],!0):!1}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}nodeFactory(){const e=new GeoGeometry;return e.renderMode=1,e.lineJoin="round",e}async processData(e){if(this.data==null||!this.properties.isValid())return;const{data:t,topology:i,colorScale:o}=this,{topologyIdKey:a,idKey:s,colorKey:r,labelKey:n,colorRange:l}=this.properties,c=new Map;i?.features.forEach(g=>{const m=g.properties?.[a];m==null||!containsType(g.geometry,1)||c.set(m,g)});const p=this.colorScale.type,h=this.scale?.type,{dataModel:u,processedData:d}=await this.requestDataModel(e,t,{props:[valueProperty11(s,h,{id:"idValue",includeProperty:!1}),valueProperty11(s,h,{id:"featureValue",includeProperty:!1,processor:()=>g=>c.get(g)}),...n?[valueProperty11(n,"band",{id:"labelValue"})]:[],...r?[valueProperty11(r,p,{id:"colorValue"})]:[]]}),f=u.resolveColumnById(this,"featureValue",d);if(this.topologyBounds=f.reduce((g,m)=>{const y=m?.geometry;return y==null?g:geometryBbox(y,g)},void 0),l!=null&&this.isColorScaleValid()){const g=u.resolveProcessedDataIndexById(this,"colorValue");o.domain=d.domain.values[g],o.range=l,o.update()}i==null&&import_ag_charts_core38.Logger.warnOnce("no topology was provided for [MapShapeSeries]; nothing will be rendered.")}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const o=t.resolveProcessedDataIndexById(this,"colorValue"),a=i.input.count,s=getMissCount4(this,i.defs.values[o].missing);return!(a===0||a===s)}getLabelLayout(e,t,i,o,a){if(t==null||o==null)return;const{idKey:s,idName:r,colorKey:n,colorName:l,labelKey:c,labelName:p,padding:h,label:u}=this.properties,d=this.getLabelText(u,{value:t,datum:e,idKey:s,idName:r,colorKey:n,colorName:l,labelKey:c,labelName:p});if(d==null)return;const f=CachedTextMeasurerPool7.measureText(String(d),{font:i}),g=d.split(`
`).length,m=(f.width+2*h)/(g*TextUtils4.getLineHeight(u.fontSize)+2*h);if(a?.geometry===o&&a?.labelText===d&&a?.aspectRatio===m)return a;const y=projectGeometry(o,fixedScale),b=largestPolygon(y);if(b==null)return;const S=preferredLabelCenter(b,{aspectRatio:m,precision:.001});if(S==null)return;const{x:D,y:k,maxWidth:A}=S;return{geometry:o,labelText:d,aspectRatio:m,x:D,y:k,maxWidth:A,fixedPolygon:b}}getLabelDatum(e,t){const{scale:i}=this;if(i==null)return;const{padding:o,label:a}=this.properties,{labelText:s,aspectRatio:r,x:n,y:l,maxWidth:c,fixedPolygon:p}=e,h={width:Math.ceil(c*t),height:Math.ceil(c*t/r),meta:n},u=formatSingleLabel(s,a,{padding:o},(D,k)=>{if(!k)return h;const A=maxWidthInPolygonForRectOfHeight(p,n,l,D/t);return{width:A.width*t,height:D,meta:A.x}});if(u==null)return;const[{text:d,fontSize:f,lineHeight:g,width:m},y]=u;if(d===TextUtils4.EllipsisChar)return;const b=m<h.width?n:y,S=this.scale.convert(fixedScale.invert([b,l]));return{x:S[0],y:S[1],text:d,fontSize:f,lineHeight:g}}createNodeData(){const{id:e,dataModel:t,processedData:i,properties:o,scale:a,previousLabelLayouts:s}=this,{idKey:r,colorKey:n,labelKey:l,label:c}=o;if(t==null||i==null)return;const p=a!=null?(a.range[1][0]-a.range[0][0])/a.bounds.width:NaN,h=t.resolveColumnById(this,"idValue",i),u=t.resolveColumnById(this,"featureValue",i),d=l!=null?t.resolveColumnById(this,"labelValue",i):void 0,f=n!=null?t.resolveColumnById(this,"colorValue",i):void 0,g=c.getFont(),m=new Map;this.previousLabelLayouts=m;const y=[],b=[],S=[];(i.dataSources.get(this.id)??[]).forEach((A,x)=>{const v=h[x],N=f?.[x],O=d?.[x],_=u[x]?.geometry??void 0;_==null&&S.push(v);const R=this.getLabelLayout(A,O,g,_,s?.get(v));R!=null&&m.set(v,R);const I=R!=null&&a!=null?this.getLabelDatum(R,p):void 0;I!=null&&b.push(I);const T=_!=null&&a!=null?projectGeometry(_,a):void 0;y.push({series:this,itemId:r,datum:A,datumIndex:x,idValue:v,colorValue:N,labelValue:O,projectedGeometry:T})});const k=10;if(S.length>k){const A=S.length-k;S.length=k,S.push(`(+${A} more)`)}return S.length>0&&import_ag_charts_core38.Logger.warnOnce("some data items do not have matches in the provided topology",S),{itemId:e,nodeData:y,labelData:b}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(){const{datumSelection:e,labelSelection:t,highlightDatumSelection:i}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let o=this.ctx.highlightManager?.getActiveHighlight();o!=null&&(o.series!==this||o.datum==null)&&(o=void 0);const a=this.contextNodeData?.nodeData??[],s=this.contextNodeData?.labelData??[];this.datumSelection=this.updateDatumSelection({nodeData:a,datumSelection:e}),this.updateDatumNodes({datumSelection:e,isHighlight:!1}),this.labelSelection=this.updateLabelSelection({labelData:s,labelSelection:t}),this.updateLabelNodes({labelSelection:t}),this.highlightDatumSelection=this.updateDatumSelection({nodeData:o!=null?[o]:[],datumSelection:i}),this.updateDatumNodes({datumSelection:i,isHighlight:!0})}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId16(t.idValue))}getItemBaseStyle(e){const{properties:t}=this,i=e?t.highlightStyle.item:void 0;return getShapeStyle11({fill:i?.fill??t.fill,fillOpacity:i?.fillOpacity??t.fillOpacity,stroke:i?.stroke??t.stroke,strokeWidth:i?.strokeWidth??this.getStrokeWidth(t.strokeWidth),strokeOpacity:i?.strokeOpacity??t.strokeOpacity,lineDash:i?.lineDash??t.lineDash,lineDashOffset:i?.lineDashOffset??t.lineDashOffset},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults)}getItemStyleOverrides(e,t,i,o,a){const{id:s,properties:r,colorScale:n}=this,{colorRange:l,itemStyler:c}=r;let p;if(!a&&i!=null&&(p??(p={}),p.fill=this.isColorScaleValid()?n.convert(i):l?.[0]??r.fill),c!=null){const h=this.cachedDatumCallback(createDatumId16(e,a?"highlight":"node"),()=>this.callWithContext(c,{seriesId:s,datum:t,highlighted:a,...o,...p}));p??(p={}),Object.assign(p,h)}return getShapeStyle11(p,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults)}updateDatumNodes(e){const{datumSelection:t,isHighlight:i}=e,o=this.getItemBaseStyle(i),a=getTopologyShapeFillBBox(this.scale);t.each((s,r)=>{const{datum:n,datumIndex:l,colorValue:c,projectedGeometry:p}=r;if(p==null){s.visible=!1,s.projectedGeometry=void 0;return}const h=this.getItemStyleOverrides(String(l),n,c,o,i);s.visible=!0,s.projectedGeometry=p,applyShapeStyle7(s,o,h,a)})}updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t)}updateLabelNodes(e){const{labelSelection:t}=e,{color:i,fontStyle:o,fontWeight:a,fontFamily:s}=this.properties.label;t.each((r,{x:n,y:l,text:c,fontSize:p,lineHeight:h})=>{r.visible=!0,r.x=n,r.y=l,r.text=c,r.fill=i,r.fontStyle=o,r.fontWeight=a,r.fontSize=p,r.lineHeight=h,r.fontFamily=s,r.textAlign="center",r.textBaseline="middle"})}resetAnimation(){}pickNodeClosestDatum({x:e,y:t}){let i=1/0,o;return this.datumSelection.each((a,s)=>{const r=a.distanceSquared(e,t);r<i&&(i=r,o=s)}),o!=null?{datum:o,distance:Math.sqrt(i)}:void 0}datumMidPoint(e){const{_previousDatumMidPoint:t}=this;if(t?.datum===e)return t.point;const i=e.projectedGeometry,o=i!=null?largestPolygon(i):void 0,a=o!=null?polygonMarkerCenter(o,2):void 0,s=a!=null?{x:a[0],y:a[1]}:void 0;return this._previousDatumMidPoint={datum:e,point:s},s}legendItemSymbol(e){const{dataModel:t,processedData:i,properties:o}=this,{fillOpacity:a,stroke:s,strokeWidth:r,strokeOpacity:n,lineDash:l,lineDashOffset:c}=o;let{fill:p}=o;if(e!=null&&this.isColorScaleValid()){const u=t.resolveColumnById(this,"colorValue",i)[e];p=this.colorScale.convert(u)}return{marker:getShapeStyle11({fill:p,fillOpacity:a,stroke:s,strokeWidth:r,strokeOpacity:n,lineDash:l,lineDashOffset:c},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults)}}getLegendData(e){const{processedData:t,dataModel:i}=this;if(t==null||i==null)return[];const{id:o,visible:a}=this,{title:s,legendItemName:r,idKey:n,idName:l,colorKey:c,colorName:p,colorRange:h,showInLegend:u}=this.properties;if(e==="gradient"&&c!=null&&h!=null){const d=t.domain.values[i.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:a,seriesId:o,colorName:p,colorRange:h,colorDomain:d}]}else return e==="category"?[{legendType:"category",id:o,itemId:o,seriesId:o,enabled:a,label:{text:r??s??l??n},symbol:this.legendItemSymbol(),legendItemName:r,hideInLegend:!u}]:[]}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,properties:a}=this,{idKey:s,idName:r,colorKey:n,colorName:l,labelKey:c,labelName:p,legendItemName:h,title:u,tooltip:d}=a;if(!i||!o)return;const f=o.dataSources.get(this.id)?.[e],g=i.resolveColumnById(this,"idValue",o)[e],m=n!=null?i.resolveColumnById(this,"colorValue",o)[e]:void 0,y=[];if(m!=null&&y.push({label:l,fallbackLabel:n,value:String(m)}),c!=null&&c!==s){const S=i.resolveColumnById(this,"labelValue",o)[e];y.push({label:p,fallbackLabel:c,value:S})}const b=this.getItemBaseStyle(!1);return Object.assign(b,this.getItemStyleOverrides(String(e),e,m,b,!1)),d.formatTooltip(this.properties,{heading:g,title:u??h,symbol:this.legendItemSymbol(e),data:y},{seriesId:t,datum:f,title:u,idKey:s,idName:r,colorKey:n,colorName:l,labelKey:c,labelName:p,...b})}computeFocusBounds(e){return findFocusedGeoGeometry(this,e)}};MapShapeSeries.className="MapShapeSeries",MapShapeSeries.type="map-shape";var import_ag_charts_community115=require("ag-charts-community"),import_ag_charts_core39=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs14,autoSizedLabelOptionsDefs:autoSizedLabelOptionsDefs3,tooltipOptionsDefs:tooltipOptionsDefs14}=import_ag_charts_community115._ModuleSupport,mapShapeSeriesOptionsDef={type:(0,import_ag_charts_core39.required)((0,import_ag_charts_core39.constant)("map-shape")),idKey:(0,import_ag_charts_core39.required)(import_ag_charts_core39.string),colorKey:import_ag_charts_core39.string,labelKey:import_ag_charts_core39.string,idName:import_ag_charts_core39.string,colorName:import_ag_charts_core39.string,labelName:import_ag_charts_core39.string,topology:import_ag_charts_core39.object,topologyIdKey:import_ag_charts_core39.string,legendItemName:import_ag_charts_core39.string,colorRange:(0,import_ag_charts_core39.arrayOf)(import_ag_charts_core39.color),padding:import_ag_charts_core39.positiveNumber,itemStyler:import_ag_charts_core39.callback,title:import_ag_charts_core39.string,label:autoSizedLabelOptionsDefs3,tooltip:tooltipOptionsDefs14,...commonSeriesOptionsDefs14,...import_ag_charts_core39.fillOptionsDef,...import_ag_charts_core39.strokeOptionsDef,...import_ag_charts_core39.lineDashOptionsDef,highlightStyle:{...commonSeriesOptionsDefs14.highlightStyle,...import_ag_charts_core39.fillOptionsDef,...import_ag_charts_core39.strokeOptionsDef}},MapShapeModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-shape",moduleFactory:e=>new MapShapeSeries(e),tooltipDefaults:{range:"exact"},themeTemplate:{...MAP_THEME_DEFAULTS,series:{fill:{$palette:"fill"},stroke:{$ref:"backgroundColor"},colorRange:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$palette:"divergingColors"},import_ag_charts_community116._ModuleSupport.SAFE_RANGE2_OPERATION]},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community116._ModuleSupport.FILL_PATTERN_DEFAULTS,fillOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,padding:2,label:{color:{$ref:"backgroundColor"},fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:"bold",overflowStrategy:"hide"}},tooltip:{range:"exact"}}},MapShapeSeriesModule={type:"series",name:"map-shape",chartType:"topology",enterprise:!0,options:mapShapeSeriesOptionsDef,create:e=>new MapShapeSeries(e)},import_ag_charts_community120=require("ag-charts-community"),import_ag_charts_community118=require("ag-charts-community"),import_ag_charts_core40=require("ag-charts-core"),import_ag_charts_community117=require("ag-charts-community"),{FillGradientDefaults:FillGradientDefaults11,FillPatternDefaults:FillPatternDefaults11,COLOR_STRING:COLOR_STRING17,COLOR_GRADIENT:COLOR_GRADIENT11,COLOR_PATTERN:COLOR_PATTERN11,OR:OR13,LINE_DASH:LINE_DASH16,OBJECT:OBJECT20,POSITIVE_NUMBER:POSITIVE_NUMBER19,RATIO:RATIO19,TempValidate:TempValidate29,SeriesProperties:SeriesProperties7,SeriesTooltip:SeriesTooltip16}=import_ag_charts_community117._ModuleSupport,MapShapeBackgroundSeriesProperties=class extends SeriesProperties7{constructor(){super(...arguments),this.topology=void 0,this.fill="black",this.fillGradientDefaults=new FillGradientDefaults11,this.fillPatternDefaults=new FillPatternDefaults11,this.fillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.tooltip=new SeriesTooltip16}};__decorateClass([TempValidate29(GEOJSON_OBJECT,{optional:!0})],MapShapeBackgroundSeriesProperties.prototype,"topology",2),__decorateClass([TempValidate29(OR13(COLOR_GRADIENT11,COLOR_PATTERN11,COLOR_STRING17))],MapShapeBackgroundSeriesProperties.prototype,"fill",2),__decorateClass([TempValidate29(OBJECT20)],MapShapeBackgroundSeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([TempValidate29(OBJECT20)],MapShapeBackgroundSeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([TempValidate29(RATIO19)],MapShapeBackgroundSeriesProperties.prototype,"fillOpacity",2),__decorateClass([TempValidate29(COLOR_STRING17)],MapShapeBackgroundSeriesProperties.prototype,"stroke",2),__decorateClass([TempValidate29(RATIO19)],MapShapeBackgroundSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate29(POSITIVE_NUMBER19)],MapShapeBackgroundSeriesProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate29(LINE_DASH16)],MapShapeBackgroundSeriesProperties.prototype,"lineDash",2),__decorateClass([TempValidate29(POSITIVE_NUMBER19)],MapShapeBackgroundSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([TempValidate29(OBJECT20)],MapShapeBackgroundSeriesProperties.prototype,"tooltip",2);var{createDatumId:createDatumId17,SeriesNodePickMode:SeriesNodePickMode13,Selection:Selection10,Group:Group12,PointerEvents:PointerEvents8,getShapeStyle:getShapeStyle12}=import_ag_charts_community118._ModuleSupport,MapShapeBackgroundSeries=class extends TopologySeries{constructor(e){super({moduleCtx:e,categoryKey:void 0,useLabelLayer:!0,pickModes:[SeriesNodePickMode13.EXACT_SHAPE_MATCH]}),this.properties=new MapShapeBackgroundSeriesProperties,this._chartTopology=void 0,this.itemGroup=this.contentGroup.appendChild(new Group12({name:"itemGroup"})),this.datumSelection=Selection10.select(this.itemGroup,()=>this.nodeFactory())}get topology(){return this.properties.topology??this._chartTopology}get focusable(){return!1}setOptionsData(){}setChartData(){}getNodeData(){}get hasData(){return!1}renderToOffscreenCanvas(){return!0}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.contentGroup.zIndex=[0,e,0],this.highlightGroup.zIndex=[0,e,1],!0):!1}nodeFactory(){const e=new GeoGeometry;return e.renderMode=1,e.lineJoin="round",e.pointerEvents=PointerEvents8.None,e}processData(){const{topology:e}=this;this.topologyBounds=e?.features.reduce((t,i)=>{const o=i.geometry;return o==null?t:geometryBbox(o,t)},void 0),e==null&&import_ag_charts_core40.Logger.warnOnce("no topology was provided for [MapShapeBackgroundSeries]; nothing will be rendered.")}createNodeData(){const{id:e,topology:t,scale:i}=this;if(t==null)return;const o=[],a=[];return t.features.forEach((s,r)=>{const{geometry:n}=s,l=n!=null&&i!=null?projectGeometry(n,i):void 0;l!=null&&o.push({series:this,itemId:r,datum:s,datumIndex:0,index:r,projectedGeometry:l})}),{itemId:e,nodeData:o,labelData:a}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(){const{datumSelection:e}=this;this.updateSelections(),this.contentGroup.visible=this.visible;const{nodeData:t=[]}=this.contextNodeData??{};this.datumSelection=this.updateDatumSelection({nodeData:t,datumSelection:e}),this.updateDatumNodes({datumSelection:e})}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId17(t.index))}updateDatumNodes(e){const{properties:t}=this,{datumSelection:i}=e,{fill:o,fillOpacity:a,stroke:s,strokeOpacity:r,lineDash:n,lineDashOffset:l}=t,c=this.getStrokeWidth(t.strokeWidth);i.each((p,h)=>{const{projectedGeometry:u}=h;if(u==null){p.visible=!1,p.projectedGeometry=void 0;return}p.visible=!0,p.projectedGeometry=u;const d=getShapeStyle12({fill:o,fillOpacity:a,stroke:s,strokeWidth:c,strokeOpacity:r,lineDash:n,lineDashOffset:l},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults);p.setProperties(d)})}resetAnimation(){}getLegendData(){return[]}getTooltipContent(e){}pickFocus(){}computeFocusBounds(e){}};MapShapeBackgroundSeries.className="MapShapeBackgroundSeries",MapShapeBackgroundSeries.type="map-shape-background";var import_ag_charts_community119=require("ag-charts-community"),import_ag_charts_core41=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs15}=import_ag_charts_community119._ModuleSupport,mapShapeBackgroundSeriesOptionsDef={type:(0,import_ag_charts_core41.required)((0,import_ag_charts_core41.constant)("map-shape-background")),topology:import_ag_charts_core41.object,...commonSeriesOptionsDefs15,...import_ag_charts_core41.fillOptionsDef,...import_ag_charts_core41.strokeOptionsDef,...import_ag_charts_core41.lineDashOptionsDef},MapShapeBackgroundModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-shape-background",moduleFactory:e=>new MapShapeBackgroundSeries(e),tooltipDefaults:{range:"exact"},themeTemplate:{...MAP_THEME_DEFAULTS,series:{fill:{$path:["./1",{$palette:"fill"},{$palette:"hierarchyColors"}]},stroke:{$ref:"backgroundColor"},strokeWidth:1,fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:[{$mix:[{$path:["./1",{$palette:"fill"},{$palette:"hierarchyColors"}]},"black",.15]},{$mix:[{$path:["./1",{$palette:"fill"},{$palette:"hierarchyColors"}]},"white",.15]}],rotation:0,reverse:!1},fillPatternDefaults:{...import_ag_charts_community120._ModuleSupport.FILL_PATTERN_DEFAULTS,fill:{$path:["./1",{$palette:"fill"},{$palette:"hierarchyColors"}]},stroke:{$path:["./1",{$palette:"fill"},{$palette:"hierarchyColors"}]}}}}},MapShapeBackgroundSeriesModule={type:"series",name:"map-shape-background",chartType:"topology",enterprise:!0,options:mapShapeBackgroundSeriesOptionsDef,create:e=>new MapShapeBackgroundSeries(e)},import_ag_charts_community128=require("ag-charts-community"),import_ag_charts_community125=require("ag-charts-community"),import_ag_charts_community121=require("ag-charts-community"),import_ag_charts_core42=require("ag-charts-core"),{ChartAxisDirection:ChartAxisDirection14,PolarAxis,diff:diff6,fixNumericExtent:fixNumericExtent7,groupAccumulativeValueProperty,keyProperty:keyProperty8,normaliseGroupTo,resetLabelFn:resetLabelFn5,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation5,seriesLabelFadeOutAnimation,valueProperty:valueProperty12,animationValidation:animationValidation7,createDatumId:createDatumId18,SeriesNodePickMode:SeriesNodePickMode14,normalizeAngle360:normalizeAngle3606,CategoryScale:CategoryScale3,motion:motion6,applyShapeStyle:applyShapeStyle8,isGradientFill:isGradientFill3,getShapeStyle:getShapeStyle13}=import_ag_charts_community121._ModuleSupport,RadialColumnSeriesNodeEvent=class extends import_ag_charts_community121._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.angleKey=o.properties.angleKey,this.radiusKey=o.properties.radiusKey}},RadialColumnSeriesBase=class extends import_ag_charts_community121._ModuleSupport.PolarSeries{constructor(e,{animationResetFns:t}){super({moduleCtx:e,categoryKey:"angleValue",useLabelLayer:!0,canHaveAxes:!0,pickModes:[SeriesNodePickMode14.NEAREST_NODE,SeriesNodePickMode14.EXACT_SHAPE_MATCH],animationResetFns:{...t,label:resetLabelFn5}}),this.NodeEvent=RadialColumnSeriesNodeEvent,this.groupScale=new CategoryScale3,this.circleCache={r:0,cx:0,cy:0}}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];if(e===ChartAxisDirection14.X)return t.getDomain(this,"angleValue","key",i);{const o=t.getDomain(this,"radiusValue-end","value",i),a=Number.isFinite(o[1]-o[0])?[o[0]>0?0:o[0],o[1]<0?0:o[1]]:[];return fixNumericExtent7(a)}}async processData(e){const{angleKey:t,radiusKey:i,normalizedTo:o}=this.properties,a=!this.ctx.animationManager.isSkipped();if(!this.properties.isValid())return;const s=this.getStackId(),r=`${s}-trailing`,n=[];(0,import_ag_charts_core42.isDefined)(o)&&n.push(normaliseGroupTo([s,r],Math.abs(o))),a&&this.processedData&&n.push(diff6(this.id,this.processedData)),a&&n.push(animationValidation7());const l=this.visible?{}:{forceValue:0},c=this.axes[ChartAxisDirection14.Y]?.scale.type,p=this.axes[ChartAxisDirection14.X]?.scale.type;await this.requestDataModel(e,this.data,{props:[keyProperty8(t,p,{id:"angleValue"}),valueProperty12(i,c,{id:"radiusValue-raw",invalidValue:null,...l}),...groupAccumulativeValueProperty(i,"normal","current",{id:"radiusValue-end",rangeId:"radiusValue-range",invalidValue:null,groupId:s,separateNegative:!0,...l},c),...groupAccumulativeValueProperty(i,"trailing","current",{id:"radiusValue-start",invalidValue:null,groupId:r,separateNegative:!0,...l},c),...n],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}didCircleChange(){const e=this.radius,t=this.centerX,i=this.centerY,o=this.circleCache;return e!==o.r||t!==o.cx||i!==o.cy?(this.circleCache={r:e,cx:t,cy:i},!0):!1}isRadiusAxisReversed(){return this.axes[ChartAxisDirection14.Y]?.isReversed()}maybeRefreshNodeData(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const{nodeData:t=[]}=this.createNodeData()??{};this.nodeData=t,this.nodeDataRefresh=!1}getAxisInnerRadius(){const e=this.axes[ChartAxisDirection14.Y];return e instanceof PolarAxis?this.radius*e.innerRadiusRatio:0}createNodeData(){const{processedData:e,dataModel:t,groupScale:i}=this;if(!t||!e||e.type!=="grouped"||!this.properties.isValid())return;const o=this.axes[ChartAxisDirection14.X],a=this.axes[ChartAxisDirection14.Y],s=o?.scale,r=a?.scale;if(!s||!r)return;const n=t.resolveKeysById(this,"angleValue",e),l=t.resolveColumnById(this,"radiusValue-start",e),c=t.resolveColumnById(this,"radiusValue-end",e),p=t.resolveColumnById(this,"radiusValue-raw",e),h=t.resolveProcessedDataIndexById(this,"radiusValue-range");let u=0,d=0;o instanceof AngleCategoryAxis&&(u=o.groupPaddingInner,d=o.paddingInner);const g=(s.bandwidth??0)*(1-d),{index:m,visibleGroupCount:y}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);i.domain=Array.from({length:y}).map((M,P)=>String(P)),i.range=[-g/2,g/2],i.paddingInner=y>1?u:0;const b=this.isRadiusAxisReversed(),S=b?this.radius:this.getAxisInnerRadius(),D=b?this.getAxisInnerRadius():this.radius,k=D+S,{angleKey:A,radiusKey:x,angleName:v,radiusName:N,label:O}=this.properties,_=(M,P,B,L)=>{const w=this.getLabelText(O,{value:P,datum:M,angleKey:A,radiusKey:x,angleName:v,radiusName:N});if(w)return{x:B,y:L,text:w,textAlign:"center",textBaseline:"middle"}},R=[],I={itemId:x,nodeData:R,labelData:R};if(!this.visible)return I;const{dataSources:T}=e,C=T.get(this.id)??[];for(const{datumIndex:M,group:P}of t.forEachGroupDatum(this,e)){const B=C[M],L=n[M];if(L==null)return;const w=p[M],E=w>=0&&!Object.is(w,-0),G=l[M],F=c[M],V=P.aggregation[h][E?1:0]??0,W=E===b;if(G===void 0||F===void 0)return;let K,q;if(C.length===1)K=-.5*Math.PI,q=1.5*Math.PI;else{const Q=s.convert(L);K=normalizeAngle3606(Q+i.convert(String(m))),q=normalizeAngle3606(K+i.bandwidth)}const Y=K+i.bandwidth/2,X=k-r.convert(G),U=k-r.convert(F),H=(X+U)/2,$=k-r.convert(0),j=k-r.convert(V),Z=Math.cos(Y)*H,z=Math.sin(Y)*H,oe=this.properties.label.enabled?_(B,w,Z,z):void 0,ae=this.getColumnWidth(K,q);R.push({series:this,datum:B,datumIndex:M,point:{x:Z,y:z,size:0},midPoint:{x:Z,y:z},label:oe,angleValue:L,radiusValue:w,negative:W,innerRadius:X,outerRadius:U,stackInnerRadius:$,stackOuterRadius:j,startAngle:K,endAngle:q,midAngle:Y,axisInnerRadius:S,axisOuterRadius:D,columnWidth:ae,index:M})}return{itemId:x,nodeData:R,labelData:R}}getColumnWidth(e,t){return NaN}update({seriesRect:e}){const t=this.checkResize(e);this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),t&&this.animationState.transition("resize"),this.animationState.transition("update")}getItemBaseStyle(e){const{properties:t}=this,i=e?t.highlightStyle.item:void 0;return getShapeStyle13({fill:i?.fill??t.fill,fillOpacity:i?.fillOpacity??t.fillOpacity,stroke:i?.stroke??t.stroke,strokeWidth:i?.strokeWidth??this.getStrokeWidth(t.strokeWidth),strokeOpacity:i?.strokeOpacity??t.strokeOpacity,lineDash:i?.lineDash??t.lineDash,lineDashOffset:i?.lineDashOffset??t.lineDashOffset,cornerRadius:t.cornerRadius},t.fillGradientDefaults,t.fillPatternDefaults)}getItemStyleOverrides(e,t,i,o){const{id:a,properties:s}=this,{angleKey:r,radiusKey:n,itemStyler:l,fillGradientDefaults:c,fillPatternDefaults:p}=s;if(l==null)return;const h=this.cachedDatumCallback(createDatumId18(e,o?"highlight":"node"),()=>this.callWithContext(l,{seriesId:a,datum:t,highlighted:o,angleKey:r,radiusKey:n,...i}));return getShapeStyle13(h,c,p)}updateSectorSelection(e,t){let i=[];if(t){const l=this.ctx.highlightManager?.getActiveHighlight();l?.datum&&l.series===this&&i.push(l)}else i=this.nodeData;const o=this.isRadiusAxisReversed(),a=o?this.radius:this.getAxisInnerRadius(),s=o?this.getAxisInnerRadius():this.radius,r=this.getShapeFillBBox(),n=this.getItemBaseStyle(t);e.update(i,void 0,l=>this.getDatumId(l)).each((l,c)=>{const{datum:p,datumIndex:h,midPoint:u}=c,d=this.getItemStyleOverrides(String(h),p,n,t),f=d?.fill??n.fill,m=isGradientFill3(f)&&f.bounds==="item"?{centerX:u?.x??0,centerY:u?.y??0}:{centerX:0,centerY:0,innerRadius:a,outerRadius:s};this.updateItemPath(l,c,t),applyShapeStyle8(l,n,d,r,m),l.cornerRadius=d?.cornerRadius??n.cornerRadius,l.lineJoin="round"})}updateLabels(){const{label:e}=this.properties;this.labelSelection.update(this.nodeData).each((t,i)=>{e.enabled&&i.label?(t.x=i.label.x,t.y=i.label.y,t.fill=e.color,t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=i.label.text,t.textAlign=i.label.textAlign,t.textBaseline=i.label.textBaseline,t.visible=!0):t.visible=!1})}animateEmptyUpdateReady(){const{labelSelection:e}=this,t=this.getColumnTransitionFunctions();motion6.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],t),seriesLabelFadeInAnimation5(this,"labels",this.ctx.animationManager,e)}animateClearingUpdateEmpty(){const{itemSelection:e}=this,{animationManager:t}=this.ctx,i=this.getColumnTransitionFunctions();motion6.fromToMotion(this.id,"datums",t,[e],i),seriesLabelFadeOutAnimation(this,"labels",t,this.labelSelection)}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,axes:a,properties:s}=this,{angleKey:r,angleName:n,radiusKey:l,radiusName:c,tooltip:p}=s,h=a[ChartAxisDirection14.X],u=a[ChartAxisDirection14.Y];if(!i||!o||!h||!u)return;const d=o.dataSources.get(this.id)?.[e],f=i.resolveKeysById(this,"angleValue",o)[e],g=i.resolveColumnById(this,"radiusValue-raw",o)[e];if(f==null)return;const m=this.getItemBaseStyle(!1);return Object.assign(m,this.getItemStyleOverrides(String(e),e,m,!1)),p.formatTooltip(this.properties,{heading:h.formatDatum(f),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:u.formatDatum(g)}]},{seriesId:t,datum:d,title:n,angleKey:r,angleName:n,radiusKey:l,radiusName:c,...m})}pickNodeClosestDatum(e){return this.pickNodeNearestDistantObject(e,this.itemSelection.nodes())}legendItemSymbol(){const{fill:e,stroke:t,fillOpacity:i,strokeOpacity:o,strokeWidth:a,lineDash:s,lineDashOffset:r,fillGradientDefaults:n,fillPatternDefaults:l}=this.properties,c=getShapeStyle13({fill:e??"rgba(0, 0, 0, 0)",stroke:t??"rgba(0, 0, 0, 0)",fillOpacity:i,strokeOpacity:o,strokeWidth:a,lineDash:s,lineDashOffset:r},n,l);return import_ag_charts_community121._ModuleSupport.isGradientFill(c.fill)&&(c.fill={...c.fill,gradient:"linear",rotation:0,reverse:!1}),{marker:c}}getLegendData(e){if(!this.properties.isValid()||e!=="category")return[];const{id:t,visible:i}=this,{radiusKey:o,radiusName:a,showInLegend:s}=this.properties;return[{legendType:"category",id:t,itemId:o,seriesId:t,enabled:i,label:{text:a??o},symbol:this.legendItemSymbol(),hideInLegend:!s}]}getDatumId(e){return createDatumId18(e.angleValue)}computeLabelsBBox(){return null}},import_ag_charts_community122=require("ag-charts-community"),{SeriesProperties:SeriesProperties8,FillGradientDefaults:FillGradientDefaults12,FillPatternDefaults:FillPatternDefaults12,SeriesTooltip:SeriesTooltip17,TempValidate:TempValidate30,COLOR_STRING:COLOR_STRING18,NUMBER:NUMBER9,FUNCTION:FUNCTION13,LINE_DASH:LINE_DASH17,OBJECT:OBJECT21,POSITIVE_NUMBER:POSITIVE_NUMBER20,RATIO:RATIO20,STRING:STRING15,Label:Label10,OR:OR14,COLOR_GRADIENT:COLOR_GRADIENT12,COLOR_PATTERN:COLOR_PATTERN12}=import_ag_charts_community122._ModuleSupport,RadialColumnSeriesBaseProperties=class extends SeriesProperties8{constructor(){super(...arguments),this.fill="black",this.fillGradientDefaults=new FillGradientDefaults12,this.fillPatternDefaults=new FillPatternDefaults12,this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.label=new Label10,this.tooltip=new SeriesTooltip17}};__decorateClass([TempValidate30(STRING15)],RadialColumnSeriesBaseProperties.prototype,"angleKey",2),__decorateClass([TempValidate30(STRING15,{optional:!0})],RadialColumnSeriesBaseProperties.prototype,"angleName",2),__decorateClass([TempValidate30(STRING15)],RadialColumnSeriesBaseProperties.prototype,"radiusKey",2),__decorateClass([TempValidate30(STRING15,{optional:!0})],RadialColumnSeriesBaseProperties.prototype,"radiusName",2),__decorateClass([TempValidate30(OR14(COLOR_GRADIENT12,COLOR_PATTERN12,COLOR_STRING18))],RadialColumnSeriesBaseProperties.prototype,"fill",2),__decorateClass([TempValidate30(OBJECT21)],RadialColumnSeriesBaseProperties.prototype,"fillGradientDefaults",2),__decorateClass([TempValidate30(OBJECT21)],RadialColumnSeriesBaseProperties.prototype,"fillPatternDefaults",2),__decorateClass([TempValidate30(RATIO20)],RadialColumnSeriesBaseProperties.prototype,"fillOpacity",2),__decorateClass([TempValidate30(COLOR_STRING18)],RadialColumnSeriesBaseProperties.prototype,"stroke",2),__decorateClass([TempValidate30(POSITIVE_NUMBER20)],RadialColumnSeriesBaseProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate30(RATIO20)],RadialColumnSeriesBaseProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate30(LINE_DASH17)],RadialColumnSeriesBaseProperties.prototype,"lineDash",2),__decorateClass([TempValidate30(POSITIVE_NUMBER20)],RadialColumnSeriesBaseProperties.prototype,"lineDashOffset",2),__decorateClass([TempValidate30(POSITIVE_NUMBER20)],RadialColumnSeriesBaseProperties.prototype,"cornerRadius",2),__decorateClass([TempValidate30(FUNCTION13,{optional:!0})],RadialColumnSeriesBaseProperties.prototype,"itemStyler",2),__decorateClass([TempValidate30(NUMBER9)],RadialColumnSeriesBaseProperties.prototype,"rotation",2),__decorateClass([TempValidate30(STRING15,{optional:!0})],RadialColumnSeriesBaseProperties.prototype,"stackGroup",2),__decorateClass([TempValidate30(NUMBER9,{optional:!0})],RadialColumnSeriesBaseProperties.prototype,"normalizedTo",2),__decorateClass([TempValidate30(OBJECT21)],RadialColumnSeriesBaseProperties.prototype,"label",2),__decorateClass([TempValidate30(OBJECT21)],RadialColumnSeriesBaseProperties.prototype,"tooltip",2);var import_ag_charts_community124=require("ag-charts-community"),import_ag_charts_community123=require("ag-charts-community"),{motion:motion7}=import_ag_charts_community123._ModuleSupport;function createAngleMotionCalculator(){const e={startAngle:new Map,endAngle:new Map},t=["startAngle","endAngle"],i=(r,n,l)=>{t.forEach(c=>{const p=e[c];let h=(l==="removed"||l==="updated"?r:n)[c],u=(l==="removed"?r:n)[c];isNaN(u)&&(u=r.previousDatum?.[c]??NaN);const d=h-u;Math.abs(d)>Math.PI&&(h-=Math.sign(d)*2*Math.PI),p.set(n,{from:h,to:u})})},o=(r,n)=>({startAngle:e.startAngle.get(r)[n],endAngle:e.endAngle.get(r)[n]});return{calculate:i,from:r=>o(r,"from"),to:r=>o(r,"to")}}function fixRadialColumnAnimationStatus(e,t,i){if(i==="updated"){if(e.previousDatum==null||isNaN(e.previousDatum.startAngle)||isNaN(e.previousDatum.endAngle))return"added";if(isNaN(t.startAngle)||isNaN(t.endAngle))return"removed"}return i==="added"&&e.previousDatum!=null?"updated":i}function prepareRadialColumnAnimationFunctions(e){const t=createAngleMotionCalculator();return{toFn:(a,s,r)=>{const{startAngle:n,endAngle:l}=t.to(s);let c,p,h,u,d;return r==="removed"?(c=a.innerRadius,p=a.innerRadius,h=a.columnWidth,u=a.axisInnerRadius,d=a.axisOuterRadius):(c=isNaN(s.innerRadius)?e:s.innerRadius,p=isNaN(s.outerRadius)?e:s.outerRadius,h=isNaN(s.columnWidth)?a.columnWidth:s.columnWidth,u=s.axisInnerRadius,d=s.axisOuterRadius),{innerRadius:c,outerRadius:p,columnWidth:h,axisInnerRadius:u,axisOuterRadius:d,startAngle:n,endAngle:l}},fromFn:(a,s,r)=>{r=fixRadialColumnAnimationStatus(a,s,r),t.calculate(a,s,r);const{startAngle:n,endAngle:l}=t.from(s);let c,p,h,u,d;r==="removed"||r==="updated"?(c=a.innerRadius,p=a.outerRadius,h=a.columnWidth,u=a.axisInnerRadius,d=a.axisOuterRadius):(c=e,p=e,h=s.columnWidth,u=s.axisInnerRadius,d=s.axisOuterRadius);const f=motion7.NODE_UPDATE_STATE_TO_PHASE_MAPPING[r];return{innerRadius:c,outerRadius:p,columnWidth:h,axisInnerRadius:u,axisOuterRadius:d,startAngle:n,endAngle:l,phase:f}}}}function resetRadialColumnSelectionFn(e,{innerRadius:t,outerRadius:i,columnWidth:o,axisInnerRadius:a,axisOuterRadius:s,startAngle:r,endAngle:n}){return{innerRadius:t,outerRadius:i,columnWidth:o,axisInnerRadius:a,axisOuterRadius:s,startAngle:r,endAngle:n}}var{SectorBox,motion:motion8}=import_ag_charts_community124._ModuleSupport;function getRadii(e){const{negative:t,innerRadius:i,outerRadius:o,stackInnerRadius:a,stackOuterRadius:s}=e;return{innerRadius:t?s:a,outerRadius:t?a:s,clipInnerRadius:t?o:i,clipOuterRadius:t?i:o}}function prepareNightingaleAnimationFunctions(e){const t=createAngleMotionCalculator();return{toFn:(a,s,r)=>{const{startAngle:n,endAngle:l}=t.to(s);let c,p,h;if(r==="removed")c=e,p=e,h=new SectorBox(n,l,c,p);else{let u,d;({innerRadius:c,outerRadius:p,clipInnerRadius:u,clipOuterRadius:d}=getRadii(s)),isNaN(c)&&(c=e),isNaN(p)&&(p=e),isNaN(u)&&(u=e),isNaN(d)&&(d=e),h=new SectorBox(n,l,u,d)}return{innerRadius:c,outerRadius:p,startAngle:n,endAngle:l,clipSector:h}},fromFn:(a,s,r)=>{r=fixRadialColumnAnimationStatus(a,s,r),t.calculate(a,s,r);const{startAngle:n,endAngle:l}=t.from(s);let c,p,h;r==="removed"||r==="updated"?(c=a.innerRadius,p=a.outerRadius,h=a.clipSector):(c=e,p=e),h??(h=new SectorBox(n,l,c,p));const u=motion8.NODE_UPDATE_STATE_TO_PHASE_MAPPING[r];return{innerRadius:c,outerRadius:p,startAngle:n,endAngle:l,clipSector:h,phase:u}}}}function resetNightingaleSelectionFn(e,t){const{startAngle:i,endAngle:o}=t,{innerRadius:a,outerRadius:s,clipInnerRadius:r,clipOuterRadius:n}=getRadii(t),l=new SectorBox(i,o,r,n);return{innerRadius:a,outerRadius:s,startAngle:i,endAngle:o,clipSector:l}}var{Sector:Sector4,SectorBox:SectorBox2,PolarZIndexMap}=import_ag_charts_community125._ModuleSupport,NightingaleSeries=class extends RadialColumnSeriesBase{constructor(e){super(e,{animationResetFns:{item:resetNightingaleSelectionFn}}),this.properties=new RadialColumnSeriesBaseProperties}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.contentGroup.zIndex=[0,PolarZIndexMap.FOREGROUND,e],this.highlightGroup.zIndex=[0,PolarZIndexMap.HIGHLIGHT,e],this.labelGroup.zIndex=[0,PolarZIndexMap.LABEL,e],!0):!1}getStackId(){return`nightingale-stack-${this.seriesGrouping?.groupIndex??this.id}-yValues`}nodeFactory(){return new Sector4}updateItemPath(e,t,i){const{negative:o}=t;if(e.centerX=0,e.centerY=0,e.startOuterCornerRadius=o?0:this.properties.cornerRadius,e.endOuterCornerRadius=o?0:this.properties.cornerRadius,e.startInnerCornerRadius=o?this.properties.cornerRadius:0,e.endInnerCornerRadius=o?this.properties.cornerRadius:0,i){const{startAngle:a,endAngle:s}=t,{innerRadius:r,outerRadius:n,clipInnerRadius:l,clipOuterRadius:c}=getRadii(t);e.innerRadius=r,e.outerRadius=n,e.startAngle=a,e.endAngle=s,e.clipSector=new SectorBox2(a,s,l,c)}}getColumnTransitionFunctions(){const e=this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius();return prepareNightingaleAnimationFunctions(e)}};NightingaleSeries.className="NightingaleSeries",NightingaleSeries.type="nightingale";var import_ag_charts_community126=require("ag-charts-community"),import_ag_charts_core43=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs16,seriesLabelOptionsDefs:seriesLabelOptionsDefs10,tooltipOptionsDefs:tooltipOptionsDefs15}=import_ag_charts_community126._ModuleSupport,nightingaleSeriesOptionsDef={type:(0,import_ag_charts_core43.required)((0,import_ag_charts_core43.constant)("nightingale")),angleKey:(0,import_ag_charts_core43.required)(import_ag_charts_core43.string),radiusKey:(0,import_ag_charts_core43.required)(import_ag_charts_core43.string),angleName:import_ag_charts_core43.string,radiusName:import_ag_charts_core43.string,grouped:import_ag_charts_core43.boolean,stacked:import_ag_charts_core43.boolean,stackGroup:import_ag_charts_core43.string,normalizedTo:import_ag_charts_core43.number,cornerRadius:import_ag_charts_core43.positiveNumber,itemStyler:import_ag_charts_core43.callback,label:seriesLabelOptionsDefs10,tooltip:tooltipOptionsDefs15,...commonSeriesOptionsDefs16,...import_ag_charts_core43.fillOptionsDef,...import_ag_charts_core43.strokeOptionsDef,...import_ag_charts_core43.lineDashOptionsDef},import_ag_charts_community127=require("ag-charts-community"),{ThemeConstants:{POLAR_AXIS_TYPE,POLAR_AXIS_SHAPE}}=import_ag_charts_community127._ModuleSupport,axisShape={$path:["./shape",POLAR_AXIS_SHAPE.CIRCLE,{$find:[{$not:[{$isOperation:"./shape"}]},{$path:".."}]}]},NIGHTINGALE_SERIES_THEME={series:{fill:{$palette:"fill"},stroke:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$ref:"backgroundColor"},{$palette:"stroke"}]},fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"series",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community127._ModuleSupport.FILL_PATTERN_DEFAULTS,strokeWidth:1,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}},axes:{[POLAR_AXIS_TYPE.ANGLE_CATEGORY]:{shape:axisShape,groupPaddingInner:0,paddingInner:0,label:{spacing:10}},[POLAR_AXIS_TYPE.RADIUS_NUMBER]:{shape:axisShape}}},{ThemeConstants:{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE2}}=import_ag_charts_community128._ModuleSupport,NightingaleModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"nightingale",moduleFactory:e=>new NightingaleSeries(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:POLAR_AXIS_TYPE2.ANGLE_CATEGORY},{type:POLAR_AXIS_TYPE2.RADIUS_NUMBER}],themeTemplate:NIGHTINGALE_SERIES_THEME,stackable:!0,groupable:!0,stackedByDefault:!0},NightingaleSeriesModule={type:"series",name:"nightingale",chartType:"polar",enterprise:!0,options:nightingaleSeriesOptionsDef,create:e=>new NightingaleSeries(e)},import_ag_charts_community133=require("ag-charts-community"),import_ag_charts_community130=require("ag-charts-community"),import_ag_charts_community129=require("ag-charts-community"),{SeriesProperties:SeriesProperties9,FillGradientDefaults:FillGradientDefaults13,FillPatternDefaults:FillPatternDefaults13,SeriesTooltip:SeriesTooltip18,TempValidate:TempValidate31,UNION:UNION8,OR:OR15,ARRAY_OF:ARRAY_OF4,COLOR_GRADIENT:COLOR_GRADIENT13,COLOR_STRING:COLOR_STRING19,COLOR_STRING_ARRAY:COLOR_STRING_ARRAY10,FUNCTION:FUNCTION14,DIRECTION:DIRECTION2,BOOLEAN:BOOLEAN9,LINE_DASH:LINE_DASH18,OBJECT:OBJECT22,NUMBER:NUMBER10,POSITIVE_NUMBER:POSITIVE_NUMBER21,COLOR_PATTERN:COLOR_PATTERN13,RATIO:RATIO21,STRING:STRING16,Label:Label11,DropShadow:DropShadow5}=import_ag_charts_community129._ModuleSupport,PyramidSeriesLabel=class extends Label11{},PyramidSeriesStageLabel=class extends Label11{constructor(){super(...arguments),this.spacing=0}};__decorateClass([TempValidate31(NUMBER10)],PyramidSeriesStageLabel.prototype,"spacing",2),__decorateClass([TempValidate31(UNION8(["before","after"],"a placement"))],PyramidSeriesStageLabel.prototype,"placement",2);var PyramidProperties=class extends SeriesProperties9{constructor(){super(...arguments),this.fills=[],this.fillGradientDefaults=new FillGradientDefaults13,this.fillPatternDefaults=new FillPatternDefaults13,this.fillOpacity=1,this.strokes=[],this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.direction="vertical",this.reverse=void 0,this.spacing=0,this.aspectRatio=void 0,this.shadow=new DropShadow5().set({enabled:!1}),this.label=new PyramidSeriesLabel,this.stageLabel=new PyramidSeriesStageLabel,this.tooltip=new SeriesTooltip18}};__decorateClass([TempValidate31(STRING16)],PyramidProperties.prototype,"stageKey",2),__decorateClass([TempValidate31(STRING16)],PyramidProperties.prototype,"valueKey",2),__decorateClass([TempValidate31(ARRAY_OF4(OR15(COLOR_GRADIENT13,COLOR_PATTERN13,COLOR_STRING19)))],PyramidProperties.prototype,"fills",2),__decorateClass([TempValidate31(OBJECT22)],PyramidProperties.prototype,"fillGradientDefaults",2),__decorateClass([TempValidate31(OBJECT22)],PyramidProperties.prototype,"fillPatternDefaults",2),__decorateClass([TempValidate31(RATIO21)],PyramidProperties.prototype,"fillOpacity",2),__decorateClass([TempValidate31(COLOR_STRING_ARRAY10)],PyramidProperties.prototype,"strokes",2),__decorateClass([TempValidate31(POSITIVE_NUMBER21)],PyramidProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate31(RATIO21)],PyramidProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate31(LINE_DASH18)],PyramidProperties.prototype,"lineDash",2),__decorateClass([TempValidate31(POSITIVE_NUMBER21)],PyramidProperties.prototype,"lineDashOffset",2),__decorateClass([TempValidate31(DIRECTION2)],PyramidProperties.prototype,"direction",2),__decorateClass([TempValidate31(BOOLEAN9,{optional:!0})],PyramidProperties.prototype,"reverse",2),__decorateClass([TempValidate31(POSITIVE_NUMBER21)],PyramidProperties.prototype,"spacing",2),__decorateClass([TempValidate31(POSITIVE_NUMBER21,{optional:!0})],PyramidProperties.prototype,"aspectRatio",2),__decorateClass([TempValidate31(FUNCTION14,{optional:!0})],PyramidProperties.prototype,"itemStyler",2),__decorateClass([TempValidate31(OBJECT22)],PyramidProperties.prototype,"shadow",2),__decorateClass([TempValidate31(OBJECT22)],PyramidProperties.prototype,"label",2),__decorateClass([TempValidate31(OBJECT22)],PyramidProperties.prototype,"stageLabel",2),__decorateClass([TempValidate31(OBJECT22)],PyramidProperties.prototype,"tooltip",2);function applyPyramidDatum(e,{x:t,y:i,top:o,right:a,bottom:s,left:r}){e.x0=t-o/2,e.x1=t+o/2,e.x2=t+s/2,e.x3=t-s/2,e.y0=i-r/2,e.y1=i-a/2,e.y2=i+a/2,e.y3=i+r/2}function preparePyramidAnimationFunctions(e){return{fromFn:(a,s)=>{const{x:r,y:n}=s;let{top:l,right:c,bottom:p,left:h}=s;return e==="vertical"?(l=0,p=0):(h=0,c=0),{x:r,y:n,top:l,right:c,bottom:p,left:h}},toFn:(a,s)=>{const{x:r,y:n,top:l,right:c,bottom:p,left:h}=s;return{x:r,y:n,top:l,right:c,bottom:p,left:h}},applyFn:applyPyramidDatum}}var{StateMachine:StateMachine3,valueProperty:valueProperty13,SeriesNodePickMode:SeriesNodePickMode15,CachedTextMeasurerPool:CachedTextMeasurerPool8,TextUtils:TextUtils5,createDatumId:createDatumId19,BBox:BBox13,Group:Group13,Selection:Selection11,Text:Text5,PointerEvents:PointerEvents9,applyShapeStyle:applyShapeStyle9,fromToMotion:fromToMotion4,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation6,getShapeStyle:getShapeStyle14}=import_ag_charts_community130._ModuleSupport,PyramidSeries=class extends import_ag_charts_community130._ModuleSupport.DataModelSeries{constructor(e){super({moduleCtx:e,categoryKey:void 0,pickModes:[SeriesNodePickMode15.EXACT_SHAPE_MATCH,SeriesNodePickMode15.NEAREST_NODE]}),this.properties=new PyramidProperties,this.itemGroup=this.contentGroup.appendChild(new Group13({name:"itemGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Group13({name:"itemLabelGroup"})),this.stageLabelGroup=this.contentGroup.appendChild(new Group13({name:"stageLabelGroup"})),this.datumSelection=Selection11.select(this.itemGroup,()=>this.nodeFactory()),this.labelSelection=Selection11.select(this.itemLabelGroup,Text5),this.stageLabelSelection=Selection11.select(this.stageLabelGroup,Text5),this.highlightDatumSelection=Selection11.select(this.highlightNode,()=>this.nodeFactory()),this.animationState=new StateMachine3("empty",{empty:{update:{target:"ready",action:()=>this.animateEmptyUpdateReady()},reset:"empty",skip:"ready"},ready:{clear:"empty",reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable()),this.itemLabelGroup.pointerEvents=PointerEvents9.None,this.stageLabelGroup.pointerEvents=PointerEvents9.None}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager?.addListener("legend-item-click",e=>this.onLegendItemClick(e)))}nodeFactory(){return new FunnelConnector}getNodeData(){return this.contextNodeData?.nodeData}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}async processData(e){if(this.data==null||!this.properties.isValid())return;const{id:t,visible:i,ctx:{legendManager:o}}=this,{stageKey:a,valueKey:s}=this.properties,r="band",n="number",l=(p,h,u)=>i&&o.getItemEnabled({seriesId:t,itemId:u}),c=this.visible?{}:{forceValue:0};await this.requestDataModel(e,this.data,{props:[valueProperty13(a,r,{id:"xValue"}),valueProperty13(s,n,{id:"yValue",...c,validation:l,invalidValue:0})]})}createNodeData(){const{id:e,dataModel:t,processedData:i,properties:o,visible:a,ctx:{legendManager:s}}=this,{stageKey:r,valueKey:n,direction:l,reverse:c=l==="horizontal",spacing:p,aspectRatio:h,label:u,stageLabel:d}=o;if(t==null||i==null)return;const f=l==="horizontal",g=t.resolveColumnById(this,"xValue",i),m=t.resolveColumnById(this,"yValue",i),y=CachedTextMeasurerPool8.getMeasurer({font:d.getFont()});let b,S;f?(b="center",S=d.placement==="before"?"bottom":"top"):(b=d.placement==="after"?"left":"right",S="middle");const D=d.enabled?[]:void 0;let k=0,A=0,x=0;const v=i.dataSources.get(this.id)??[];v.forEach((w,E)=>{const G=g[E],F=m[E],V=a&&s.getItemEnabled({seriesId:e,itemId:E});if(x+=F,D==null)return;const W=this.getLabelText(this.properties.stageLabel,{datum:w,value:G,stageKey:r,valueKey:n}),{width:K}=y.measureText(W),q=W.split(`
`).length*TextUtils5.getLineHeight(u.fontSize);k=Math.max(k,K),A=Math.max(A,q),D.push({x:NaN,y:NaN,text:W,textAlign:b,textBaseline:S,visible:V})});const N=this._nodeDataDependencies?.seriesRectWidth??0,O=this._nodeDataDependencies?.seriesRectHeight??0,_=p*(i.input.count-1);let R;if(f){const w=A+d.spacing;R=new BBox13(0,d.placement==="before"?w:0,N,O-w)}else{const w=k+d.spacing;R=new BBox13(d.placement==="after"?0:w,0,N-w,O)}if(h!=null&&h!==0){const w=l==="horizontal"?1/h:h,E=Math.min(R.width,R.height*w),G=E/w;R=new BBox13(R.x+(R.width-E)/2,R.y+(R.height-G)/2,E,G)}let I,T;f?T=d.placement==="before"?R.y-d.spacing:R.y+R.height+d.spacing:I=d.placement==="after"?R.x+R.width+d.spacing:R.x-d.spacing;const C=R.width-(f?_:0),M=R.height-(f?0:_);if(C<0||M<0)return;const P=[],B=[];let L=0;return v.forEach((w,E)=>{const G=g[E],F=m[E],V=a&&s.getItemEnabled({seriesId:e,itemId:E}),W=L+F,K=(L+W)/(2*x),q=(W-L)/x,Y=f?C*K+p*E:C*.5,X=f?M*.5:M*K+p*E,U=R.x+Y,H=R.y+X;if(D!=null){const Q=D[E];Q.x=I??U,Q.y=T??H}let $,j,Z,z;if(f){const Q=C*q;$=Q,Z=Q;const te=(Y+Q/2)*(M/R.width),J=(Y-Q/2)*(M/R.width);j=c?R.height-te:te,z=c?R.height-J:J}else{const Q=M*q;j=Q,z=Q;const te=(X-Q/2)*(C/R.height),J=(X+Q/2)*(C/R.height);$=c?R.width-te:te,Z=c?R.width-J:J}const oe=this.getLabelText(u,{datum:w,value:F,stageKey:r,valueKey:n}),ae={x:U,y:H,text:oe,textAlign:"center",textBaseline:"middle",visible:V};B.push(ae),P.push({series:this,itemId:n,datum:w,datumIndex:E,index:E,xValue:G,yValue:F,x:U,y:H,top:$,right:j,bottom:Z,left:z,label:ae,enabled:V,midPoint:{x:U,y:H}}),L=W}),{itemId:e,nodeData:P,labelData:B,stageLabelData:D,bounds:R}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update({seriesRect:e}){this.checkResize(e);const{datumSelection:t,labelSelection:i,stageLabelSelection:o,highlightDatumSelection:a}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let s=this.ctx.highlightManager?.getActiveHighlight();s!=null&&(s.series!==this||s.datum==null)&&(s=void 0);const r=this.contextNodeData?.nodeData??[],n=this.contextNodeData?.labelData??[],l=this.contextNodeData?.stageLabelData??[];this.datumSelection=this.updateDatumSelection({nodeData:r,datumSelection:t}),this.updateDatumNodes({datumSelection:t,isHighlight:!1}),this.labelSelection=this.updateLabelSelection({labelData:n,labelSelection:i}),this.updateLabelNodes({labelSelection:i,labelProperties:this.properties.label}),this.stageLabelSelection=this.updateStageLabelSelection({stageLabelData:l,stageLabelSelection:o}),this.updateLabelNodes({labelSelection:o,labelProperties:this.properties.stageLabel}),this.highlightDatumSelection=this.updateDatumSelection({nodeData:s!=null?[s]:[],datumSelection:a}),this.updateDatumNodes({datumSelection:a,isHighlight:!0}),this.animationState.transition("update")}updateDatumSelection(e){return e.datumSelection.update(e.nodeData)}getItemBaseStyle(e){const{properties:t}=this,i=e?t.highlightStyle.item:void 0;return getShapeStyle14({fill:i?.fill,fillOpacity:i?.fillOpacity??t.fillOpacity,stroke:i?.stroke,strokeWidth:i?.strokeWidth??this.getStrokeWidth(t.strokeWidth),strokeOpacity:i?.strokeOpacity??t.strokeOpacity,lineDash:i?.lineDash??t.lineDash,lineDashOffset:i?.lineDashOffset??t.lineDashOffset},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults)}getItemStyleOverrides(e,t,i,o,a){const{id:s,properties:r}=this,{fills:n,strokes:l,stageKey:c,valueKey:p,itemStyler:h}=r,u=o.fill??n[i%n.length],d=o.stroke??l[i%l.length],f={};if(a||(f.fill=u,f.stroke=d),h!=null){const g=this.cachedDatumCallback(createDatumId19(e,a?"highlight":"node"),()=>this.callWithContext(h,{seriesId:s,datum:t,stageKey:c,valueKey:p,highlighted:a,fill:u,stroke:d,...o}));Object.assign(f,g)}return getShapeStyle14(f,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults)}updateDatumNodes(e){const{datumSelection:t,isHighlight:i}=e,{properties:o}=this,{shadow:a}=o,s=this.getItemBaseStyle(i),r=this.contextNodeData?.bounds,n=r?{series:r,axis:r}:void 0;t.each((l,c)=>{const{datumIndex:p,datum:h}=c,u=this.getItemStyleOverrides(String(p),h,p,s,i);applyShapeStyle9(l,s,u,n),applyPyramidDatum(l,c),l.fillShadow=a})}updateLabelSelection(e){return e.labelSelection.update(this.properties.label.enabled?e.labelData:[])}updateStageLabelSelection(e){return e.stageLabelSelection.update(e.stageLabelData)}updateLabelNodes(e){const{labelSelection:t,labelProperties:i}=e,{color:o,fontSize:a,fontStyle:s,fontWeight:r,fontFamily:n}=i;t.each((l,{visible:c,x:p,y:h,text:u,textAlign:d,textBaseline:f})=>{l.visible=c,l.x=p,l.y=h,l.text=u,l.fill=o,l.fontStyle=s,l.fontWeight=r,l.fontSize=a,l.fontFamily=n,l.textAlign=d,l.textBaseline=f})}computeFocusBounds(e){const t=this.getNodeData()?.[e.datumIndex];if(t!==void 0){for(const i of this.datumSelection)if(i.datum===t)return i.node}}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,properties:a}=this,{stageKey:s,valueKey:r,tooltip:n}=a;if(!i||!o)return;const l=o.dataSources.get(this.id)?.[e],c=i.resolveColumnById(this,"xValue",o)[e],p=i.resolveColumnById(this,"yValue",o)[e];if(c==null)return;const h=this.getLabelText(this.properties.stageLabel,{datum:o.dataSources.get(this.id)?.[e],value:p,stageKey:s,valueKey:r}),u=this.getItemBaseStyle(!1);return Object.assign(u,this.getItemStyleOverrides(String(e),e,e,u,!1)),n.formatTooltip(this.properties,{symbol:this.legendItemSymbol(e),data:[{label:String(c),value:h}]},{seriesId:t,datum:l,title:void 0,stageKey:s,valueKey:r,...u})}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(e,t){return[NaN,NaN]}pickNodeClosestDatum({x:e,y:t}){let i=1/0,o;return this.datumSelection.each((a,s)=>{const r=a.distanceSquared(e,t);r<i&&(i=r,o=s)}),o!=null?{datum:o,distance:Math.sqrt(i)}:void 0}legendItemSymbol(e){const{fills:t,strokes:i,strokeWidth:o,fillOpacity:a,strokeOpacity:s,lineDash:r,lineDashOffset:n}=this.properties,l=t[e%t.length]??"black",c=i[e%i.length]??"black";return{marker:getShapeStyle14({fill:l,fillOpacity:a,stroke:c,strokeWidth:o,strokeOpacity:s,lineDash:r,lineDashOffset:n},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults)}}getLegendData(e){const{processedData:t,dataModel:i,id:o,ctx:{legendManager:a},visible:s}=this;if(!i||!t||e!=="category"||!this.properties.isValid())return[];const{showInLegend:r}=this.properties,n=[],l=i.resolveColumnById(this,"xValue",t);return(t.dataSources.get(this.id)??[]).forEach((p,h)=>{const u=l[h];n.push({legendType:"category",id:o,itemId:h,seriesId:o,enabled:s&&a.getItemEnabled({seriesId:o,itemId:h}),label:{text:u},symbol:this.legendItemSymbol(h),hideInLegend:!r})}),n}animateReset(){this.ctx.animationManager.skipCurrentBatch(),this.ctx.animationManager.stopByAnimationGroupId(this.id)}animateEmptyUpdateReady(){const{datumSelection:e,labelSelection:t,properties:i}=this,o=preparePyramidAnimationFunctions(i.direction);fromToMotion4(this.id,"nodes",this.ctx.animationManager,[e],o),seriesLabelFadeInAnimation6(this,"labels",this.ctx.animationManager,t)}};PyramidSeries.className="PyramidSeries",PyramidSeries.type="pyramid";var import_ag_charts_community131=require("ag-charts-community"),import_ag_charts_core44=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs17,seriesLabelOptionsDefs:seriesLabelOptionsDefs11,shadowOptionsDefs:shadowOptionsDefs5,tooltipOptionsDefs:tooltipOptionsDefs16,without:without5}=import_ag_charts_community131._ModuleSupport,pyramidSeriesOptionsDef={type:(0,import_ag_charts_core44.required)((0,import_ag_charts_core44.constant)("pyramid")),stageKey:(0,import_ag_charts_core44.required)(import_ag_charts_core44.string),valueKey:(0,import_ag_charts_core44.required)(import_ag_charts_core44.string),direction:(0,import_ag_charts_core44.union)("horizontal","vertical"),aspectRatio:import_ag_charts_core44.positiveNumber,spacing:import_ag_charts_core44.positiveNumber,reverse:import_ag_charts_core44.boolean,itemStyler:import_ag_charts_core44.callback,fills:(0,import_ag_charts_core44.arrayOf)(import_ag_charts_core44.colorUnion),strokes:(0,import_ag_charts_core44.arrayOf)(import_ag_charts_core44.color),label:seriesLabelOptionsDefs11,stageLabel:{spacing:import_ag_charts_core44.positiveNumber,placement:(0,import_ag_charts_core44.union)("before","after"),...seriesLabelOptionsDefs11},tooltip:tooltipOptionsDefs16,shadow:shadowOptionsDefs5,...commonSeriesOptionsDefs17,...without5(import_ag_charts_core44.fillOptionsDef,["fill"]),...without5(import_ag_charts_core44.strokeOptionsDef,["stroke"]),...import_ag_charts_core44.lineDashOptionsDef},import_ag_charts_community132=require("ag-charts-community"),{ThemeSymbols:{DEFAULT_SHADOW_COLOUR:DEFAULT_SHADOW_COLOUR2}}=import_ag_charts_community132._ModuleSupport,PYRAMID_SERIES_THEME={series:{direction:"vertical",strokeWidth:0,spacing:2,fills:{$palette:"fills"},strokes:{$palette:"strokes"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community132._ModuleSupport.FILL_PATTERN_DEFAULTS,label:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"}},stageLabel:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:12},shadow:{enabled:!1,color:DEFAULT_SHADOW_COLOUR2,xOffset:3,yOffset:3,blur:5}}},PyramidSeriesModule={type:"series",name:"pyramid",chartType:"standalone",enterprise:!0,options:pyramidSeriesOptionsDef,create:e=>new PyramidSeries(e)},import_ag_charts_community140=require("ag-charts-community"),import_ag_charts_community134=require("ag-charts-community"),{ThemeConstants:{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE3}}=import_ag_charts_community134._ModuleSupport,BASE_RADAR_SERIES_THEME={series:{stroke:{$palette:"stroke"},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},marker:{enabled:!0,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!0},fillPatternDefaults:import_ag_charts_community134._ModuleSupport.FILL_PATTERN_DEFAULTS,fillOpacity:1,shape:"circle",size:6,strokeOpacity:1,strokeWidth:0}},axes:{[POLAR_AXIS_TYPE3.ANGLE_CATEGORY]:{label:{spacing:10}}}},RADAR_LINE_SERIES_THEME=import_ag_charts_community134._ModuleSupport.mergeDefaults({series:{stroke:import_ag_charts_community134._ModuleSupport.SAFE_STROKE_FILL_OPERATION,strokeWidth:2}},BASE_RADAR_SERIES_THEME),RADAR_AREA_SERIES_THEME=import_ag_charts_community134._ModuleSupport.mergeDefaults({series:{fill:{$palette:"fill"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community134._ModuleSupport.FILL_PATTERN_DEFAULTS,fillOpacity:.8,strokeWidth:2,marker:{enabled:!1,fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!0},fillPatternDefaults:import_ag_charts_community134._ModuleSupport.FILL_PATTERN_DEFAULTS}}},BASE_RADAR_SERIES_THEME),import_ag_charts_community138=require("ag-charts-community"),import_ag_charts_community136=require("ag-charts-community"),import_ag_charts_core45=require("ag-charts-core"),import_ag_charts_community135=require("ag-charts-community"),{Label:Label12,SeriesMarker:SeriesMarker2,SeriesProperties:SeriesProperties10,SeriesTooltip:SeriesTooltip19,TempValidate:TempValidate32,BOOLEAN:BOOLEAN10,COLOR_STRING:COLOR_STRING20,NUMBER:NUMBER11,LINE_DASH:LINE_DASH19,OBJECT:OBJECT23,POSITIVE_NUMBER:POSITIVE_NUMBER22,RATIO:RATIO22,STRING:STRING17}=import_ag_charts_community135._ModuleSupport,RadarSeriesProperties=class extends SeriesProperties10{constructor(){super(...arguments),this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.marker=new SeriesMarker2,this.label=new Label12,this.tooltip=new SeriesTooltip19,this.connectMissingData=!1}};__decorateClass([TempValidate32(STRING17)],RadarSeriesProperties.prototype,"angleKey",2),__decorateClass([TempValidate32(STRING17)],RadarSeriesProperties.prototype,"radiusKey",2),__decorateClass([TempValidate32(STRING17,{optional:!0})],RadarSeriesProperties.prototype,"angleName",2),__decorateClass([TempValidate32(STRING17,{optional:!0})],RadarSeriesProperties.prototype,"radiusName",2),__decorateClass([TempValidate32(COLOR_STRING20)],RadarSeriesProperties.prototype,"stroke",2),__decorateClass([TempValidate32(POSITIVE_NUMBER22)],RadarSeriesProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate32(RATIO22)],RadarSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate32(LINE_DASH19)],RadarSeriesProperties.prototype,"lineDash",2),__decorateClass([TempValidate32(POSITIVE_NUMBER22)],RadarSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([TempValidate32(NUMBER11)],RadarSeriesProperties.prototype,"rotation",2),__decorateClass([TempValidate32(OBJECT23)],RadarSeriesProperties.prototype,"marker",2),__decorateClass([TempValidate32(OBJECT23)],RadarSeriesProperties.prototype,"label",2),__decorateClass([TempValidate32(OBJECT23)],RadarSeriesProperties.prototype,"tooltip",2),__decorateClass([TempValidate32(BOOLEAN10)],RadarSeriesProperties.prototype,"connectMissingData",2);var{ChartAxisDirection:ChartAxisDirection15,PolarAxis:PolarAxis2,SeriesNodePickMode:SeriesNodePickMode16,valueProperty:valueProperty14,fixNumericExtent:fixNumericExtent8,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation7,markerFadeInAnimation:markerFadeInAnimation2,resetMarkerFn:resetMarkerFn2,animationValidation:animationValidation8,computeMarkerFocusBounds:computeMarkerFocusBounds3,extent:extent2,BBox:BBox14,Group:Group14,Path:Path9,PointerEvents:PointerEvents10,Selection:Selection12,Text:Text6,Marker:Marker3,mergeDefaults:mergeDefaults4,getShapeStyle:getShapeStyle15}=import_ag_charts_community136._ModuleSupport,RadarSeriesNodeEvent=class extends import_ag_charts_community136._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.angleKey=o.properties.angleKey,this.radiusKey=o.properties.radiusKey}},RadarSeries=class extends import_ag_charts_community136._ModuleSupport.PolarSeries{constructor(e){super({moduleCtx:e,categoryKey:"angleValue",useLabelLayer:!0,pickModes:[SeriesNodePickMode16.NEAREST_NODE,SeriesNodePickMode16.EXACT_SHAPE_MATCH],canHaveAxes:!0,animationResetFns:{item:resetMarkerFn2},clipFocusBox:!1}),this.properties=new RadarSeriesProperties,this.NodeEvent=RadarSeriesNodeEvent,this.lineGroup=this.contentGroup.appendChild(new Group14({name:"radar-line"})),this.lineSelection=Selection12.select(this.lineGroup,Path9),this.resetInvalidToZero=!1,this.circleCache={r:0,cx:0,cy:0},this.lineGroup.zIndex=0,this.itemGroup.zIndex=1}nodeFactory(){return new Marker3}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];if(e===ChartAxisDirection15.X)return t.getDomain(this,"angleValue","value",i);{const o=t.getDomain(this,"radiusValue","value",i),a=extent2(o.length===0?o:[0].concat(o));return fixNumericExtent8(a)}}async processData(e){if(!this.properties.isValid())return;const{angleKey:t,radiusKey:i}=this.properties,o=[];this.ctx.animationManager.isSkipped()||o.push(animationValidation8());const a=this.axes[ChartAxisDirection15.Y]?.scale.type,s=this.axes[ChartAxisDirection15.X]?.scale.type;await this.requestDataModel(e,this.data,{props:[valueProperty14(t,s,{id:"angleValue"}),valueProperty14(i,a,{id:"radiusValue",invalidValue:void 0}),...o]}),this.animationState.transition("updateData")}didCircleChange(){const e=this.radius,t=this.centerX,i=this.centerY,o=this.circleCache;return e===o.r&&t===o.cx&&i===o.cy?!1:(this.circleCache={r:e,cx:t,cy:i},!0)}getAxisInnerRadius(){const e=this.axes[ChartAxisDirection15.Y];return e instanceof PolarAxis2?this.radius*e.innerRadiusRatio:0}maybeRefreshNodeData(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const{nodeData:t=[]}=this.createNodeData()??{};this.nodeData=t,this.nodeDataRefresh=!1}createNodeData(){const{processedData:e,dataModel:t}=this;if(!e||!t||!this.properties.isValid())return;const{angleKey:i,radiusKey:o,angleName:a,radiusName:s,marker:r,label:n}=this.properties,l=this.axes[ChartAxisDirection15.X]?.scale,c=this.axes[ChartAxisDirection15.Y]?.scale;if(!l||!c)return;const p=t.resolveColumnById(this,"angleValue",e),h=t.resolveColumnById(this,"radiusValue",e),u=this.getAxisInnerRadius(),f=(e.dataSources.get(this.id)??[]).map((g,m)=>{const y=p[m],b=h[m],S=l.convert(y),D=this.radius+u-c.convert(b),k=Math.cos(S),A=Math.sin(S),x=k*D,v=A*D;let N;if(n.enabled){const O=this.getLabelText(n,{value:b,datum:g,angleKey:i,radiusKey:o,angleName:a,radiusName:s});if(O){let _="right";(0,import_ag_charts_core45.isNumberEqual)(k,0)?_="center":k>0&&(_="left");let R="bottom";(0,import_ag_charts_core45.isNumberEqual)(A,0)?R="middle":A>0&&(R="top"),N={x:x+k*r.size,y:v+A*r.size,text:O,textAlign:_,textBaseline:R}}}return{series:this,datum:g,datumIndex:m,index:m,point:{x,y:v,size:r.size},midPoint:{x,y:v},label:N,angleValue:y,radiusValue:b,missing:!(0,import_ag_charts_core45.isFiniteNumber)(S)||!(0,import_ag_charts_core45.isFiniteNumber)(D)}});return{itemId:o,nodeData:f,labelData:f}}update({seriesRect:e}){const t=this.checkResize(e),i=!this.ctx.animationManager.isSkipped(),{series:o}=this.ctx.highlightManager?.getActiveHighlight()??{};this.highlightGroup.visible=(i||this.visible)&&o===this,this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updatePathSelections(),this.updateMarkerSelection(),this.updateMarkers(this.itemSelection,!1),this.updateMarkers(this.highlightSelection,!0),this.updateLabels(),t&&this.animationState.transition("resize"),this.animationState.transition("update")}updatePathSelections(){const e=this.visible?[!0]:[];this.lineSelection.update(e)}updateMarkerSelection(){this.properties.marker.isDirty()&&(this.itemSelection.clear(),this.itemSelection.cleanup(),this.itemSelection=Selection12.select(this.itemGroup,()=>this.nodeFactory(),!1)),this.itemSelection.update(this.properties.marker.enabled?this.nodeData:[])}getMarkerFill(e){return e?.fill??this.properties.marker.fill}getDatumStylerProperties(e){const{id:t,properties:i}=this,{angleKey:o,radiusKey:a}=i;return{seriesId:t,datum:e,angleKey:o,radiusKey:a}}updateMarkers(e,t){const{visible:i}=this,{marker:o,stroke:a,strokeWidth:s,strokeOpacity:r,highlightStyle:n}=this.properties;let l=[];if(i&&o.shape&&o.enabled)if(t){const h=this.ctx.highlightManager?.getActiveHighlight();h?.datum&&(l=[h])}else l=this.nodeData;const c=mergeDefaults4(t&&n.item,o.getStyle(),{stroke:a,strokeWidth:s,strokeOpacity:r}),p=this.getShapeFillBBox();e.update(l).each((h,u)=>{this.updateMarkerStyle(o,h,u.datum,u.point,this.getDatumStylerProperties(u),t,c,p)})}updateLabels(){const{label:e}=this.properties;this.labelSelection.update(this.nodeData).each((t,i)=>{e.enabled&&i.label?(t.x=i.label.x,t.y=i.label.y,t.fill=e.color,t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=i.label.text,t.textAlign=i.label.textAlign,t.textBaseline=i.label.textBaseline,t.visible=!0):t.visible=!1})}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,axes:a,properties:s}=this,{angleKey:r,angleName:n,radiusKey:l,radiusName:c,tooltip:p,marker:h}=s,u=a[ChartAxisDirection15.X],d=a[ChartAxisDirection15.Y];if(!i||!o||!u||!d)return;const f=o.dataSources.get(this.id)?.[e],g=i.resolveColumnById(this,"angleValue",o)[e],m=i.resolveColumnById(this,"radiusValue",o)[e];if(g==null)return;const y=this.getMarkerStyle(h,f,this.getDatumStylerProperties(f),!1);return p.formatTooltip(this.properties,{heading:u.formatDatum(g),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:d.formatDatum(m)}]},{seriesId:t,datum:f,title:n,angleKey:r,radiusKey:l,angleName:n,radiusName:c,...y})}legendItemSymbol(){const{stroke:e,strokeWidth:t,strokeOpacity:i,lineDash:o,marker:a}=this.properties;return{marker:getShapeStyle15({shape:a.shape,enabled:a.enabled||t<=0,fill:this.getMarkerFill()??a.stroke??e??"rgba(0, 0, 0, 0)",stroke:a.stroke??e??"rgba(0, 0, 0, 0)",fillOpacity:a.fillOpacity,strokeOpacity:a.strokeOpacity,strokeWidth:a.strokeWidth,lineDash:a.lineDash,lineDashOffset:a.lineDashOffset},a.fillGradientDefaults,a.fillPatternDefaults),line:{stroke:e,strokeOpacity:i,strokeWidth:t,lineDash:o}}}getLegendData(e){if(!this.properties.isValid()||e!=="category")return[];const{id:t,ctx:{legendManager:i},visible:o}=this,{radiusKey:a,radiusName:s,showInLegend:r}=this.properties;return[{legendType:"category",id:t,itemId:a,seriesId:t,enabled:o&&i.getItemEnabled({seriesId:t,itemId:a}),label:{text:s??a},symbol:this.legendItemSymbol(),hideInLegend:!r}]}pickNodeClosestDatum(e){const{nodeData:t,centerX:i,centerY:o}=this,{x:a,y:s}=e,r=this.radius;if(Math.sqrt((a-i)**2+(s-o)**2)>r+this.properties.marker.size)return;let l=1/0,c;for(const p of t){const{point:{x:h=NaN,y:u=NaN}={}}=p;if(isNaN(h)||isNaN(u))continue;const d=Math.sqrt((e.x-h-i)**2+(e.y-u-o)**2);d<l&&(l=d,c=p)}if(c){const p=Math.max(l-(c.point?.size??0),0);return{datum:c,distance:p}}}computeLabelsBBox(){const{label:e}=this.properties;this.maybeRefreshNodeData();const t=[],i=new Text6;return this.nodeData.forEach(o=>{if(!e.enabled||!o.label)return;i.text=o.label.text,i.x=o.label.x,i.y=o.label.y,i.setFont(e),i.setAlign(o.label);const a=i.getBBox();t.push(a)}),t.length===0?null:BBox14.merge(t)}getLineNode(){return this.lineSelection?.at(0)}beforePathAnimation(){const e=this.getLineNode();e&&(e.fill=void 0,e.lineJoin="round",e.lineCap="round",e.pointerEvents=PointerEvents10.None,e.stroke=this.properties.stroke,e.strokeWidth=this.getStrokeWidth(this.properties.strokeWidth),e.strokeOpacity=this.properties.strokeOpacity,e.lineDash=this.properties.lineDash,e.lineDashOffset=this.properties.lineDashOffset)}getLinePoints(){const{nodeData:e,resetInvalidToZero:t}=this,{connectMissingData:i}=this.properties;if(e.length===0)return[];const o=this.axes[ChartAxisDirection15.Y],s=this.axes[ChartAxisDirection15.X]?.isReversed(),n=o?.isReversed()&&!s?[...e].reverse():e,l=[];let c=!1,p;return n.forEach((h,u)=>{let{x:d,y:f}=h.point;const g=isNaN(d)||isNaN(f);g||(p??(p=h)),g&&!i&&(d=0,f=0);const m=u===0||!t&&!i&&(g||c);l.push({x:d,y:f,moveTo:m}),c=g}),p!==void 0&&l.push({x:p.point.x,y:p.point.y,moveTo:!1}),l}animateSinglePath(e,t,i){const{path:o}=e;o.clear(!0);const a=this.getAxisInnerRadius(),s=this.axes[ChartAxisDirection15.Y],n=s?.isReversed()?this.radius+a-s?.scale.convert(0):a;t.forEach(l=>{const{x:c,y:p,arc:h,radius:u=0,startAngle:d=0,endAngle:f=0,moveTo:g}=l,m=Math.atan2(p,c),y=n*Math.cos(m),b=n*Math.sin(m),S=i,D=y*(1-S)+c*S,k=b*(1-S)+p*S;h?o.arc(c,p,u,d,f):g?o.moveTo(D,k):o.lineTo(D,k)}),e.checkPathDirty()}animatePaths(e){const t=this.getLinePoints(),i=this.getLineNode();i&&this.animateSinglePath(i,t,e)}animateEmptyUpdateReady(){const{itemSelection:e,labelSelection:t}=this,{animationManager:i}=this.ctx;this.beforePathAnimation(),i.animate({id:`${this.id}_'path`,groupId:this.id,from:0,to:1,phase:"initial",collapsable:!1,onUpdate:o=>this.animatePaths(o),onStop:()=>this.animatePaths(1)}),markerFadeInAnimation2(this,i,"added",e),seriesLabelFadeInAnimation7(this,"labels",i,t)}animateWaitingUpdateReady(e){super.animateWaitingUpdateReady(e),this.resetPaths()}animateReadyResize(e){super.animateReadyResize(e),this.resetPaths()}resetPaths(){const e=this.getLineNode();if(e){const{path:t}=e,i=this.getLinePoints();e.fill=void 0,e.stroke=this.properties.stroke,e.strokeWidth=this.getStrokeWidth(this.properties.strokeWidth),e.strokeOpacity=this.properties.strokeOpacity,e.lineDash=this.properties.lineDash,e.lineDashOffset=this.properties.lineDashOffset,t.clear(!0);for(const{x:o,y:a,moveTo:s}of i)s?t.moveTo(o,a):t.lineTo(o,a);e.checkPathDirty()}}getFormattedMarkerStyle(e){const{angleKey:t,radiusKey:i}=this.properties;return this.getMarkerStyle(this.properties.marker,e.datum,{angleKey:t,radiusKey:i},!0)}computeFocusBounds(e){return computeMarkerFocusBounds3(this,e)}};RadarSeries.className="RadarSeries";var import_ag_charts_community137=require("ag-charts-community"),{FillGradientDefaults:FillGradientDefaults14,FillPatternDefaults:FillPatternDefaults14,RATIO:RATIO23,COLOR_STRING:COLOR_STRING21,TempValidate:TempValidate33,OR:OR16,COLOR_GRADIENT:COLOR_GRADIENT14,COLOR_PATTERN:COLOR_PATTERN14,OBJECT:OBJECT24}=import_ag_charts_community137._ModuleSupport,RadarAreaSeriesProperties=class extends RadarSeriesProperties{constructor(){super(...arguments),this.fill="black",this.fillGradientDefaults=new FillGradientDefaults14,this.fillPatternDefaults=new FillPatternDefaults14,this.fillOpacity=1}};__decorateClass([TempValidate33(OR16(COLOR_GRADIENT14,COLOR_PATTERN14,COLOR_STRING21))],RadarAreaSeriesProperties.prototype,"fill",2),__decorateClass([TempValidate33(OBJECT24)],RadarAreaSeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([TempValidate33(OBJECT24)],RadarAreaSeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([TempValidate33(RATIO23)],RadarAreaSeriesProperties.prototype,"fillOpacity",2);var{Group:Group15,Path:Path10,PointerEvents:PointerEvents11,Selection:Selection13,ChartAxisDirection:ChartAxisDirection16,applyShapeStyle:applyShapeStyle10,getShapeFill:getShapeFill4,getShapeStyle:getShapeStyle16}=import_ag_charts_community138._ModuleSupport,RadarAreaSeries=class extends RadarSeries{constructor(e){super(e),this.properties=new RadarAreaSeriesProperties,this.areaGroup=this.contentGroup.appendChild(new Group15({name:"radar-area"})),this.areaSelection=Selection13.select(this.areaGroup,Path10),this.resetInvalidToZero=!0,this.areaGroup.zIndex=-1}updatePathSelections(){const e=this.visible?[!0]:[];this.areaSelection.update(e),super.updatePathSelections()}getAreaNode(){return this.areaSelection.at(0)}getMarkerFill(e){return e?.fill??this.properties.marker.fill??this.properties.fill}beforePathAnimation(){super.beforePathAnimation();const e=this.getAreaNode(),{fillOpacity:t,fill:i}=this.properties,o=getShapeStyle16({fill:i,fillOpacity:t},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults);applyShapeStyle10(e,o,void 0,this.getShapeFillBBox()),e.pointerEvents=PointerEvents11.None,e.stroke=void 0}animatePaths(e){super.animatePaths(e),this.animateSinglePath(this.getAreaNode(),this.getAreaPoints(),e)}getAreaPoints(){const e=this.getLinePoints(),t=r=>{const n=this.axes[r];return n instanceof import_ag_charts_community138._ModuleSupport.PolarAxis?n:void 0},i=t(ChartAxisDirection16.Y),o=t(ChartAxisDirection16.X);if(!i?.isReversed())return e;const s=o?.getAxisLinePoints()?.points??[];return e.concat(...s)}resetPaths(){super.resetPaths();const e=this.getAreaNode();if(e){const{path:t}=e,i=this.getAreaPoints();e.fill=getShapeFill4(this.properties.fill,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults),e.fillOpacity=this.properties.fillOpacity,e.stroke=void 0,e.lineDash=this.properties.lineDash,e.lineDashOffset=this.properties.lineDashOffset,e.lineJoin=e.lineCap="round",t.clear(!0),i.forEach(({x:o,y:a,moveTo:s,arc:r,radius:n=0,startAngle:l=0,endAngle:c=0})=>{r?t.arc(o,a,n,l,c):s?t.moveTo(o,a):t.lineTo(o,a)}),t.closePath(),e.checkPathDirty()}}};RadarAreaSeries.className="RadarAreaSeries",RadarAreaSeries.type="radar-area";var import_ag_charts_community139=require("ag-charts-community"),import_ag_charts_core46=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs18,seriesLabelOptionsDefs:seriesLabelOptionsDefs12,markerOptionsDefs:markerOptionsDefs3,tooltipOptionsDefs:tooltipOptionsDefs17}=import_ag_charts_community139._ModuleSupport,radarAreaSeriesOptionsDef={type:(0,import_ag_charts_core46.required)((0,import_ag_charts_core46.constant)("radar-area")),angleKey:(0,import_ag_charts_core46.required)(import_ag_charts_core46.string),radiusKey:(0,import_ag_charts_core46.required)(import_ag_charts_core46.string),angleName:import_ag_charts_core46.string,radiusName:import_ag_charts_core46.string,connectMissingData:import_ag_charts_core46.boolean,marker:markerOptionsDefs3,label:seriesLabelOptionsDefs12,tooltip:tooltipOptionsDefs17,...commonSeriesOptionsDefs18,...import_ag_charts_core46.fillOptionsDef,...import_ag_charts_core46.strokeOptionsDef,...import_ag_charts_core46.lineDashOptionsDef},{ThemeConstants:{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE4}}=import_ag_charts_community140._ModuleSupport,RadarAreaModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-area",moduleFactory:e=>new RadarAreaSeries(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:POLAR_AXIS_TYPE4.ANGLE_CATEGORY},{type:POLAR_AXIS_TYPE4.RADIUS_NUMBER}],themeTemplate:RADAR_AREA_SERIES_THEME},RadarAreaSeriesModule={type:"series",name:"radar-area",chartType:"polar",enterprise:!0,options:radarAreaSeriesOptionsDef,create:e=>new RadarAreaSeries(e)},import_ag_charts_community142=require("ag-charts-community"),RadarLineSeries=class extends RadarSeries{updatePathSelections(){this.lineSelection.update(this.visible?[!0]:[])}};RadarLineSeries.className="RadarLineSeries",RadarLineSeries.type="radar-line";var import_ag_charts_community141=require("ag-charts-community"),import_ag_charts_core47=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs19,seriesLabelOptionsDefs:seriesLabelOptionsDefs13,markerOptionsDefs:markerOptionsDefs4,tooltipOptionsDefs:tooltipOptionsDefs18}=import_ag_charts_community141._ModuleSupport,radarLineSeriesOptionsDef={type:(0,import_ag_charts_core47.required)((0,import_ag_charts_core47.constant)("radar-line")),angleKey:(0,import_ag_charts_core47.required)(import_ag_charts_core47.string),radiusKey:(0,import_ag_charts_core47.required)(import_ag_charts_core47.string),angleName:import_ag_charts_core47.string,radiusName:import_ag_charts_core47.string,connectMissingData:import_ag_charts_core47.boolean,marker:markerOptionsDefs4,label:seriesLabelOptionsDefs13,tooltip:tooltipOptionsDefs18,...commonSeriesOptionsDefs19,...import_ag_charts_core47.strokeOptionsDef,...import_ag_charts_core47.lineDashOptionsDef},{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE5}=import_ag_charts_community142._ModuleSupport.ThemeConstants,RadarLineModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-line",moduleFactory:e=>new RadarLineSeries(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:POLAR_AXIS_TYPE5.ANGLE_CATEGORY},{type:POLAR_AXIS_TYPE5.RADIUS_NUMBER}],themeTemplate:RADAR_LINE_SERIES_THEME},RadarLineSeriesModule={type:"series",name:"radar-line",chartType:"polar",enterprise:!0,options:radarLineSeriesOptionsDef,create:e=>new RadarLineSeries(e)},import_ag_charts_community148=require("ag-charts-community"),import_ag_charts_community145=require("ag-charts-community"),import_ag_charts_core48=require("ag-charts-core"),import_ag_charts_community143=require("ag-charts-community"),{SeriesProperties:SeriesProperties11,FillGradientDefaults:FillGradientDefaults15,FillPatternDefaults:FillPatternDefaults15,SeriesTooltip:SeriesTooltip20,TempValidate:TempValidate34,COLOR_STRING:COLOR_STRING22,NUMBER:NUMBER12,FUNCTION:FUNCTION15,LINE_DASH:LINE_DASH20,OBJECT:OBJECT25,POSITIVE_NUMBER:POSITIVE_NUMBER23,RATIO:RATIO24,STRING:STRING18,Label:Label13,COLOR_GRADIENT:COLOR_GRADIENT15,COLOR_PATTERN:COLOR_PATTERN15,OR:OR17}=import_ag_charts_community143._ModuleSupport,RadialBarSeriesProperties=class extends SeriesProperties11{constructor(){super(...arguments),this.fill="black",this.fillGradientDefaults=new FillGradientDefaults15,this.fillPatternDefaults=new FillPatternDefaults15,this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.label=new Label13,this.tooltip=new SeriesTooltip20}};__decorateClass([TempValidate34(STRING18)],RadialBarSeriesProperties.prototype,"angleKey",2),__decorateClass([TempValidate34(STRING18)],RadialBarSeriesProperties.prototype,"radiusKey",2),__decorateClass([TempValidate34(STRING18,{optional:!0})],RadialBarSeriesProperties.prototype,"angleName",2),__decorateClass([TempValidate34(STRING18,{optional:!0})],RadialBarSeriesProperties.prototype,"radiusName",2),__decorateClass([TempValidate34(OR17(COLOR_GRADIENT15,COLOR_PATTERN15,COLOR_STRING22))],RadialBarSeriesProperties.prototype,"fill",2),__decorateClass([TempValidate34(OBJECT25)],RadialBarSeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([TempValidate34(OBJECT25)],RadialBarSeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([TempValidate34(RATIO24)],RadialBarSeriesProperties.prototype,"fillOpacity",2),__decorateClass([TempValidate34(COLOR_STRING22)],RadialBarSeriesProperties.prototype,"stroke",2),__decorateClass([TempValidate34(POSITIVE_NUMBER23)],RadialBarSeriesProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate34(RATIO24)],RadialBarSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate34(LINE_DASH20)],RadialBarSeriesProperties.prototype,"lineDash",2),__decorateClass([TempValidate34(POSITIVE_NUMBER23)],RadialBarSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([TempValidate34(POSITIVE_NUMBER23)],RadialBarSeriesProperties.prototype,"cornerRadius",2),__decorateClass([TempValidate34(FUNCTION15,{optional:!0})],RadialBarSeriesProperties.prototype,"itemStyler",2),__decorateClass([TempValidate34(NUMBER12)],RadialBarSeriesProperties.prototype,"rotation",2),__decorateClass([TempValidate34(STRING18,{optional:!0})],RadialBarSeriesProperties.prototype,"stackGroup",2),__decorateClass([TempValidate34(NUMBER12,{optional:!0})],RadialBarSeriesProperties.prototype,"normalizedTo",2),__decorateClass([TempValidate34(OBJECT25)],RadialBarSeriesProperties.prototype,"label",2),__decorateClass([TempValidate34(OBJECT25)],RadialBarSeriesProperties.prototype,"tooltip",2);var import_ag_charts_community144=require("ag-charts-community"),{SectorBox:SectorBox3,motion:motion9}=import_ag_charts_community144._ModuleSupport;function fixRadialBarAnimationStatus(e,t,i){if(i==="updated"){if(e.previousDatum==null||isNaN(e.previousDatum.innerRadius)||isNaN(e.previousDatum.outerRadius))return"added";if(isNaN(t.innerRadius)||isNaN(t.outerRadius))return"removed"}return i==="added"&&e.previousDatum!=null?"updated":i}function prepareRadialBarSeriesAnimationFunctions(e){return{toFn:(o,a,s)=>{let r,n,l,c,p;return s==="removed"?(r=e,n=e,l=a.innerRadius,c=a.outerRadius,p=new SectorBox3(r,n,l,c)):(r=a.startAngle,n=a.endAngle,l=isNaN(a.innerRadius)?o.innerRadius:a.innerRadius,c=isNaN(a.outerRadius)?o.outerRadius:a.outerRadius,p=a.clipSector),{startAngle:r,endAngle:n,innerRadius:l,outerRadius:c,clipSector:p}},fromFn:(o,a,s)=>{s=fixRadialBarAnimationStatus(o,a,s);let r,n,l,c,p;s==="removed"||s==="updated"?(r=o.startAngle,n=o.endAngle,l=o.innerRadius,c=o.outerRadius,p=o.clipSector):(r=e,n=e,l=a.innerRadius,c=a.outerRadius),p??(p=new SectorBox3(r,n,l,c));const h=motion9.NODE_UPDATE_STATE_TO_PHASE_MAPPING[s];return{startAngle:r,endAngle:n,innerRadius:l,outerRadius:c,clipSector:p,phase:h}}}}function resetRadialBarSelectionsFn(e,t){return{centerX:0,centerY:0,innerRadius:t.innerRadius,outerRadius:t.outerRadius,startAngle:t.startAngle,endAngle:t.endAngle,clipSector:t.clipSector}}var{ChartAxisDirection:ChartAxisDirection17,PolarAxis:PolarAxis3,diff:diff7,groupAccumulativeValueProperty:groupAccumulativeValueProperty2,keyProperty:keyProperty9,normaliseGroupTo:normaliseGroupTo2,valueProperty:valueProperty15,fixNumericExtent:fixNumericExtent9,resetLabelFn:resetLabelFn6,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation8,seriesLabelFadeOutAnimation:seriesLabelFadeOutAnimation2,animationValidation:animationValidation9,angleBetween:angleBetween3,createDatumId:createDatumId20,CategoryScale:CategoryScale4,Sector:Sector5,SectorBox:SectorBox4,motion:motion10,isGradientFill:isGradientFill4,applyShapeStyle:applyShapeStyle11,getShapeStyle:getShapeStyle17}=import_ag_charts_community145._ModuleSupport,RadialBarSeriesNodeEvent=class extends import_ag_charts_community145._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.angleKey=o.properties.angleKey,this.radiusKey=o.properties.radiusKey}},RadialBarSeries=class extends import_ag_charts_community145._ModuleSupport.PolarSeries{constructor(e){super({moduleCtx:e,categoryKey:"radiusValue",useLabelLayer:!0,canHaveAxes:!0,animationResetFns:{item:resetRadialBarSelectionsFn,label:resetLabelFn6}}),this.properties=new RadialBarSeriesProperties,this.NodeEvent=RadialBarSeriesNodeEvent,this.groupScale=new CategoryScale4,this.circleCache={r:0,cx:0,cy:0}}get defaultShapeStyle(){const e=this.axes[ChartAxisDirection17.X]?.scale;return{...this.properties.fillGradientDefaults.toJson(),rotation:import_ag_charts_community145._ModuleSupport.toDegrees(e.range[0])+90}}nodeFactory(){return new Sector5}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];if(e===ChartAxisDirection17.X){const o=t.getDomain(this,"angleValue-end","value",i),a=[o[0]>0?0:o[0],o[1]<0?0:o[1]];return fixNumericExtent9(a)}else return t.getDomain(this,"radiusValue","key",i)}async processData(e){const{angleKey:t,radiusKey:i,normalizedTo:o}=this.properties,a=!this.ctx.animationManager.isSkipped();if(!this.properties.isValid())return;const s=this.getStackId(),r=`${s}-trailing`,n=[];(0,import_ag_charts_core48.isDefined)(o)&&n.push(normaliseGroupTo2([s,r],Math.abs(o))),a&&(this.processedData&&n.push(diff7(this.id,this.processedData)),n.push(animationValidation9()));const l=this.visible?{}:{forceValue:0},c=this.axes[ChartAxisDirection17.Y]?.scale.type,p=this.axes[ChartAxisDirection17.X]?.scale.type;await this.requestDataModel(e,this.data,{props:[keyProperty9(i,c,{id:"radiusValue"}),valueProperty15(t,p,{id:"angleValue-raw",invalidValue:null,...l}),...groupAccumulativeValueProperty2(t,"normal","current",{id:"angleValue-end",rangeId:"angleValue-range",invalidValue:null,groupId:s,separateNegative:!0,...l},p),...groupAccumulativeValueProperty2(t,"trailing","current",{id:"angleValue-start",invalidValue:null,groupId:r,separateNegative:!0,...l},p),...n],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}didCircleChange(){const e=this.radius,t=this.centerX,i=this.centerY,o=this.circleCache;return e===o.r&&t===o.cx&&i===o.cy?!1:(this.circleCache={r:e,cx:t,cy:i},!0)}maybeRefreshNodeData(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const{nodeData:t=[]}=this.createNodeData()??{};this.nodeData=t,this.nodeDataRefresh=!1}getAxisInnerRadius(){const e=this.axes[ChartAxisDirection17.Y];return e instanceof PolarAxis3?this.radius*e.innerRadiusRatio:0}createNodeData(){const{processedData:e,dataModel:t}=this;if(!t||!e||e.type!=="grouped"||!this.properties.isValid())return;const i=this.axes[ChartAxisDirection17.X],o=this.axes[ChartAxisDirection17.Y],a=i?.scale,s=o?.scale;if(!a||!s)return;const r=t.resolveKeysById(this,"radiusValue",e),n=t.resolveColumnById(this,"angleValue-start",e),l=t.resolveColumnById(this,"angleValue-end",e),c=t.resolveColumnById(this,"angleValue-raw",e),p=t.resolveProcessedDataIndexById(this,"angleValue-range");let h=0;o instanceof RadiusCategoryAxis&&(h=o.groupPaddingInner);const{groupScale:u}=this,{index:d,visibleGroupCount:f}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);u.domain=Array.from({length:f}).map((C,M)=>String(M)),u.range=[0,Math.abs(s.bandwidth??0)],u.paddingInner=f>1?h:0;const g=u.bandwidth>=1?u.bandwidth:u.rawBandwidth,m=i.isReversed(),y=o.isReversed(),b=y?this.radius:this.getAxisInnerRadius(),D=(y?this.getAxisInnerRadius():this.radius)+b,{angleKey:k,radiusKey:A,angleName:x,radiusName:v,label:N}=this.properties,O=(C,M,P,B)=>{const L=this.getLabelText(N,{value:M,datum:C,angleKey:k,radiusKey:A,angleName:x,radiusName:v});if(L)return{x:P,y:B,text:L,textAlign:"center",textBaseline:"middle"}},_=[],R={itemId:A,nodeData:_,labelData:_};if(!this.visible)return R;const{dataSources:I}=e,T=I.get(this.id)??[];for(const{datumIndex:C,group:M}of t.forEachGroupDatum(this,e)){const P=T[C],B=r[C];if(B==null)return;const L=c[C],w=n[C],E=l[C],G=L>=0&&!Object.is(L,-0),F=M.aggregation[p][G?1:0],V=G===m;let W=a.convert(w,!0),K=a.convert(E,!0),q=a.convert(0,!0),Y=a.convert(F,!0);V&&([q,Y]=[Y,q],[W,K]=[K,W]);const U=D-s.convert(B)+u.convert(String(d)),H=U+g,$=(U+H)/2,j=W+angleBetween3(W,K)/2,Z=Math.cos(j)*$,z=Math.sin(j)*$,oe=this.properties.label.enabled?O(P,L,Z,z):void 0,ae=new SectorBox4(W,K,U,H);_.push({series:this,datum:P,datumIndex:C,point:{x:Z,y:z,size:0},midPoint:{x:Z,y:z},label:oe,angleValue:L,radiusValue:B,innerRadius:U,outerRadius:H,startAngle:q,endAngle:Y,clipSector:ae,reversed:V,index:C})}return R}update({seriesRect:e}){const t=this.checkResize(e);this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),t&&this.animationState.transition("resize"),this.animationState.transition("update")}getItemBaseStyle(e){const{properties:t}=this,i=e?t.highlightStyle.item:void 0;return getShapeStyle17({fill:i?.fill??t.fill,fillOpacity:i?.fillOpacity??t.fillOpacity,stroke:i?.stroke??t.stroke,strokeWidth:i?.strokeWidth??this.getStrokeWidth(t.strokeWidth),strokeOpacity:i?.strokeOpacity??t.strokeOpacity,lineDash:i?.lineDash??t.lineDash,lineDashOffset:i?.lineDashOffset??t.lineDashOffset,cornerRadius:t.cornerRadius},this.defaultShapeStyle,t.fillPatternDefaults)}getItemStyleOverrides(e,t,i,o){const{id:a,properties:s}=this,{angleKey:r,radiusKey:n,itemStyler:l}=s;let c;return l!=null&&(c=this.cachedDatumCallback(createDatumId20(e,o?"highlight":"node"),()=>this.callWithContext(l,{seriesId:a,datum:t,highlighted:o,angleKey:r,radiusKey:n,...i}))),getShapeStyle17(c,this.defaultShapeStyle,this.properties.fillPatternDefaults)}updateSectorSelection(e,t){let i=[];if(t){const s=this.ctx.highlightManager?.getActiveHighlight();s?.datum&&s.series===this&&i.push(s)}else i=this.nodeData;const o=this.getItemBaseStyle(t),a=this.getShapeFillBBox();e.update(i,void 0,s=>this.getDatumId(s)).each((s,r)=>{const{datum:n,datumIndex:l}=r,c=this.getItemStyleOverrides(String(l),n,o,t),p=c?.cornerRadius??o.cornerRadius,h=c?.fill??o.fill,u=import_ag_charts_community145._ModuleSupport.isGradientFill(h)&&h.bounds!=="item"?{centerX:0,centerY:0}:void 0;applyShapeStyle11(s,o,c,a,u),s.lineJoin="round",s.inset=s.stroke!=null?s.strokeWidth/2:0,s.startInnerCornerRadius=n.reversed?p:0,s.startOuterCornerRadius=n.reversed?p:0,s.endInnerCornerRadius=n.reversed?0:p,s.endOuterCornerRadius=n.reversed?0:p,t&&(s.startAngle=r.startAngle,s.endAngle=r.endAngle,s.clipSector=r.clipSector,s.innerRadius=r.innerRadius,s.outerRadius=r.outerRadius)})}updateLabels(){const{label:e}=this.properties;this.labelSelection.update(this.nodeData).each((t,i)=>{e.enabled&&i.label?(t.x=i.label.x,t.y=i.label.y,t.fill=e.color,t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=i.label.text,t.textAlign=i.label.textAlign,t.textBaseline=i.label.textBaseline,t.visible=!0):t.visible=!1})}getBarTransitionFunctions(){const e=this.axes[ChartAxisDirection17.X]?.scale;let t=0;if(!e)return prepareRadialBarSeriesAnimationFunctions(t);const i=Math.min(e.domain[0],e.domain[1]),o=Math.max(e.domain[0],e.domain[1]);return i<=0&&o>=0&&(t=e.convert(0)),prepareRadialBarSeriesAnimationFunctions(t)}animateEmptyUpdateReady(){const{labelSelection:e}=this,t=this.getBarTransitionFunctions();motion10.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],t),seriesLabelFadeInAnimation8(this,"labels",this.ctx.animationManager,e)}animateClearingUpdateEmpty(){const{itemSelection:e}=this,{animationManager:t}=this.ctx,i=this.getBarTransitionFunctions();motion10.fromToMotion(this.id,"datums",t,[e],i),seriesLabelFadeOutAnimation2(this,"labels",t,this.labelSelection)}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,axes:a,properties:s}=this,{angleKey:r,angleName:n,radiusKey:l,radiusName:c,tooltip:p}=s,h=a[ChartAxisDirection17.X],u=a[ChartAxisDirection17.Y];if(!i||!o||!h||!u)return;const d=o.dataSources.get(this.id)?.[e],f=i.resolveKeysById(this,"radiusValue",o)[e],g=i.resolveColumnById(this,"angleValue-raw",o)[e];if(f==null)return;const m=this.getItemBaseStyle(!1);return Object.assign(m,this.getItemStyleOverrides(String(e),e,m,!1)),p.formatTooltip(this.properties,{heading:u.formatDatum(f),symbol:this.legendItemSymbol(),data:[{label:n,fallbackLabel:r,value:h.formatDatum(g)}]},{seriesId:t,datum:d,title:n,angleKey:r,angleName:n,radiusKey:l,radiusName:c,...m})}pickNodeClosestDatum(e){return this.pickNodeNearestDistantObject(e,this.itemSelection.nodes())}legendItemSymbol(){const{fill:e,stroke:t,fillOpacity:i,strokeOpacity:o,strokeWidth:a,lineDash:s,lineDashOffset:r,fillPatternDefaults:n}=this.properties,l=getShapeStyle17({fill:e??"rgba(0, 0, 0, 0)",stroke:t??"rgba(0, 0, 0, 0)",fillOpacity:i,strokeOpacity:o,strokeWidth:a,lineDash:s,lineDashOffset:r},this.defaultShapeStyle,n);return isGradientFill4(l.fill)&&(l.fill={...l.fill,gradient:"linear",rotation:0,reverse:!1}),{marker:l}}getLegendData(e){if(!this.properties.isValid()||e!=="category")return[];const{id:t,visible:i}=this,{angleKey:o,angleName:a,showInLegend:s}=this.properties;return[{legendType:"category",id:t,itemId:o,seriesId:t,enabled:i,label:{text:a??o},symbol:this.legendItemSymbol(),hideInLegend:!s}]}getDatumId(e){return createDatumId20(e.radiusValue)}computeLabelsBBox(){return null}getStackId(){return`radialBar-stack-${this.seriesGrouping?.groupIndex??this.id}-xValues`}};RadialBarSeries.className="RadialBarSeries",RadialBarSeries.type="radial-bar";var import_ag_charts_community146=require("ag-charts-community"),import_ag_charts_core49=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs20,seriesLabelOptionsDefs:seriesLabelOptionsDefs14,tooltipOptionsDefs:tooltipOptionsDefs19}=import_ag_charts_community146._ModuleSupport,radialBarSeriesOptionsDef={type:(0,import_ag_charts_core49.required)((0,import_ag_charts_core49.constant)("radial-bar")),angleKey:(0,import_ag_charts_core49.required)(import_ag_charts_core49.string),radiusKey:(0,import_ag_charts_core49.required)(import_ag_charts_core49.string),angleName:import_ag_charts_core49.string,radiusName:import_ag_charts_core49.string,grouped:import_ag_charts_core49.boolean,stacked:import_ag_charts_core49.boolean,stackGroup:import_ag_charts_core49.string,normalizedTo:import_ag_charts_core49.number,cornerRadius:import_ag_charts_core49.positiveNumber,itemStyler:import_ag_charts_core49.callback,label:seriesLabelOptionsDefs14,tooltip:tooltipOptionsDefs19,...commonSeriesOptionsDefs20,...import_ag_charts_core49.fillOptionsDef,...import_ag_charts_core49.strokeOptionsDef,...import_ag_charts_core49.lineDashOptionsDef},import_ag_charts_community147=require("ag-charts-community"),{ThemeConstants:{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE6}}=import_ag_charts_community147._ModuleSupport,RADIAL_BAR_SERIES_THEME={series:{fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"conic",bounds:"series",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community147._ModuleSupport.FILL_PATTERN_DEFAULTS,strokeWidth:0,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"}}},axes:{[POLAR_AXIS_TYPE6.RADIUS_CATEGORY]:{innerRadiusRatio:.2,groupPaddingInner:.2,paddingInner:.2,paddingOuter:.1}}},{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE7}=import_ag_charts_community148._ModuleSupport.ThemeConstants,RadialBarModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-bar",moduleFactory:e=>new RadialBarSeries(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:POLAR_AXIS_TYPE7.ANGLE_NUMBER},{type:POLAR_AXIS_TYPE7.RADIUS_CATEGORY}],themeTemplate:RADIAL_BAR_SERIES_THEME,stackable:!0,groupable:!0},RadialBarSeriesModule={type:"series",name:"radial-bar",chartType:"polar",enterprise:!0,options:radialBarSeriesOptionsDef,create:e=>new RadialBarSeries(e)},import_ag_charts_community153=require("ag-charts-community"),import_ag_charts_community150=require("ag-charts-community"),import_ag_charts_community149=require("ag-charts-community"),{TempValidate:TempValidate35,RATIO:RATIO25}=import_ag_charts_community149._ModuleSupport,RadialColumnSeriesProperties=class extends RadialColumnSeriesBaseProperties{};__decorateClass([TempValidate35(RATIO25,{optional:!0})],RadialColumnSeriesProperties.prototype,"columnWidthRatio",2),__decorateClass([TempValidate35(RATIO25,{optional:!0})],RadialColumnSeriesProperties.prototype,"maxColumnWidthRatio",2);var{ChartAxisDirection:ChartAxisDirection18,PolarAxis:PolarAxis4,RadialColumnShape,getRadialColumnWidth}=import_ag_charts_community150._ModuleSupport,RadialColumnSeries=class extends RadialColumnSeriesBase{constructor(e){super(e,{animationResetFns:{item:resetRadialColumnSelectionFn}}),this.properties=new RadialColumnSeriesProperties}getStackId(){return`radarColumn-stack-${this.seriesGrouping?.groupIndex??this.id}-yValues`}nodeFactory(){return new RadialColumnShape}getColumnTransitionFunctions(){const e=this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius();return prepareRadialColumnAnimationFunctions(e)}isRadiusAxisCircle(){const e=this.axes[ChartAxisDirection18.Y];return e instanceof PolarAxis4?e.shape==="circle":!1}updateItemPath(e,t,i){e.isBeveled=this.isRadiusAxisCircle(),e.isRadiusAxisReversed=this.isRadiusAxisReversed(),i&&(e.innerRadius=t.innerRadius,e.outerRadius=t.outerRadius,e.startAngle=t.startAngle,e.endAngle=t.endAngle,e.columnWidth=t.columnWidth,e.axisInnerRadius=t.axisInnerRadius,e.axisOuterRadius=t.axisOuterRadius)}getColumnWidth(e,t){const{columnWidthRatio:i=.5,maxColumnWidthRatio:o=.5}=this.properties;return getRadialColumnWidth(e,t,this.radius,i,o)}};RadialColumnSeries.className="RadialColumnSeries",RadialColumnSeries.type="radial-column";var import_ag_charts_community151=require("ag-charts-community"),import_ag_charts_core50=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs21,seriesLabelOptionsDefs:seriesLabelOptionsDefs15,tooltipOptionsDefs:tooltipOptionsDefs20}=import_ag_charts_community151._ModuleSupport,radialColumnSeriesOptionsDef={type:(0,import_ag_charts_core50.required)((0,import_ag_charts_core50.constant)("radial-column")),angleKey:(0,import_ag_charts_core50.required)(import_ag_charts_core50.string),radiusKey:(0,import_ag_charts_core50.required)(import_ag_charts_core50.string),angleName:import_ag_charts_core50.string,radiusName:import_ag_charts_core50.string,grouped:import_ag_charts_core50.boolean,stacked:import_ag_charts_core50.boolean,stackGroup:import_ag_charts_core50.string,normalizedTo:import_ag_charts_core50.number,cornerRadius:import_ag_charts_core50.positiveNumber,columnWidthRatio:import_ag_charts_core50.ratio,maxColumnWidthRatio:import_ag_charts_core50.ratio,itemStyler:import_ag_charts_core50.callback,label:seriesLabelOptionsDefs15,tooltip:tooltipOptionsDefs20,...commonSeriesOptionsDefs21,...import_ag_charts_core50.fillOptionsDef,...import_ag_charts_core50.strokeOptionsDef,...import_ag_charts_core50.lineDashOptionsDef},import_ag_charts_community152=require("ag-charts-community"),{ThemeConstants:{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE8,POLAR_AXIS_SHAPE:POLAR_AXIS_SHAPE2}}=import_ag_charts_community152._ModuleSupport,axisShape2={$path:["./shape",POLAR_AXIS_SHAPE2.CIRCLE,{$find:[{$not:[{$isOperation:"./shape"}]},{$path:".."}]}]},RADIAL_COLUMN_SERIES_THEME={series:{fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"series",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community152._ModuleSupport.FILL_PATTERN_DEFAULTS,columnWidthRatio:.5,maxColumnWidthRatio:.5,strokeWidth:0,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}},axes:{[POLAR_AXIS_TYPE8.ANGLE_CATEGORY]:{shape:axisShape2,groupPaddingInner:0,paddingInner:0,label:{spacing:10}},[POLAR_AXIS_TYPE8.RADIUS_NUMBER]:{shape:axisShape2,innerRadiusRatio:.5}}},{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE9}=import_ag_charts_community153._ModuleSupport.ThemeConstants,RadialColumnModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-column",moduleFactory:e=>new RadialColumnSeries(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:POLAR_AXIS_TYPE9.ANGLE_CATEGORY},{type:POLAR_AXIS_TYPE9.RADIUS_NUMBER}],themeTemplate:RADIAL_COLUMN_SERIES_THEME,stackable:!0,groupable:!0},RadialColumnSeriesModule={type:"series",name:"radial-column",chartType:"polar",enterprise:!0,options:radialColumnSeriesOptionsDef,create:e=>new RadialColumnSeries(e)},import_ag_charts_community159=require("ag-charts-community"),import_ag_charts_community157=require("ag-charts-community"),import_ag_charts_core52=require("ag-charts-core"),import_ag_charts_community154=require("ag-charts-community"),{SvgPath,Rotatable,Translatable,Scalable}=import_ag_charts_community154._ModuleSupport,RadialGaugeNeedle=class extends Rotatable(Scalable(Translatable(SvgPath))){constructor(){super(...arguments),this.scalingCenterX=.5,this.scalingCenterY=.5,this.rotationCenterX=.5,this.rotationCenterY=.5}};RadialGaugeNeedle.defaultPathData="M0.50245 0.53745C0.481767 0.53745 0.465 0.520683 0.465 0.5C0.465 0.479317 0.481767 0.46255 0.50245 0.46255L1 0.500012L0.50245 0.53745Z";var import_ag_charts_community155=require("ag-charts-community"),import_ag_charts_core51=require("ag-charts-core"),{BaseProperties:BaseProperties10,SeriesTooltip:SeriesTooltip21,SeriesProperties:SeriesProperties12,PropertiesArray:PropertiesArray3,AxisLabel:AxisLabel4,TempValidate:TempValidate36,BOOLEAN:BOOLEAN11,COLOR_STRING:COLOR_STRING23,COLOR_STRING_ARRAY:COLOR_STRING_ARRAY11,FUNCTION:FUNCTION16,LINE_DASH:LINE_DASH21,NUMBER:NUMBER13,NUMBER_ARRAY:NUMBER_ARRAY5,OBJECT_ARRAY:OBJECT_ARRAY3,OBJECT:OBJECT26,POSITIVE_NUMBER:POSITIVE_NUMBER24,RATIO:RATIO26,STRING:STRING19,UNION:UNION9,AND:AND9,LESS_THAN:LESS_THAN4,GREATER_THAN:GREATER_THAN4,Label:Label14}=import_ag_charts_community155._ModuleSupport,TARGET_PLACEMENT2=UNION9(["inside","outside","middle"],"a placement"),RadialGaugeDefaultTargetLabelProperties=class extends Label14{};__decorateClass([TempValidate36(NUMBER13,{optional:!0})],RadialGaugeDefaultTargetLabelProperties.prototype,"spacing",2);var RadialGaugeTargetProperties=class extends BaseProperties10{constructor(){super(...arguments),this.label=new RadialGaugeDefaultTargetLabelProperties}};__decorateClass([TempValidate36(STRING19,{optional:!0})],RadialGaugeTargetProperties.prototype,"text",2),__decorateClass([TempValidate36(NUMBER13,{optional:!0})],RadialGaugeTargetProperties.prototype,"value",2),__decorateClass([TempValidate36(TARGET_MARKER_SHAPE,{optional:!0})],RadialGaugeTargetProperties.prototype,"shape",2),__decorateClass([TempValidate36(TARGET_PLACEMENT2,{optional:!0})],RadialGaugeTargetProperties.prototype,"placement",2),__decorateClass([TempValidate36(NUMBER13,{optional:!0})],RadialGaugeTargetProperties.prototype,"spacing",2),__decorateClass([TempValidate36(POSITIVE_NUMBER24,{optional:!0})],RadialGaugeTargetProperties.prototype,"size",2),__decorateClass([TempValidate36(NUMBER13,{optional:!0})],RadialGaugeTargetProperties.prototype,"rotation",2),__decorateClass([TempValidate36(COLOR_STRING23,{optional:!0})],RadialGaugeTargetProperties.prototype,"fill",2),__decorateClass([TempValidate36(RATIO26,{optional:!0})],RadialGaugeTargetProperties.prototype,"fillOpacity",2),__decorateClass([TempValidate36(COLOR_STRING23,{optional:!0})],RadialGaugeTargetProperties.prototype,"stroke",2),__decorateClass([TempValidate36(POSITIVE_NUMBER24,{optional:!0})],RadialGaugeTargetProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate36(RATIO26,{optional:!0})],RadialGaugeTargetProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate36(LINE_DASH21,{optional:!0})],RadialGaugeTargetProperties.prototype,"lineDash",2),__decorateClass([TempValidate36(POSITIVE_NUMBER24,{optional:!0})],RadialGaugeTargetProperties.prototype,"lineDashOffset",2),__decorateClass([TempValidate36(OBJECT26)],RadialGaugeTargetProperties.prototype,"label",2);var RadialGaugeBarProperties=class extends BaseProperties10{constructor(){super(...arguments),this.enabled=!0,this.fills=new PropertiesArray3(import_ag_charts_community155._ModuleSupport.StopProperties),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([TempValidate36(BOOLEAN11)],RadialGaugeBarProperties.prototype,"enabled",2),__decorateClass([TempValidate36(OBJECT_ARRAY3)],RadialGaugeBarProperties.prototype,"fills",2),__decorateClass([TempValidate36(FILL_MODE)],RadialGaugeBarProperties.prototype,"fillMode",2),__decorateClass([TempValidate36(COLOR_STRING23,{optional:!0})],RadialGaugeBarProperties.prototype,"fill",2),__decorateClass([TempValidate36(RATIO26)],RadialGaugeBarProperties.prototype,"fillOpacity",2),__decorateClass([TempValidate36(COLOR_STRING23,{optional:!0})],RadialGaugeBarProperties.prototype,"stroke",2),__decorateClass([TempValidate36(POSITIVE_NUMBER24,{optional:!0})],RadialGaugeBarProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate36(RATIO26)],RadialGaugeBarProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate36(LINE_DASH21)],RadialGaugeBarProperties.prototype,"lineDash",2),__decorateClass([TempValidate36(POSITIVE_NUMBER24)],RadialGaugeBarProperties.prototype,"lineDashOffset",2);var RadialGaugeScaleIntervalProperties=class extends BaseProperties10{constructor(){super(...arguments),this.values=void 0,this.step=void 0,this.minSpacing=0,this.maxSpacing=1e3}};__decorateClass([TempValidate36(NUMBER_ARRAY5,{optional:!0})],RadialGaugeScaleIntervalProperties.prototype,"values",2),__decorateClass([TempValidate36(NUMBER13,{optional:!0})],RadialGaugeScaleIntervalProperties.prototype,"step",2),__decorateClass([TempValidate36(NUMBER13)],RadialGaugeScaleIntervalProperties.prototype,"minSpacing",2),__decorateClass([TempValidate36(NUMBER13)],RadialGaugeScaleIntervalProperties.prototype,"maxSpacing",2);var RadialGaugeScaleLabelProperties=class extends AxisLabel4{},RadialGaugeScaleProperties=class extends BaseProperties10{constructor(){super(...arguments),this.min=0,this.max=1,this.fills=new PropertiesArray3(import_ag_charts_community155._ModuleSupport.StopProperties),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.defaultFill="black",this.interval=new RadialGaugeScaleIntervalProperties,this.label=new RadialGaugeScaleLabelProperties}};__decorateClass([TempValidate36(AND9(NUMBER13,LESS_THAN4("max")))],RadialGaugeScaleProperties.prototype,"min",2),__decorateClass([TempValidate36(AND9(NUMBER13,GREATER_THAN4("min")))],RadialGaugeScaleProperties.prototype,"max",2),__decorateClass([TempValidate36(OBJECT_ARRAY3)],RadialGaugeScaleProperties.prototype,"fills",2),__decorateClass([TempValidate36(FILL_MODE)],RadialGaugeScaleProperties.prototype,"fillMode",2),__decorateClass([TempValidate36(COLOR_STRING23,{optional:!0})],RadialGaugeScaleProperties.prototype,"fill",2),__decorateClass([TempValidate36(RATIO26)],RadialGaugeScaleProperties.prototype,"fillOpacity",2),__decorateClass([TempValidate36(COLOR_STRING23)],RadialGaugeScaleProperties.prototype,"stroke",2),__decorateClass([TempValidate36(POSITIVE_NUMBER24)],RadialGaugeScaleProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate36(RATIO26)],RadialGaugeScaleProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate36(LINE_DASH21)],RadialGaugeScaleProperties.prototype,"lineDash",2),__decorateClass([TempValidate36(POSITIVE_NUMBER24)],RadialGaugeScaleProperties.prototype,"lineDashOffset",2),__decorateClass([TempValidate36(COLOR_STRING23)],RadialGaugeScaleProperties.prototype,"defaultFill",2),__decorateClass([TempValidate36(OBJECT26)],RadialGaugeScaleProperties.prototype,"interval",2),__decorateClass([TempValidate36(OBJECT26)],RadialGaugeScaleProperties.prototype,"label",2);var RadialGaugeNeedleProperties=class extends BaseProperties10{constructor(){super(...arguments),this.enabled=!0,this.spacing=0,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([TempValidate36(BOOLEAN11)],RadialGaugeNeedleProperties.prototype,"enabled",2),__decorateClass([TempValidate36(RATIO26,{optional:!0})],RadialGaugeNeedleProperties.prototype,"radiusRatio",2),__decorateClass([TempValidate36(NUMBER13)],RadialGaugeNeedleProperties.prototype,"spacing",2),__decorateClass([TempValidate36(COLOR_STRING23)],RadialGaugeNeedleProperties.prototype,"fill",2),__decorateClass([TempValidate36(RATIO26)],RadialGaugeNeedleProperties.prototype,"fillOpacity",2),__decorateClass([TempValidate36(COLOR_STRING23)],RadialGaugeNeedleProperties.prototype,"stroke",2),__decorateClass([TempValidate36(POSITIVE_NUMBER24)],RadialGaugeNeedleProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate36(RATIO26)],RadialGaugeNeedleProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate36(LINE_DASH21)],RadialGaugeNeedleProperties.prototype,"lineDash",2),__decorateClass([TempValidate36(POSITIVE_NUMBER24)],RadialGaugeNeedleProperties.prototype,"lineDashOffset",2);var RadialGaugeLabelProperties=class extends AutoSizedLabel{};__decorateClass([TempValidate36(STRING19,{optional:!0})],RadialGaugeLabelProperties.prototype,"text",2);var RadialGaugeSecondaryLabelProperties=class extends AutoSizedSecondaryLabel{};__decorateClass([TempValidate36(STRING19,{optional:!0})],RadialGaugeSecondaryLabelProperties.prototype,"text",2);var RadialGaugeSeriesProperties=class extends SeriesProperties12{constructor(){super(...arguments),this.startAngle=0,this.endAngle=0,this.segmentation=new GaugeSegmentationProperties,this.defaultColorRange=[],this.targets=new PropertiesArray3(RadialGaugeTargetProperties),this.defaultTarget=new RadialGaugeTargetProperties,this.outerRadiusRatio=1,this.innerRadiusRatio=1,this.cornerRadius=0,this.cornerMode="container",this.spacing=0,this.scale=new RadialGaugeScaleProperties,this.bar=new RadialGaugeBarProperties,this.needle=new RadialGaugeNeedleProperties,this.label=new RadialGaugeLabelProperties,this.secondaryLabel=new RadialGaugeSecondaryLabelProperties,this.tooltip=new SeriesTooltip21}isValid(e){if(!super.isValid(e))return!1;const{outerRadius:t,innerRadius:i}=this;return t==null!=(i==null)?(import_ag_charts_core51.Logger.warnOnce("Either [innerRadius] and [outerRadius] must both be set, or neither can be set."),!1):!0}};__decorateClass([TempValidate36(NUMBER13)],RadialGaugeSeriesProperties.prototype,"value",2),__decorateClass([TempValidate36(NUMBER13)],RadialGaugeSeriesProperties.prototype,"startAngle",2),__decorateClass([TempValidate36(NUMBER13)],RadialGaugeSeriesProperties.prototype,"endAngle",2),__decorateClass([TempValidate36(OBJECT26)],RadialGaugeSeriesProperties.prototype,"segmentation",2),__decorateClass([TempValidate36(COLOR_STRING_ARRAY11)],RadialGaugeSeriesProperties.prototype,"defaultColorRange",2),__decorateClass([TempValidate36(OBJECT_ARRAY3)],RadialGaugeSeriesProperties.prototype,"targets",2),__decorateClass([TempValidate36(OBJECT26)],RadialGaugeSeriesProperties.prototype,"defaultTarget",2),__decorateClass([TempValidate36(RATIO26)],RadialGaugeSeriesProperties.prototype,"outerRadiusRatio",2),__decorateClass([TempValidate36(RATIO26)],RadialGaugeSeriesProperties.prototype,"innerRadiusRatio",2),__decorateClass([TempValidate36(POSITIVE_NUMBER24,{optional:!0})],RadialGaugeSeriesProperties.prototype,"outerRadius",2),__decorateClass([TempValidate36(POSITIVE_NUMBER24,{optional:!0})],RadialGaugeSeriesProperties.prototype,"innerRadius",2),__decorateClass([TempValidate36(POSITIVE_NUMBER24)],RadialGaugeSeriesProperties.prototype,"cornerRadius",2),__decorateClass([TempValidate36(CORNER_MODE)],RadialGaugeSeriesProperties.prototype,"cornerMode",2),__decorateClass([TempValidate36(NUMBER13)],RadialGaugeSeriesProperties.prototype,"spacing",2),__decorateClass([TempValidate36(OBJECT26)],RadialGaugeSeriesProperties.prototype,"scale",2),__decorateClass([TempValidate36(OBJECT26)],RadialGaugeSeriesProperties.prototype,"bar",2),__decorateClass([TempValidate36(OBJECT26)],RadialGaugeSeriesProperties.prototype,"needle",2),__decorateClass([TempValidate36(FUNCTION16,{optional:!0})],RadialGaugeSeriesProperties.prototype,"itemStyler",2),__decorateClass([TempValidate36(OBJECT26)],RadialGaugeSeriesProperties.prototype,"label",2),__decorateClass([TempValidate36(OBJECT26)],RadialGaugeSeriesProperties.prototype,"secondaryLabel",2),__decorateClass([TempValidate36(OBJECT26)],RadialGaugeSeriesProperties.prototype,"tooltip",2);var import_ag_charts_community156=require("ag-charts-community"),{SectorBox:SectorBox5}=import_ag_charts_community156._ModuleSupport;function computeClipSector(e){const{startAngle:t,endAngle:i,clipStartAngle:o,clipEndAngle:a,innerRadius:s,outerRadius:r}=e;if(!(o==null||a==null))return new SectorBox5(Math.max(o,t),Math.min(a,i),s,r)}function clipSectorVisibility(e,t,i){return Math.max(e,i.startAngle)<=Math.min(t,i.endAngle)}function hasClipSector(e){return e.clipStartAngle!=null&&e.clipEndAngle!=null}function datumClipSector(e,t){const{clipStartAngle:i,clipEndAngle:o,innerRadius:a,outerRadius:s}=e;return new SectorBox5(i,t?i:o,a,s)}function prepareRadialGaugeSeriesAnimationFunctions(e,t){const i=e?"initial":"update";return{node:{fromFn(s,r){const n=s.previousDatum;let{startAngle:l,endAngle:c}=n??r;const p=n!=null&&hasClipSector(n)?datumClipSector(n,e):void 0,h=hasClipSector(r)?datumClipSector(r,e):void 0;let u;return p!=null&&h!=null?u=p:p==null&&h!=null?(u=h,l=r.startAngle,c=r.endAngle):p!=null&&h==null?(u=void 0,l=r.startAngle,c=r.endAngle):e&&(c=l),{startAngle:l,endAngle:c,clipSector:u,phase:i}},toFn(s,r){const{startAngle:n,endAngle:l}=r;let c;return hasClipSector(r)&&(c=datumClipSector(r,!1)),{startAngle:n,endAngle:l,clipSector:c}},applyFn(s,r){const{startAngle:n,endAngle:l}=r;let{clipSector:c}=r;c!=null&&(c=new SectorBox5(Math.max(n,c.startAngle),Math.min(l,c.endAngle),c.innerRadius,c.outerRadius));const p=c==null||clipSectorVisibility(n,l,c);s.startAngle=n,s.endAngle=l,s.clipSector=c,s.visible=p}},needle:{fromFn(s){let{angle:r}=s.previousDatum??s.datum;return e&&(r=t),{rotation:r,phase:i}},toFn(s,r){const{angle:n}=r;return{rotation:n}}}}}function resetRadialGaugeSeriesResetSectorFunction(e,t){const{startAngle:i,endAngle:o}=t,a=computeClipSector(t),s=a==null||clipSectorVisibility(i,o,a);return{startAngle:i,endAngle:o,clipSector:a,visible:s}}function resetRadialGaugeSeriesResetNeedleFunction(e,t){const{angle:i}=t;return{rotation:i}}var verticalAlignFactors3={top:0,middle:.5,bottom:1};function formatRadialGaugeLabels(e,t,i,o,a){const{padding:s,textAlign:r,verticalAlign:n}=i;let l,c;if(t.each((D,k)=>{k.label==="primary"?l=k:k.label==="secondary"&&(c=k)}),l==null)return;const p=getLabelText(e,l,a?.label);if(p==null)return;const h=c!=null?getLabelText(e,c,a?.secondaryLabel):void 0,u={padding:s},d=r==="center"?2:1,f=n==="middle"?2:1,g=D=>({width:Math.sqrt(Math.max(o**2-(D/f)**2,0))*d,height:Math.min(D,f*o),meta:null});let m,y,b;if(c!=null&&h!=null){const D=formatStackedLabels(p,l,h,c,u,g);m=D?.label,y=D?.secondaryLabel,b=D?.height??0}else{const D=formatSingleLabel(p,l,u,g);m=D?.[0],y=void 0,b=D?.[0].height??0}const S=b*verticalAlignFactors3[n];t.each((D,k)=>{let A;if(k.label==="primary"?A=m:k.label==="secondary"&&(A=y),A==null){D.visible=!1;return}D.visible=!0,D.text=A.text,D.fontSize=A.fontSize,D.lineHeight=A.lineHeight,D.textAlign=r,D.textBaseline="middle";const x=k.label==="primary"?A.height/2:b-A.height/2;D.y=k.centerY+x-S,D.x=k.centerX})}var{fromToMotion:fromToMotion5,resetMotion:resetMotion4,CachedTextMeasurerPool:CachedTextMeasurerPool9,SeriesNodePickMode:SeriesNodePickMode17,StateMachine:StateMachine4,createDatumId:createDatumId21,normalizeAngle360:normalizeAngle3607,normalizeAngle360Inclusive:normalizeAngle360Inclusive2,isBetweenAngles:isBetweenAngles2,sectorBox,toDegrees,toRadians:toRadians5,BBox:BBox15,Group:Group16,PointerEvents:PointerEvents12,Selection:Selection14,Sector:Sector6,SectorBox:SectorBox6,Text:Text7,Marker:Marker4,getColorStops:getColorStops2}=import_ag_charts_community157._ModuleSupport,targetPlacementRotation={inside:90,middle:0,outside:-90},outsideLabelPlacements=[{textAlign:"left",textBaseline:"top"},{textAlign:"right",textBaseline:"top"},{textAlign:"right",textBaseline:"bottom"},{textAlign:"left",textBaseline:"bottom"}],insideLabelPlacements=[{textAlign:"right",textBaseline:"bottom"},{textAlign:"left",textBaseline:"bottom"},{textAlign:"left",textBaseline:"top"},{textAlign:"right",textBaseline:"top"}],RadialGaugeSeries=class extends import_ag_charts_community157._ModuleSupport.Series{constructor(e){super({moduleCtx:e,useLabelLayer:!0,pickModes:[SeriesNodePickMode17.EXACT_SHAPE_MATCH,SeriesNodePickMode17.NEAREST_NODE]}),this.centerX=0,this.centerY=0,this.radius=0,this.textAlign="center",this.verticalAlign="middle",this.properties=new RadialGaugeSeriesProperties,this.scale=new LinearAngleScale,this.scaleGroup=this.contentGroup.appendChild(new Group16({name:"scaleGroup"})),this.itemGroup=this.contentGroup.appendChild(new Group16({name:"itemGroup"})),this.itemNeedleGroup=this.contentGroup.appendChild(new Group16({name:"itemNeedleGroup"})),this.itemTargetGroup=this.contentGroup.appendChild(new Group16({name:"itemTargetGroup"})),this.itemTargetLabelGroup=this.contentGroup.appendChild(new Group16({name:"itemTargetLabelGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Group16({name:"itemLabelGroup"})),this.highlightTargetGroup=this.highlightGroup.appendChild(new Group16({name:"itemTargetLabelGroup"})),this.tickGroup=this.contentGroup.appendChild(new Group16({name:"tickGroup"})),this.scaleSelection=Selection14.select(this.scaleGroup,()=>this.nodeFactory()),this.datumSelection=Selection14.select(this.itemGroup,()=>this.nodeFactory()),this.needleSelection=Selection14.select(this.itemNeedleGroup,RadialGaugeNeedle),this.targetSelection=Selection14.select(this.itemTargetGroup,()=>this.markerFactory()),this.targetLabelSelection=Selection14.select(this.itemTargetLabelGroup,Text7),this.labelSelection=Selection14.select(this.itemLabelGroup,Text7),this.highlightTargetSelection=Selection14.select(this.highlightTargetGroup,()=>this.markerFactory()),this.tickSelection=Selection14.select(this.tickGroup,import_ag_charts_community157._ModuleSupport.TransformableText),this.datumUnion=new DatumUnion,this.animationState=new StateMachine4("empty",{empty:{update:{target:"ready",action:()=>this.animateEmptyUpdateReady()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.animateReadyResize(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateWaitingUpdateReady()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty"},reset:"empty",skip:"ready"}}),this.scaleGroup.pointerEvents=PointerEvents12.None,this.tickGroup.pointerEvents=PointerEvents12.None,this.itemNeedleGroup.pointerEvents=PointerEvents12.None,this.itemLabelGroup.pointerEvents=PointerEvents12.None}get hasData(){return this.properties.value!=null}nodeFactory(){return new Sector6}markerFactory(){const e=new Marker4;return e.size=1,e}processData(){this.nodeDataRefresh=!0,this.animationState.transition("updateData")}formatLabel(e){const{min:t,max:i}=this.properties.scale;return formatLabel(e,{min:t,max:i})}layoutScale(){const{scale:e,properties:t}=this,{seriesRectWidth:i,seriesRectHeight:o}=this.nodeDataDependencies,{scale:a,outerRadius:s}=this.properties,{min:r,max:n,label:l,interval:c}=a,p=toRadians5(t.startAngle-90),h=toRadians5(t.endAngle-90),d=normalizeAngle360Inclusive2(h-p)>Math.PI,f=d||isBetweenAngles2(1.5*Math.PI,p,h),g=d||isBetweenAngles2(0*Math.PI,p,h),m=d||isBetweenAngles2(.5*Math.PI,p,h),y=d||isBetweenAngles2(1*Math.PI,p,h);let b;y&&!g?b="right":!y&&g?b="left":b="center";let S;f&&!m?S="bottom":!f&&m?S="top":S="middle";const D=sectorBox({startAngle:p,endAngle:h,innerRadius:0,outerRadius:.5}),k=-(D.x+D.width/2)*2,A=-(D.y+D.height/2)*2,x=Math.min(i/D.width,o/D.height);e.domain=[r,n],e.range=[p,h],e.arcLength=x/2;const{maxSpacing:v,minSpacing:N}=c,{arcLength:O}=e,_=v?Math.floor(O/v):1,R=N?Math.floor(O/N):1/0,I=Math.floor(4/Math.PI*Math.abs(e.range[0]-e.range[1])),T=Math.max(_,Math.min(R,I)),C=c.values??e.ticks({nice:!1,interval:c.step,minTickCount:_,maxTickCount:R,tickCount:T}),M=C.reduce((W,K)=>Math.max(W,typeof K=="number"?(0,import_ag_charts_core52.countFractionDigits)(K):0),0),P=e.tickFormatter({domain:e.domain,ticks:C,fractionDigits:M,specifier:l.format}),B=l.getFont(),L=C.map((W,K)=>{const q=l.formatter?.({value:W,index:K,domain:e.domain,boundSeries:void 0})??P(W),{width:Y,height:X}=CachedTextMeasurerPool9.measureText(q,{font:B});return{index:K,value:W,text:q,width:Y,height:X}}),w=L.reduce((W,K)=>Math.max(W,K.width),0),E=L.reduce((W,K)=>Math.max(W,K.height),0),G=l.enabled?Math.max(w,E)+l.spacing:0,F=Math.max(.5*x-G,0),V=s??F;return this.centerX=i/2+k*V,this.centerY=o/2+A*V,this.radius=V,this.textAlign=b,this.verticalAlign=S,L}createConicGradient(e,t){const{scale:i}=this,{domain:o,range:a}=i,[s,r]=a,{defaultColorRange:n}=this.properties,l=normalizeAngle3607((s+r)/2+Math.PI),c=normalizeAngle360Inclusive2(r-s);return{type:"gradient",gradient:"conic",colorSpace:"oklch",colorStops:getColorStops2(e,n,o,t).map(({color:h,stop:u})=>(u=Math.min(Math.max(u,0),1),u=(s+c*u-l)/(2*Math.PI),u=(u%1+1)%1,{stop:u,color:h})),rotation:toDegrees(l)+90}}getShapeFillBBox(){const{centerX:e,centerY:t,radius:i}=this;return new BBox15(e-i,t-i,2*i,2*i)}getTargets(){const{properties:e}=this,t=e.defaultTarget;return Array.from(e.targets).map(i=>{const{text:o=t.text,value:a=t.value??0,shape:s=t.shape??"triangle",rotation:r=t.rotation??0,strokeWidth:n=t.strokeWidth??0,placement:l=t.placement??"middle",spacing:c=t.spacing??0,size:p=t.size??0,fill:h=t.fill??"black",fillOpacity:u=t.fillOpacity??1,stroke:d=t.stroke??"black",strokeOpacity:f=t.strokeOpacity??1,lineDash:g=t.lineDash??[0],lineDashOffset:m=t.lineDashOffset??0}=i,{enabled:y=t.label.enabled,color:b=t.label.color??"black",fontStyle:S=t.label.fontStyle??"normal",fontWeight:D=t.label.fontWeight??"normal",fontSize:k=t.label.fontSize,fontFamily:A=t.label.fontFamily,spacing:x=t.label.spacing??0}=i.label;return{text:o,value:a,shape:s,placement:l,spacing:c,size:p,rotation:r,fill:h,fillOpacity:u,stroke:d,strokeWidth:n,strokeOpacity:f,lineDash:g,lineDashOffset:m,label:{enabled:y,color:b,fontStyle:S,fontWeight:D,fontSize:k,fontFamily:A,spacing:x}}})}getTargetRadius(e){const{radius:t,properties:i}=this,{innerRadiusRatio:o,outerRadiusRatio:a}=i,{placement:s,spacing:r,size:n}=e,l=t*a,c=t*o;switch(s){case"inside":return Math.max(c-r-n/2,0);case"outside":return l+r+n/2;default:return(c+l)/2}}getTargetLabel(e){const{scale:t}=this,{value:i,size:o,placement:a,label:s}=e,{spacing:r,color:n,fontStyle:l,fontWeight:c,fontSize:p,fontFamily:h}=s,u=void 0,d=t.convert(i),f=normalizeAngle3607(d)/(Math.PI/2)|0,g=o/2+r;let m,y,b,S;switch(a){case"outside":({textAlign:m,textBaseline:y}=outsideLabelPlacements[f]),b=g*Math.cos(d),S=g*Math.sin(d);break;case"inside":({textAlign:m,textBaseline:y}=insideLabelPlacements[f]),b=-g*Math.cos(d),S=-g*Math.sin(d);break;default:m="center",y="bottom",b=0,S=-g;break}return{offsetX:b,offsetY:S,fill:n,textAlign:m,textBaseline:y,fontStyle:l,fontWeight:c,fontSize:p,fontFamily:h,lineHeight:u}}createNodeData(){if(!this.properties.isValid())return;const e=this.layoutScale(),{id:t,scale:i,properties:o,radius:a,centerX:s,centerY:r}=this,{value:n,innerRadiusRatio:l,outerRadiusRatio:c,segmentation:p,cornerRadius:h,cornerMode:u,needle:d,bar:f,scale:g,label:m,secondaryLabel:y}=o,{outerRadius:b=a*c,innerRadius:S=a*l}=o,D=this.getTargets(),k=[],A=[],x=[],v=[],N=[],O=u==="item",_=i.convert(i.domain[0]),R=i.convert(n),I=Math.ceil(normalizeAngle360Inclusive2(R-_)*a);let T=p.enabled?p.interval.getSegments(i,I):void 0;const C=f.enabled?f.fill??this.createConicGradient(f.fills,f.fillMode):"rgba(0,0,0,0)",M=g.fill??(f.enabled&&g.fills.length===0?g.defaultFill:void 0)??this.createConicGradient(g.fills,g.fillMode);if(T==null&&O){const P=Math.min(...i.domain),B=Math.max(...i.domain),L={value:n,segmentStart:P,segmentEnd:B},E=Math.min(h,(b-S)/2)/((S+b)/2);k.push({series:this,itemId:"value",datum:L,datumIndex:{type:0},type:0,centerX:s,centerY:r,outerRadius:b,innerRadius:S,startAngle:_-E,endAngle:R+E,clipStartAngle:void 0,clipEndAngle:void 0,startCornerRadius:h,endCornerRadius:h,fill:C}),N.push({series:this,itemId:"scale",datum:L,datumIndex:{type:0},type:0,centerX:s,centerY:r,outerRadius:b,innerRadius:S,startAngle:i.range[0]-E,endAngle:i.range[1]+E,clipStartAngle:void 0,clipEndAngle:void 0,startCornerRadius:h,endCornerRadius:h,fill:M})}else{T??(T=i.domain);for(let P=0;P<T.length-1;P++){const B=T[P],L=T[P+1],w={value:n,segmentStart:B,segmentEnd:L},E=P===0,G=P===T.length-2,F=i.convert(B),V=i.convert(L);k.push({series:this,itemId:`value-${P}`,datum:w,datumIndex:{type:0},type:0,centerX:s,centerY:r,outerRadius:b,innerRadius:S,startAngle:F,endAngle:V,clipStartAngle:_,clipEndAngle:R,startCornerRadius:O||E?h:0,endCornerRadius:O||G?h:0,fill:C}),N.push({series:this,itemId:`scale-${P}`,datum:w,datumIndex:{type:0},type:0,centerX:s,centerY:r,outerRadius:b,innerRadius:S,startAngle:F,endAngle:V,clipStartAngle:void 0,clipEndAngle:void 0,startCornerRadius:O||E?h:0,endCornerRadius:O||G?h:0,fill:M})}}if(!d.enabled&&m.enabled){const{text:P,color:B,fontSize:L,minimumFontSize:w,fontStyle:E,fontWeight:G,fontFamily:F,lineHeight:V,formatter:W=K=>this.formatLabel(K.value)}=m;v.push({label:"primary",centerX:s,centerY:r,text:P,value:n,fill:B,fontSize:L,minimumFontSize:w,fontStyle:E,fontWeight:G,fontFamily:F,lineHeight:V,formatter:W})}if(!d.enabled&&y.enabled){const{text:P,color:B,fontSize:L,minimumFontSize:w,fontStyle:E,fontWeight:G,fontFamily:F,lineHeight:V,formatter:W}=y;v.push({label:"secondary",centerX:s,centerY:r,text:P,value:n,fill:B,fontSize:L,minimumFontSize:w,fontStyle:E,fontWeight:G,fontFamily:F,lineHeight:V,formatter:W})}if(d.enabled){let P=d.radiusRatio!=null?a*d.radiusRatio:S;P=Math.max(P-d.spacing,0);const B=i.convert(n);x.push({centerX:s,centerY:r,radius:P,angle:B,series:this})}for(let P=0;P<D.length;P+=1){const B=D[P],{value:L,text:w,size:E,shape:G,fill:F,fillOpacity:V,stroke:W,strokeWidth:K,strokeOpacity:q,lineDash:Y,lineDashOffset:X}=B;if(L<Math.min(...i.domain)||L>Math.max(...i.domain))continue;const U=this.getTargetRadius(B),H=i.convert(L),$=toRadians5(B.rotation+targetPlacementRotation[B.placement]);A.push({series:this,itemId:`target-${P}`,midPoint:{x:U*Math.cos(H)+s,y:U*Math.sin(H)+r},datum:{value:L},datumIndex:{type:1,index:P},type:1,value:L,text:w,centerX:s,centerY:r,shape:G,radius:U,angle:H,rotation:$,size:E,fill:F,fillOpacity:V,stroke:W,strokeOpacity:q,strokeWidth:K,lineDash:Y,lineDashOffset:X,label:this.getTargetLabel(B)})}return{itemId:t,nodeData:k,needleData:x,targetData:A,labelData:v,scaleData:N,tickData:e}}updateSelections(e){(this.nodeDataRefresh||e)&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}highlightDatum(e){if(e!=null&&e.series===this&&e.type===1)return e}update({seriesRect:e}){const{datumSelection:t,labelSelection:i,needleSelection:o,targetSelection:a,targetLabelSelection:s,scaleSelection:r,highlightTargetSelection:n,tickSelection:l}=this,c=this.checkResize(e);this.updateSelections(c),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();const p=this.contextNodeData?.nodeData??[],h=this.contextNodeData?.labelData??[],u=this.contextNodeData?.needleData??[],d=this.contextNodeData?.targetData??[],f=this.contextNodeData?.scaleData??[],g=this.contextNodeData?.tickData??[],m=this.highlightDatum(this.ctx.highlightManager.getActiveHighlight());this.scaleSelection=this.updateScaleSelection({scaleData:f,scaleSelection:r}),this.updateScaleNodes({scaleSelection:r}),this.needleSelection=this.updateNeedleSelection({needleData:u,needleSelection:o}),this.updateNeedleNodes({needleSelection:o}),this.targetSelection=this.updateTargetSelection({targetData:d,targetSelection:a}),this.updateTargetNodes({targetSelection:a,isHighlight:!1}),this.targetLabelSelection=this.updateTargetLabelSelection({targetData:d,targetLabelSelection:s}),this.updateTargetLabelNodes({targetLabelSelection:s}),this.datumSelection=this.updateDatumSelection({nodeData:p,datumSelection:t}),this.updateDatumNodes({datumSelection:t}),this.labelSelection=this.updateLabelSelection({labelData:h,labelSelection:i}),this.updateLabelNodes({labelSelection:i}),this.highlightTargetSelection=this.updateTargetSelection({targetData:m!=null?[m]:[],targetSelection:n}),this.updateTargetNodes({targetSelection:n,isHighlight:!0}),this.tickSelection=this.updateTickSelection({tickData:g,tickSelection:l}),this.updateTickNodes({tickSelection:l}),c&&this.animationState.transition("resize"),this.animationState.transition("update")}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId21(e.nodeData.length,t.itemId))}updateDatumNodes(e){const{datumSelection:t}=e,{ctx:i,properties:o}=this,{bar:a,segmentation:s}=o,r=s.spacing??0,{fillOpacity:n,stroke:l,strokeOpacity:c,lineDash:p,lineDashOffset:h}=a,u=this.getStrokeWidth(a.strokeWidth),d=i.animationManager.isSkipped(),f=this.getShapeFillBBox();t.each((g,m)=>{const{centerX:y,centerY:b,innerRadius:S,outerRadius:D,startCornerRadius:k,endCornerRadius:A,fill:x}=m;g.centerX=y,g.centerY=b,g.innerRadius=S,g.outerRadius=D,g.pointerEvents=this.properties.bar.enabled?import_ag_charts_community157._ModuleSupport.PointerEvents.All:import_ag_charts_community157._ModuleSupport.PointerEvents.None,g.fill=x,g.fillBBox=f,g.fillOpacity=n,g.stroke=l,g.strokeOpacity=c,g.strokeWidth=u,g.lineDash=p,g.lineDashOffset=h,g.startOuterCornerRadius=k,g.startInnerCornerRadius=k,g.endOuterCornerRadius=A,g.endInnerCornerRadius=A,g.radialEdgeInset=(r+g.strokeWidth)/2,g.concentricEdgeInset=g.strokeWidth/2,(d||g.previousDatum==null)&&g.setProperties(resetRadialGaugeSeriesResetSectorFunction(g,m))}),this.datumUnion.update(t,this.itemGroup,import_ag_charts_community157._ModuleSupport.Sector,(g,m,y)=>{g.clipSector??(g.clipSector=new SectorBox6(NaN,NaN,NaN,NaN)),g.centerX=m.centerX,g.centerY=m.centerY,g.outerRadius=g.clipSector.outerRadius=m.outerRadius,g.innerRadius=g.clipSector.innerRadius=m.innerRadius,g.startAngle=g.clipSector.startAngle=m.startAngle,g.startInnerCornerRadius=m.startInnerCornerRadius,g.startOuterCornerRadius=m.startOuterCornerRadius,g.endAngle=y.endAngle,g.clipSector.endAngle=y.clipSector?.endAngle??y.endAngle,g.endInnerCornerRadius=y.endInnerCornerRadius,g.endOuterCornerRadius=y.endOuterCornerRadius,g.pointerEvents=import_ag_charts_community157._ModuleSupport.PointerEvents.None})}updateScaleSelection(e){return e.scaleSelection.update(e.scaleData,void 0,t=>createDatumId21(e.scaleData.length,t.itemId))}updateScaleNodes(e){const{scaleSelection:t}=e,{scale:i,segmentation:o}=this.properties,a=o.spacing??0,{fillOpacity:s,stroke:r,strokeOpacity:n,strokeWidth:l,lineDash:c,lineDashOffset:p}=i,h=this.getShapeFillBBox();t.each((u,d)=>{const{centerX:f,centerY:g,innerRadius:m,outerRadius:y,startCornerRadius:b,endCornerRadius:S,fill:D}=d;u.centerX=f,u.centerY=g,u.innerRadius=m,u.outerRadius=y,u.fill=D,u.fillBBox=h,u.fillOpacity=s,u.stroke=r,u.strokeOpacity=n,u.strokeWidth=l,u.lineDash=c,u.lineDashOffset=p,u.startOuterCornerRadius=b,u.startInnerCornerRadius=b,u.endOuterCornerRadius=S,u.endInnerCornerRadius=S,u.radialEdgeInset=(a+u.strokeWidth)/2,u.concentricEdgeInset=u.strokeWidth/2,u.setProperties(resetRadialGaugeSeriesResetSectorFunction(u,d))})}updateNeedleSelection(e){return e.needleSelection.update(e.needleData,void 0,()=>createDatumId21([]))}updateNeedleNodes(e){const{needleSelection:t}=e,{fill:i,fillOpacity:o,stroke:a,strokeOpacity:s,strokeWidth:r,lineDash:n,lineDashOffset:l}=this.properties.needle,c=this.ctx.animationManager.isSkipped();t.each((p,h)=>{const{centerX:u,centerY:d,radius:f}=h,g=f*2;p.d=RadialGaugeNeedle.defaultPathData,p.fill=i,p.fillOpacity=o,p.stroke=a,p.strokeOpacity=s,p.strokeWidth=r/g,p.lineDash=n.map(m=>m/g),p.lineDashOffset=l/g,p.translationX=u,p.translationY=d,p.scalingX=g,p.scalingY=g,c&&p.setProperties(resetRadialGaugeSeriesResetNeedleFunction(p,h))})}updateTargetSelection(e){return e.targetSelection.update(e.targetData,void 0,t=>t.itemId)}updateTargetNodes(e){const{targetSelection:t,isHighlight:i}=e,o=i?this.properties.highlightStyle.item:void 0;t.each((a,s)=>{const{centerX:r,centerY:n,angle:l,radius:c,shape:p,size:h,rotation:u,fill:d,fillOpacity:f,stroke:g,strokeOpacity:m,strokeWidth:y,lineDash:b,lineDashOffset:S}=s;a.shape=p==="line"?lineMarker:p,a.size=h,a.fill=o?.fill??d,a.fillOpacity=o?.fillOpacity??f,a.stroke=o?.stroke??g,a.strokeOpacity=o?.strokeOpacity??m,a.strokeWidth=o?.strokeWidth??y,a.lineDash=o?.lineDash??b,a.lineDashOffset=o?.lineDashOffset??S,a.translationX=r+c*Math.cos(l),a.translationY=n+c*Math.sin(l),a.rotation=l+u})}updateTargetLabelSelection(e){return e.targetLabelSelection.update(e.targetData,void 0,t=>t.itemId)}updateTargetLabelNodes(e){const{targetLabelSelection:t}=e;t.each((i,o)=>{const{centerX:a,centerY:s,radius:r,angle:n,text:l}=o,{offsetX:c,offsetY:p,fill:h,fontStyle:u,fontWeight:d,fontSize:f,fontFamily:g,textAlign:m,textBaseline:y}=o.label;if(l==null){i.visible=!1;return}i.visible=!0,i.x=a+r*Math.cos(n)+c,i.y=s+r*Math.sin(n)+p,i.text=l,i.fill=h,i.fontStyle=u,i.fontWeight=d,i.fontSize=f,i.fontFamily=g,i.textAlign=m,i.textBaseline=y})}updateLabelSelection(e){return e.labelSelection.update(e.labelData,void 0,t=>t.label)}updateLabelNodes(e){const{labelSelection:t}=e,i=this.ctx.animationManager.isSkipped();t.each((o,a)=>{o.fill=a.fill,o.fontStyle=a.fontStyle,o.fontWeight=a.fontWeight,o.fontFamily=a.fontFamily}),(i||this.labelsHaveExplicitText())&&this.formatLabelText()}updateTickSelection(e){return e.tickSelection.update(e.tickData,void 0,t=>t.index)}updateTickNodes(e){const{scale:t,radius:i,centerX:o,centerY:a,properties:s}=this,{enabled:r,color:n,fontFamily:l,fontSize:c,fontStyle:p,fontWeight:h,spacing:u}=s.scale.label,d=toRadians5(s.scale.label.rotation??0);e.tickSelection.each((f,g)=>{if(!r){f.visible=!1;return}f.visible=!0,f.text=g.text,f.fill=n,f.fontFamily=l,f.fontSize=c,f.fontStyle=p,f.fontWeight=h,f.textAlign="center",f.textBaseline="middle";const m=t.convert(g.value),{width:y,height:b}=g,S=Math.abs(i*Math.cos(m)),D=Math.abs(i*Math.sin(m)),k=Math.min(Math.max(Math.abs(i/Math.tan(m)),S-y/2),S+y/2),A=Math.min(Math.max(Math.abs(i*Math.tan(m)),D-b/2),D+b/2),x=Math.hypot(k,A),v=o+(x+u)*Math.cos(m),N=a+(x+u)*Math.sin(m);f.x=v,f.y=N,f.rotationCenterX=v,f.rotationCenterY=N,f.rotation=d})}labelsHaveExplicitText(){for(const{datum:e}of this.labelSelection)if(e.text==null)return!1;return!0}formatLabelText(e){const{labelSelection:t,radius:i,textAlign:o,verticalAlign:a}=this,{spacing:s,innerRadiusRatio:r}=this.properties;formatRadialGaugeLabels(this,t,{padding:s,textAlign:o,verticalAlign:a},i*r,e)}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),resetMotion4([this.datumSelection],resetRadialGaugeSeriesResetSectorFunction),resetMotion4([this.needleSelection],resetRadialGaugeSeriesResetNeedleFunction),this.formatLabelText()}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}animateLabelText(e={}){const{animationManager:t}=this.ctx;let i,o,a,s;if(this.labelSelection.each((r,n)=>{r.opacity=1,n.label==="primary"?(i=r.previousDatum?.value??e.from??n.value,o=n.value):n.label==="secondary"&&(a=r.previousDatum?.value??e.from??n.value,s=n.value)}),!this.labelsHaveExplicitText())if(o==null||s==null)this.formatLabelText();else if(i===o&&a===s)this.formatLabelText({label:o,secondaryLabel:s});else{const r=`${this.id}_labels`;t.animate({id:r,groupId:"label",from:{label:i,secondaryLabel:a},to:{label:o,secondaryLabel:s},phase:e.phase??"update",onUpdate:n=>this.formatLabelText(n)})}}animateEmptyUpdateReady(){const{animationManager:e}=this.ctx,{node:t,needle:i}=prepareRadialGaugeSeriesAnimationFunctions(!0,this.scale.range[0]);fromToMotion5(this.id,"node",e,[this.datumSelection],t,(o,a)=>a.itemId),fromToMotion5(this.id,"needle",e,[this.needleSelection],i,()=>"needle"),fromToMotion5(this.id,"label",e,[this.labelSelection],fadeInFns,(o,a)=>a.label),this.animateLabelText({from:this.properties.scale.min,phase:"initial"})}animateWaitingUpdateReady(){const{animationManager:e}=this.ctx,{node:t,needle:i}=prepareRadialGaugeSeriesAnimationFunctions(!1,this.scale.range[0]);fromToMotion5(this.id,"node",e,[this.datumSelection],t,(o,a)=>a.itemId),fromToMotion5(this.id,"needle",e,[this.needleSelection],i,()=>"needle"),this.animateLabelText()}animateReadyResize(){this.resetAllAnimation()}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(e,t){return[NaN,NaN]}getLegendData(){return[]}getTooltipContent(e){const{id:t,properties:i}=this,{tooltip:o}=i;if(!i.isValid())return;let a,s;if(e.type===0?(a=i.value,s=i.label.text):{value:a,text:s}=i.targets[e.index],a!=null)return o.formatTooltip(this.properties,{data:[{label:s,fallbackLabel:"Value",value:this.formatLabel(a)}]},{seriesId:t,title:void 0,datum:void 0,value:a})}pickNodeClosestDatum(e){return pickGaugeNearestDatum(this,e)}pickFocus(e){return pickGaugeFocus(this,e)}getCaptionText(){const{value:e}=this.properties,t=[];return t.push(this.formatLabel(e)),this.labelSelection.each((i,o)=>{const a=getLabelText(this,o);a!=null&&t.push(a)}),t.join(". ")}getCategoryValue(e){}datumIndexForCategoryValue(e){}};RadialGaugeSeries.className="RadialGaugeSeries",RadialGaugeSeries.type="radial-gauge";var import_ag_charts_community158=require("ag-charts-community"),import_ag_charts_core53=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs22,autoSizedLabelOptionsDefs:autoSizedLabelOptionsDefs4,seriesLabelOptionsDefs:seriesLabelOptionsDefs16,tooltipOptionsDefs:tooltipOptionsDefs21,numberFormatValidator:numberFormatValidator4}=import_ag_charts_community158._ModuleSupport,radialGaugeTargetOptionsDef={value:(0,import_ag_charts_core53.required)(import_ag_charts_core53.number),text:import_ag_charts_core53.string,shape:(0,import_ag_charts_core53.or)((0,import_ag_charts_core53.union)("circle","cross","diamond","heart","plus","pin","square","star","triangle","line"),import_ag_charts_core53.callback),placement:(0,import_ag_charts_core53.union)("inside","outside","middle"),spacing:import_ag_charts_core53.positiveNumber,size:import_ag_charts_core53.positiveNumber,rotation:import_ag_charts_core53.number,label:{...seriesLabelOptionsDefs16,spacing:import_ag_charts_core53.positiveNumber},...import_ag_charts_core53.fillOptionsDef,...import_ag_charts_core53.strokeOptionsDef,...import_ag_charts_core53.lineDashOptionsDef},radialGaugeSeriesOptionsDef={type:(0,import_ag_charts_core53.required)((0,import_ag_charts_core53.constant)("radial-gauge")),value:(0,import_ag_charts_core53.required)(import_ag_charts_core53.number),outerRadius:import_ag_charts_core53.positiveNumber,innerRadius:import_ag_charts_core53.positiveNumber,outerRadiusRatio:import_ag_charts_core53.ratio,innerRadiusRatio:import_ag_charts_core53.ratio,startAngle:import_ag_charts_core53.number,endAngle:import_ag_charts_core53.number,spacing:import_ag_charts_core53.positiveNumber,cornerMode:(0,import_ag_charts_core53.union)("container","item"),cornerRadius:import_ag_charts_core53.positiveNumber,scale:{min:(0,import_ag_charts_core53.and)(import_ag_charts_core53.number,(0,import_ag_charts_core53.lessThan)("max")),max:(0,import_ag_charts_core53.and)(import_ag_charts_core53.number,(0,import_ag_charts_core53.greaterThan)("min")),label:{enabled:import_ag_charts_core53.boolean,formatter:import_ag_charts_core53.callback,rotation:import_ag_charts_core53.number,spacing:import_ag_charts_core53.positiveNumber,minSpacing:import_ag_charts_core53.positiveNumber,avoidCollisions:import_ag_charts_core53.boolean,format:numberFormatValidator4,...import_ag_charts_core53.fontOptionsDef},interval:{values:(0,import_ag_charts_core53.arrayOf)(import_ag_charts_core53.number),step:import_ag_charts_core53.number},...fillsOptionsDef,...import_ag_charts_core53.fillOptionsDef,...import_ag_charts_core53.strokeOptionsDef,...import_ag_charts_core53.lineDashOptionsDef},targets:(0,import_ag_charts_core53.arrayOfDefs)(radialGaugeTargetOptionsDef,"target options array"),segmentation:{enabled:import_ag_charts_core53.boolean,spacing:import_ag_charts_core53.positiveNumber,interval:{values:(0,import_ag_charts_core53.arrayOf)(import_ag_charts_core53.number),step:import_ag_charts_core53.number,count:import_ag_charts_core53.number}},bar:{enabled:import_ag_charts_core53.boolean,...fillsOptionsDef,...import_ag_charts_core53.fillOptionsDef,...import_ag_charts_core53.strokeOptionsDef,...import_ag_charts_core53.lineDashOptionsDef},needle:{enabled:import_ag_charts_core53.boolean,spacing:import_ag_charts_core53.positiveNumber,radiusRatio:import_ag_charts_core53.ratio,...import_ag_charts_core53.fillOptionsDef,...import_ag_charts_core53.strokeOptionsDef,...import_ag_charts_core53.lineDashOptionsDef},label:{text:import_ag_charts_core53.string,spacing:import_ag_charts_core53.positiveNumber,...autoSizedLabelOptionsDefs4},secondaryLabel:{text:import_ag_charts_core53.string,...autoSizedLabelOptionsDefs4},tooltip:tooltipOptionsDefs21,...commonSeriesOptionsDefs22};radialGaugeSeriesOptionsDef.defaultColorRange=(0,import_ag_charts_core53.arrayOf)(import_ag_charts_core53.color),radialGaugeSeriesOptionsDef.defaultTarget={...radialGaugeTargetOptionsDef,value:import_ag_charts_core53.number,label:{...seriesLabelOptionsDefs16,spacing:import_ag_charts_core53.number}},radialGaugeSeriesOptionsDef.scale.defaultFill=import_ag_charts_core53.color;var{FONT_SIZE_RATIO}=import_ag_charts_community159._ModuleSupport,RadialGaugeModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["gauge"],identifier:"radial-gauge",moduleFactory:e=>new RadialGaugeSeries(e),tooltipDefaults:{range:10},themeTemplate:{minWidth:200,minHeight:200,tooltip:{enabled:!1},series:{outerRadiusRatio:1,innerRadiusRatio:.8,startAngle:270,endAngle:450,defaultColorRange:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$interpolate:[{$palette:"secondDivergingColors"},5]},import_ag_charts_community159._ModuleSupport.SAFE_RANGE2_OPERATION]},scale:{defaultFill:{$path:["./1",{$palette:"fill"},{$palette:"hierarchyColors"}]},stroke:{$path:["./2",import_ag_charts_community159._ModuleSupport.SAFE_STROKE_FILL_OPERATION,{$palette:"hierarchyColors"}]},label:{fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},spacing:12}},bar:{strokeWidth:0},segmentation:{enabled:!1,interval:{},spacing:2},defaultTarget:{fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},size:10,shape:"triangle",placement:"outside",spacing:5,label:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},spacing:5}},needle:{enabled:!1,fill:{$ref:"foregroundColor"},spacing:10},label:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:56,minimumFontSize:18/56,fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}},secondaryLabel:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[FONT_SIZE_RATIO.LARGE]},minimumFontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"}}}}},RadialGaugeSeriesModule={type:"series",name:"radial-gauge",chartType:"gauge",enterprise:!0,options:radialGaugeSeriesOptionsDef,create:e=>new RadialGaugeSeries(e)},import_ag_charts_community164=require("ag-charts-community"),import_ag_charts_community162=require("ag-charts-community"),import_ag_charts_core54=require("ag-charts-core");function sortNodesByY(e){e.nodes.sort((t,i)=>Math.round((t.datum.y-i.datum.y)*100)/100||-(t.datum.size-i.datum.size))}function justifyNodesAcrossColumn({nodes:e,size:t},{seriesRectHeight:i,nodeSpacing:o,sizeScale:a}){const s=i*t*a;let r=(i-(s+o*(e.length-1)))/2;e.forEach(({datum:n})=>{const l=i*n.size*a;n.y=r,n.height=l,r+=l+o})}function separateNodesInColumn(e,t){const{nodes:i}=e,{seriesRectHeight:o,nodeSpacing:a}=t;sortNodesByY(e);let s=0,r=0;for(const{datum:c}of i){const p=Math.max(r-c.y,0);c.y+=p,s+=p,r=c.y+c.height+a}if(r-a<o)return s>0;let l=o;for(let c=i.length-1;c>=0;c-=1){const{datum:p}=i[c],h=p.y+p.height,u=Math.min(l-h,0);p.y+=u,s+=u,l=p.y-a}return!0}function hasCrossOver(e,t,i,o,a,s,r,n){const l=(i-e)/(o-t),c=(r-a)/(n-s),p=((s-t)*(l*c)+e*c-a*l)/(c-l);return e<i?p>e&&p<Math.min(i,r):p<e&&p>Math.max(i,r)}function removeColumnCrossoversInDirection(e,t){let i=!1;const o=e.nodes.filter(s=>t(s).length===1);let a=!0;for(let s=0;a&&s<o.length;s+=1){a=!1;for(let r=0;r<o.length-1;r+=1){const{datum:n}=o[r],l=t(o[r])[0].node.datum,{datum:c}=o[r+1],p=t(o[r+1])[0].node.datum;if(!(hasCrossOver(n.x,n.y,l.x,l.y,c.x,c.y,p.x,p.y)||hasCrossOver(n.x,n.y+n.height/2,l.x,l.y+l.height/2,c.x,c.y+c.height/2,p.x,p.y+p.height/2)||hasCrossOver(n.x,n.y+n.height,l.x,l.y+l.height,c.x,c.y+c.height,p.x,p.y+p.height)))continue;const u=o[r];o[r]=o[r+1],o[r+1]=u;const d=n.y;n.y=c.y+c.height-n.height,c.y=d,i=!0,a=!0}}return i}function removeColumnCrossovers(e){let t=!1;return sortNodesByY(e),t=removeColumnCrossoversInDirection(e,i=>i.linksBefore)||t,t=removeColumnCrossoversInDirection(e,i=>i.linksAfter)||t,t}function weightedNodeY(e){if(e.length===0)return;let t=0,i=0;for(const{node:{datum:o}}of e)t+=o.y*o.size,i+=o.size;return t/i}function layoutColumn(e,t,i,o){return e.nodes.forEach(({datum:a,linksBefore:s,linksAfter:r})=>{const n=o===1?s:r,l=o===1?r:s,c=weightedNodeY(n);if(c!=null){const p=l.length!==0?i:1;a.y=a.y+(c-a.y)*p}}),separateNodesInColumn(e,t)}function layoutColumnsForward(e,t,i){let o=!1;for(const a of e)o=layoutColumn(a,t,i,1)||o;return o}function layoutColumnsBackwards(e,t,i){let o=!1;for(let a=e.length-1;a>=0;a-=1)o=layoutColumn(e[a],t,i,-1)||o;return o}function removeColumnsCrossovers(e){let t=!1;for(let i=e.length-1;i>=0;i-=1)t=removeColumnCrossovers(e[i])||t;return t}function layoutColumns(e,t){e.forEach(o=>{justifyNodesAcrossColumn(o,t)});let i=!1;for(let o=0;o<6;o+=1){const a=layoutColumnsForward(e,t,1);i=layoutColumnsBackwards(e,t,.5);const s=removeColumnsCrossovers(e);if(!a&&!i&&!s)break}i&&(layoutColumnsForward(e,t,1),removeColumnsCrossovers(e))}var import_ag_charts_community160=require("ag-charts-community"),{BBox:BBox16,Path:Path11,ScenePathChangeDetection:ScenePathChangeDetection6,splitBezier}=import_ag_charts_community160._ModuleSupport;function offsetTrivialCubicBezier(e,t,i,o,a,s,r,n,l,c){let p,h;if(a!==i&&l!==r){const A=-(o-t)/(a-i),x=-(n-s)/(l-r);p=(r-i+A*t-x*s)/(A-x),h=A*(p-t)+i}else if(a===i&&l!==r)p=t,h=-(n-s)/(l-r)*(p-n)+l;else if(a!==i&&l===r)p=n,h=-(o-t)/(a-i)*(p-t)+i;else throw new Error("Offsetting flat bezier curve");const u=Math.hypot(i-h,t-p),d=(u+c)/u,f=Math.hypot(l-h,n-p),g=(f+c)/f,m=p+(o-p)*d,y=h+(a-h)*d,b=p+(s-p)*g,S=h+(r-h)*g,D=p+(n-p)*g,k=h+(l-h)*g;e.cubicCurveTo(m,y,b,S,D,k)}var SankeyLink=class extends Path11{constructor(){super(...arguments),this.x1=0,this.x2=0,this.y1=0,this.y2=0,this.height=0,this.inset=0}computeBBox(){const e=Math.min(this.x1,this.x2),t=Math.max(this.x1,this.x2)-e,i=Math.min(this.y1,this.y2),o=Math.max(this.y1,this.y2)-i+this.height;return new BBox16(e,i,t,o)}updatePath(){const{path:e,inset:t}=this;e.clear();const i=this.x1+t,o=this.x2-t,a=this.y1+t,s=this.y2+t,r=this.height-2*t;if(r<0||i>o)return;const n=i,l=a+r/2,c=(i+o)/2,p=a+r/2,h=(i+o)/2,u=s+r/2,d=o,f=s+r/2;if(e.moveTo(n,l-r/2),Math.abs(this.y2-this.y1)<1||this.x2-this.x1<this.height*Math.SQRT2)e.cubicCurveTo(c,p-r/2,h,u-r/2,d,f-r/2),e.lineTo(d,f+r/2),e.cubicCurveTo(h,u+r/2,c,p+r/2,n,l+r/2);else{const[g,m]=splitBezier(n,l,c,p,h,u,d,f,.5),y=(s>a?1:-1)*r/2;offsetTrivialCubicBezier(e,g[0].x,g[0].y,g[1].x,g[1].y,g[2].x,g[2].y,g[3].x,g[3].y,y),offsetTrivialCubicBezier(e,m[0].x,m[0].y,m[1].x,m[1].y,m[2].x,m[2].y,m[3].x,m[3].y,-y),e.lineTo(d,f+r/2),offsetTrivialCubicBezier(e,m[3].x,m[3].y,m[2].x,m[2].y,m[1].x,m[1].y,m[0].x,m[0].y,y),offsetTrivialCubicBezier(e,g[3].x,g[3].y,g[2].x,g[2].y,g[1].x,g[1].y,g[0].x,g[0].y,-y)}e.closePath()}};__decorateClass([ScenePathChangeDetection6()],SankeyLink.prototype,"x1",2),__decorateClass([ScenePathChangeDetection6()],SankeyLink.prototype,"x2",2),__decorateClass([ScenePathChangeDetection6()],SankeyLink.prototype,"y1",2),__decorateClass([ScenePathChangeDetection6()],SankeyLink.prototype,"y2",2),__decorateClass([ScenePathChangeDetection6()],SankeyLink.prototype,"height",2),__decorateClass([ScenePathChangeDetection6()],SankeyLink.prototype,"inset",2);var import_ag_charts_community161=require("ag-charts-community"),{BaseProperties:BaseProperties11,FillGradientDefaults:FillGradientDefaults16,FillPatternDefaults:FillPatternDefaults16,SeriesTooltip:SeriesTooltip22,SeriesProperties:SeriesProperties13,ARRAY:ARRAY8,ARRAY_OF:ARRAY_OF5,COLOR_STRING:COLOR_STRING24,COLOR_STRING_ARRAY:COLOR_STRING_ARRAY12,FUNCTION:FUNCTION17,LINE_DASH:LINE_DASH22,OBJECT:OBJECT27,POSITIVE_NUMBER:POSITIVE_NUMBER25,OR:OR18,COLOR_GRADIENT:COLOR_GRADIENT16,COLOR_PATTERN:COLOR_PATTERN16,RATIO:RATIO27,STRING:STRING20,UNION:UNION10,TempValidate:TempValidate37,Label:Label15}=import_ag_charts_community161._ModuleSupport,ALIGNMENT=UNION10(["left","right","center","justify"],"a justification value"),SankeySeriesLabelProperties=class extends Label15{constructor(){super(...arguments),this.spacing=1}};__decorateClass([TempValidate37(POSITIVE_NUMBER25)],SankeySeriesLabelProperties.prototype,"spacing",2);var SankeySeriesLinkProperties=class extends BaseProperties11{constructor(){super(...arguments),this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([TempValidate37(OR18(COLOR_GRADIENT16,COLOR_STRING24),{optional:!0})],SankeySeriesLinkProperties.prototype,"fill",2),__decorateClass([TempValidate37(RATIO27)],SankeySeriesLinkProperties.prototype,"fillOpacity",2),__decorateClass([TempValidate37(COLOR_STRING24,{optional:!0})],SankeySeriesLinkProperties.prototype,"stroke",2),__decorateClass([TempValidate37(RATIO27)],SankeySeriesLinkProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate37(POSITIVE_NUMBER25)],SankeySeriesLinkProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate37(LINE_DASH22)],SankeySeriesLinkProperties.prototype,"lineDash",2),__decorateClass([TempValidate37(POSITIVE_NUMBER25)],SankeySeriesLinkProperties.prototype,"lineDashOffset",2),__decorateClass([TempValidate37(FUNCTION17,{optional:!0})],SankeySeriesLinkProperties.prototype,"itemStyler",2);var SankeySeriesNodeProperties=class extends BaseProperties11{constructor(){super(...arguments),this.spacing=1,this.width=1,this.alignment="justify",this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([TempValidate37(POSITIVE_NUMBER25)],SankeySeriesNodeProperties.prototype,"spacing",2),__decorateClass([TempValidate37(POSITIVE_NUMBER25)],SankeySeriesNodeProperties.prototype,"width",2),__decorateClass([TempValidate37(ALIGNMENT)],SankeySeriesNodeProperties.prototype,"alignment",2),__decorateClass([TempValidate37(OR18(COLOR_GRADIENT16,COLOR_STRING24),{optional:!0})],SankeySeriesNodeProperties.prototype,"fill",2),__decorateClass([TempValidate37(RATIO27)],SankeySeriesNodeProperties.prototype,"fillOpacity",2),__decorateClass([TempValidate37(COLOR_STRING24,{optional:!0})],SankeySeriesNodeProperties.prototype,"stroke",2),__decorateClass([TempValidate37(RATIO27)],SankeySeriesNodeProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate37(POSITIVE_NUMBER25)],SankeySeriesNodeProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate37(LINE_DASH22)],SankeySeriesNodeProperties.prototype,"lineDash",2),__decorateClass([TempValidate37(POSITIVE_NUMBER25)],SankeySeriesNodeProperties.prototype,"lineDashOffset",2),__decorateClass([TempValidate37(FUNCTION17,{optional:!0})],SankeySeriesNodeProperties.prototype,"itemStyler",2);var SankeySeriesProperties=class extends SeriesProperties13{constructor(){super(...arguments),this.nodes=void 0,this.idKey="",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.sizeKey=void 0,this.sizeName=void 0,this.fillGradientDefaults=new FillGradientDefaults16,this.fillPatternDefaults=new FillPatternDefaults16,this.defaultColorRange=[],this.defaultPatternFills=[],this.fills=[],this.strokes=[],this.label=new SankeySeriesLabelProperties,this.link=new SankeySeriesLinkProperties,this.node=new SankeySeriesNodeProperties,this.tooltip=new SeriesTooltip22}};__decorateClass([TempValidate37(ARRAY8,{optional:!0})],SankeySeriesProperties.prototype,"nodes",2),__decorateClass([TempValidate37(STRING20)],SankeySeriesProperties.prototype,"fromKey",2),__decorateClass([TempValidate37(STRING20)],SankeySeriesProperties.prototype,"toKey",2),__decorateClass([TempValidate37(STRING20)],SankeySeriesProperties.prototype,"idKey",2),__decorateClass([TempValidate37(STRING20,{optional:!0})],SankeySeriesProperties.prototype,"idName",2),__decorateClass([TempValidate37(STRING20,{optional:!0})],SankeySeriesProperties.prototype,"labelKey",2),__decorateClass([TempValidate37(STRING20,{optional:!0})],SankeySeriesProperties.prototype,"labelName",2),__decorateClass([TempValidate37(STRING20,{optional:!0})],SankeySeriesProperties.prototype,"sizeKey",2),__decorateClass([TempValidate37(STRING20,{optional:!0})],SankeySeriesProperties.prototype,"sizeName",2),__decorateClass([TempValidate37(OBJECT27)],SankeySeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([TempValidate37(OBJECT27)],SankeySeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([TempValidate37(ARRAY_OF5(COLOR_STRING_ARRAY12))],SankeySeriesProperties.prototype,"defaultColorRange",2),__decorateClass([TempValidate37(ARRAY_OF5(COLOR_STRING24))],SankeySeriesProperties.prototype,"defaultPatternFills",2),__decorateClass([TempValidate37(ARRAY_OF5(OR18(COLOR_GRADIENT16,COLOR_STRING24,COLOR_PATTERN16)))],SankeySeriesProperties.prototype,"fills",2),__decorateClass([TempValidate37(COLOR_STRING_ARRAY12)],SankeySeriesProperties.prototype,"strokes",2),__decorateClass([TempValidate37(OBJECT27)],SankeySeriesProperties.prototype,"label",2),__decorateClass([TempValidate37(OBJECT27)],SankeySeriesProperties.prototype,"link",2),__decorateClass([TempValidate37(OBJECT27)],SankeySeriesProperties.prototype,"node",2),__decorateClass([TempValidate37(OBJECT27)],SankeySeriesProperties.prototype,"tooltip",2);var{Transformable:Transformable3,applyShapeStyle:applyShapeStyle12,SeriesNodePickMode:SeriesNodePickMode18,CachedTextMeasurerPool:CachedTextMeasurerPool10,TextWrapper:TextWrapper4,TextUtils:TextUtils6,createDatumId:createDatumId22,getShapeStyle:getShapeStyle18,Rect:Rect7,BBox:BBox17}=import_ag_charts_community162._ModuleSupport,SankeySeries=class extends FlowProportionSeries{constructor(e){super({moduleCtx:e,pickModes:[SeriesNodePickMode18.NEAREST_NODE,SeriesNodePickMode18.EXACT_SHAPE_MATCH]}),this.properties=new SankeySeriesProperties}isLabelEnabled(){return(this.properties.labelKey!=null||this.nodes==null)&&this.properties.label.enabled}linkFactory(){return new SankeyLink}nodeFactory(){return new Rect7}createNodeData(){const{id:e,_nodeDataDependencies:{seriesRectWidth:t,seriesRectHeight:i}={seriesRectWidth:0,seriesRectHeight:0}}=this,{fromKey:o,toKey:a,sizeKey:s,label:{spacing:r},node:{spacing:n,width:l,alignment:c}}=this.properties,{nodeGraph:p,links:h,maxPathLength:u}=this.getNodeGraph(x=>({...x,x:NaN,y:NaN,width:l,height:NaN}),x=>({...x,x1:NaN,x2:NaN,y1:NaN,y2:NaN,height:NaN}),{includeCircularReferences:!1}),d=p,f=this.isLabelEnabled()?(t-l)*(1-u/(u+1)):0,g=(t-l-2*f)/(u-1),m=[];for(let x=0;x<u;x+=1){const v=f+x*g;m.push({index:x,size:0,nodes:[],x:v})}d.forEach(x=>{const{datum:v,linksBefore:N,linksAfter:O,maxPathLengthBefore:_,maxPathLengthAfter:R}=x,I=Math.max(N.reduce((M,{link:P})=>M+P.size,0),O.reduce((M,{link:P})=>M+P.size,0));if(N.length===0&&O.length===0||I===0){x.columnIndex=-1;return}let T;switch(c){case"left":T=m[_];break;case"right":T=m[u-1-R];break;case"center":{if(N.length!==0)T=m[_];else if(O.length!==0){const M=O.reduce((P,B)=>Math.min(P,B.node.maxPathLengthBefore),u)-1;T=m[M]}else T=m[0];break}case"justify":{T=O.length===0?m[u-1]:m[_];break}}v.x=T.x,v.size=I;const C=this.getLabelText(this.properties.label,{datum:v.datum,value:v.label,fromKey:o,toKey:a,sizeKey:s,size:I});v.label=String(C),T.nodes.push(x),T.size+=I,x.columnIndex=T.index}),d.forEach(x=>{let v=1/0,N=0;x.linksAfter.forEach(O=>{const _=O.node,{columnIndex:R}=_;R<v?(v=R,N=_.datum.size):R===v&&(N=Math.max(N,_.datum.size))}),x.closestColumnIndex=v,x.maxSizeOfClosestNodesAfter=N});const y=m.reduce((x,{size:v,nodes:N})=>{const O=(1-(N.length-1)*(n/i))/v;return Math.min(x,O)},1/0);for(let x=m.length-1;x>=0;x-=1)m[x].nodes.sort((N,O)=>N.closestColumnIndex-O.closestColumnIndex||N.maxSizeOfClosestNodesAfter-O.maxSizeOfClosestNodesAfter||N.datum.size-O.datum.size);layoutColumns(m,{seriesRectHeight:i,nodeSpacing:n,sizeScale:y});let b=!1;if(d.forEach(({datum:x,linksBefore:v,linksAfter:N})=>{b||(b=x.height<0);const O=x.y+x.height,_=T=>T.sort((C,M)=>{const P=C.node.datum,B=M.node.datum,L=P.y+P.height,w=B.y+B.height,E=Math.atan2(P.y-x.y,Math.abs(P.x-x.x))-Math.atan2(B.y-x.y,Math.abs(B.x-x.x)),G=Math.atan2(L-O,Math.abs(P.x-x.x))-Math.atan2(w-O,Math.abs(B.x-x.x));return E+G});let R=x.y;_(v).forEach(({link:T})=>{T.y2=R,R+=T.size*i*y});let I=x.y;_(N).forEach(({link:T})=>{T.y1=I,I+=T.size*i*y})}),b){import_ag_charts_core54.Logger.warnOnce("There was insufficient space to display the Sankey Series. Reduce the node spacing, or provide a larger container.");return}const S=[],D=[],{fontSize:k}=this.properties.label,A=this.properties.label.getFont();return m.forEach((x,v)=>{const N=v===0,O=v===m.length-1;let _=-1/0;x.nodes.sort((R,I)=>R.datum.y-I.datum.y),x.nodes.forEach(({datum:R})=>{if(R.midPoint={x:R.x+R.width/2,y:R.y+R.height/2},S.push(R),R.label==null)return;const I=N?R.x-r:R.x+R.width+r,T=R.y+R.height/2;let C;if(!N&&!O){const L=T-TextUtils6.getLineHeight(k),w=T+TextUtils6.getLineHeight(k);let E=t;d.forEach(({datum:F})=>{F.x>R.x&&Math.max(F.y,L)<=Math.min(F.y+F.height,w)&&(E=Math.min(E,F.x-r))});const G=E-R.x-2*r;C=TextWrapper4.wrapText(R.label,{maxWidth:G,maxHeight:R.height,font:this.properties.label,textWrap:"never",overflow:"hide"})}if(C==null||C===""){const L=N||O?r:r*2;C=TextWrapper4.wrapText(R.label,{maxWidth:g-L,maxHeight:R.height,font:this.properties.label,textWrap:"never"})}if(C==="")return;const{height:M}=CachedTextMeasurerPool10.measureText(C,{font:A,textAlign:"left",textBaseline:"middle"}),P=T-M/2,B=T+M/2;P>=_&&(D.push({x:I,y:T,leading:N,text:C}),_=B)})}),h.forEach(x=>{const{fromNode:v,toNode:N,size:O}=x;x.height=i*O*y,x.x1=v.x+l,x.x2=N.x,x.midPoint={x:(x.x1+x.x2)/2,y:(x.y1+x.y2)/2+x.height/2},S.push(x)}),{itemId:e,nodeData:S,labelData:D}}updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t)}updateLabelNodes(e){const{labelSelection:t}=e,{color:i,fontStyle:o,fontWeight:a,fontSize:s,fontFamily:r}=this.properties.label;t.each((n,{x:l,y:c,leading:p,text:h})=>{n.visible=!0,n.x=l,n.y=c,n.text=h,n.fill=i,n.fontStyle=o,n.fontWeight=a,n.fontSize=s,n.fontFamily=r,n.textAlign=p?"right":"left",n.textBaseline="middle"})}updateNodeSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId22([t.type,t.id]))}getBaseNodeStyle(e){const{properties:t}=this,{fill:i,fillOpacity:o,stroke:a,strokeOpacity:s,lineDash:r,lineDashOffset:n}=t.node,l=e?t.highlightStyle.item:void 0;return getShapeStyle18({fill:l?.fill??i,fillOpacity:l?.fillOpacity??o,stroke:l?.stroke??a,strokeOpacity:l?.strokeOpacity??s,strokeWidth:l?.strokeWidth??this.getStrokeWidth(t.node.strokeWidth),lineDash:l?.lineDash??r,lineDashOffset:l?.lineDashOffset??n},t.fillGradientDefaults,t.fillPatternDefaults)}getNodeStyleOverrides(e,t,i,o,a,s,r){const{id:n,properties:l}=this,{fills:c,strokes:p,defaultColorRange:h,defaultPatternFills:u}=l,{itemStyler:d}=l.node,f=s.fill??c[i%c.length],g=s.stroke??p[i%p.length],m=h[i%h.length].map(S=>({color:S})),y=u[i%u.length];let b;if(r||(b??(b={}),b.fill=f,b.stroke=g),d!=null){const S=this.cachedDatumCallback(createDatumId22(e,"node",r?"highlight":"node"),()=>{const{fillOpacity:D=1,strokeOpacity:k=1,strokeWidth:A=0,lineDash:x=[],lineDashOffset:v=0}=s;return this.callWithContext(d,{seriesId:n,datum:t,highlighted:r,label:a,size:o,fill:f,fillOpacity:D,stroke:g,strokeOpacity:k,strokeWidth:A,lineDash:x,lineDashOffset:v})});b??(b={}),Object.assign(b,S)}return getShapeStyle18(b,{...this.properties.fillGradientDefaults.toJson(),colorStops:m},{...this.properties.fillPatternDefaults.toJson(),fill:y,stroke:y})}updateNodeNodes(e){const{datumSelection:t,isHighlight:i}=e,o=this.getBaseNodeStyle(i),a=this.getShapeFillBBox();t.each((s,r)=>{const{datumIndex:n,size:l,label:c}=r,p=this.getNodeStyleOverrides(String(n.index),r.datum,n.index,l,c,o,i);s.x=r.x,s.y=r.y,s.width=Math.max(r.width,0),s.height=Math.max(r.height,0),applyShapeStyle12(s,o,p,a)})}getShapeFillBBox(){const e=this._nodeDataDependencies?.seriesRectWidth??0,t=this._nodeDataDependencies?.seriesRectHeight??0,i=new BBox17(0,0,e,t);return{series:i,axis:i}}updateLinkSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId22([t.type,t.index,t.fromNode.id,t.toNode.id]))}getBaseLinkStyle(e){const{properties:t}=this,{fill:i,fillOpacity:o,stroke:a,strokeOpacity:s,lineDash:r,lineDashOffset:n}=t.link,l=e?t.highlightStyle.item:void 0;return getShapeStyle18({fill:l?.fill??i,fillOpacity:l?.fillOpacity??o,stroke:l?.stroke??a,strokeOpacity:l?.strokeOpacity??s,strokeWidth:l?.strokeWidth??this.getStrokeWidth(t.link.strokeWidth),lineDash:l?.lineDash??r,lineDashOffset:l?.lineDashOffset??n},t.fillGradientDefaults,t.fillPatternDefaults)}getLinkStyleOverrides(e,t,i,o,a){const{id:s,properties:r}=this,{fills:n,strokes:l,defaultColorRange:c,defaultPatternFills:p}=r,{itemStyler:h}=r.link,u=o.fill??n[i%n.length],d=o.stroke??l[i%l.length],f=c[i%c.length].map(y=>({color:y})),g=p[i%p.length];let m;if(a||(m??(m={}),m.fill=u,m.stroke=d),h!=null){const y=this.cachedDatumCallback(createDatumId22(e,"link",a?"highlight":"node"),()=>{const{fillOpacity:b=1,strokeOpacity:S=1,strokeWidth:D=0,lineDash:k=[],lineDashOffset:A=0}=o;return this.callWithContext(h,{seriesId:s,datum:t,highlighted:a,fill:u,fillOpacity:b,stroke:d,strokeOpacity:S,strokeWidth:D,lineDash:k,lineDashOffset:A})});m??(m={}),Object.assign(m,y)}return getShapeStyle18(m,{...this.properties.fillGradientDefaults.toJson(),colorStops:f},{...this.properties.fillPatternDefaults.toJson(),fill:g,stroke:g})}updateLinkNodes(e){const{datumSelection:t,isHighlight:i}=e,o=this.getBaseLinkStyle(i),a=this.getShapeFillBBox();t.each((s,r)=>{const{datumIndex:n}=r,l=r.fromNode.datumIndex,c=this.getLinkStyleOverrides(String(n.index),r.datum,l.index,o,i);s.x1=r.x1,s.y1=r.y1,s.x2=r.x2,s.y2=r.y2,s.height=r.height,applyShapeStyle12(s,o,c,a),s.inset=s.strokeWidth/2})}getTooltipContent(e){const{id:t,linksProcessedData:i,nodesProcessedData:o,properties:a}=this,{fromKey:s,toKey:r,sizeKey:n,sizeName:l,tooltip:c}=a,p=this.contextNodeData?.nodeData.find(m=>m.datumIndex.type===e.type&&m.datumIndex.index===e.index);if(p==null)return;const h=p.type===0?p.fromNode.index:p.index,u=p.type===0?`${p.fromNode.label} - ${p.toNode.label}`:p.label,d=e.type===0?i?.dataSources.get(this.id)?.[e.index]:o?.dataSources.get(this.id)?.[e.index],f=p.size;let g;if(p.type===0){const m=p.fromNode.datumIndex,y=this.getBaseLinkStyle(!1);Object.assign(y,this.getLinkStyleOverrides(String(e.index),d,m.index,y,!1)),g=y}else{const m=p.label,y=this.getBaseNodeStyle(!1);Object.assign(y,this.getNodeStyleOverrides(String(e.index),d,e.index,f,m,y,!1)),g=y}return c.formatTooltip(this.properties,{title:u,symbol:this.legendItemSymbol(p.type,h,g),data:n!=null?[{label:l,fallbackLabel:n,value:String(f)}]:[]},{seriesId:t,datum:d,title:u,fromKey:s,toKey:r,sizeKey:n,sizeName:l,size:f,...g})}computeFocusBounds(e){if(e instanceof Rect7){const{x:t,y:i,width:o,height:a}=e,s=new BBox17(t,i,o,a);return Transformable3.toCanvas(this.contentGroup,s)}return e}};SankeySeries.className="SankeySeries",SankeySeries.type="sankey";var import_ag_charts_community163=require("ag-charts-community"),import_ag_charts_core55=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs23,seriesLabelOptionsDefs:seriesLabelOptionsDefs17,tooltipOptionsDefs:tooltipOptionsDefs22}=import_ag_charts_community163._ModuleSupport,sankeySeriesOptionsDef={type:(0,import_ag_charts_core55.required)((0,import_ag_charts_core55.constant)("sankey")),fromKey:(0,import_ag_charts_core55.required)(import_ag_charts_core55.string),toKey:(0,import_ag_charts_core55.required)(import_ag_charts_core55.string),sizeKey:import_ag_charts_core55.string,sizeName:import_ag_charts_core55.string,fills:(0,import_ag_charts_core55.arrayOf)(import_ag_charts_core55.colorUnion),strokes:(0,import_ag_charts_core55.arrayOf)(import_ag_charts_core55.color),label:{...seriesLabelOptionsDefs17,spacing:import_ag_charts_core55.positiveNumber},link:{itemStyler:import_ag_charts_core55.callback,...import_ag_charts_core55.fillOptionsDef,...import_ag_charts_core55.strokeOptionsDef,...import_ag_charts_core55.lineDashOptionsDef},node:{width:import_ag_charts_core55.positiveNumber,spacing:import_ag_charts_core55.positiveNumber,alignment:(0,import_ag_charts_core55.union)("left","center","right","justify"),itemStyler:import_ag_charts_core55.callback,...import_ag_charts_core55.fillOptionsDef,...import_ag_charts_core55.strokeOptionsDef,...import_ag_charts_core55.lineDashOptionsDef},tooltip:tooltipOptionsDefs22,...commonSeriesOptionsDefs23};sankeySeriesOptionsDef.fillGradientDefaults=import_ag_charts_core55.fillGradientDefaults,sankeySeriesOptionsDef.fillPatternDefaults=import_ag_charts_core55.fillPatternDefaults,sankeySeriesOptionsDef.defaultColorRange=(0,import_ag_charts_core55.arrayOf)((0,import_ag_charts_core55.arrayOf)(import_ag_charts_core55.color)),sankeySeriesOptionsDef.defaultPatternFills=(0,import_ag_charts_core55.arrayOf)(import_ag_charts_core55.color);var SankeyModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["flow-proportion"],solo:!0,identifier:"sankey",moduleFactory:e=>new SankeySeries(e),tooltipDefaults:{range:"exact"},themeTemplate:{seriesArea:{padding:{top:10,bottom:10}},series:{fills:{$palette:"fills"},strokes:{$palette:"strokes"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community164._ModuleSupport.FILL_PATTERN_DEFAULTS,defaultColorRange:{$palette:"gradients"},defaultPatternFills:import_ag_charts_community164._ModuleSupport.SAFE_FILLS_OPERATION,highlightStyle:{series:{dimOpacity:.2}},label:{fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:10},node:{spacing:20,width:10,strokeWidth:0},link:{fillOpacity:.5,strokeWidth:0}},legend:{enabled:!1,toggleSeries:!1}}},SankeySeriesModule={type:"series",name:"sankey",chartType:"flow-proportion",enterprise:!0,options:sankeySeriesOptionsDef,create:e=>new SankeySeries(e)},import_ag_charts_community168=require("ag-charts-community"),import_ag_charts_community166=require("ag-charts-community"),import_ag_charts_community165=require("ag-charts-community"),{HierarchySeriesProperties,HighlightStyle,SeriesTooltip:SeriesTooltip23,TempValidate:TempValidate38,COLOR_STRING:COLOR_STRING25,FUNCTION:FUNCTION18,NUMBER:NUMBER14,OBJECT:OBJECT28,POSITIVE_NUMBER:POSITIVE_NUMBER26,RATIO:RATIO28,STRING:STRING21}=import_ag_charts_community165._ModuleSupport,SunburstSeriesTileHighlightStyle=class extends HighlightStyle{constructor(){super(...arguments),this.label=new AutoSizedLabel,this.secondaryLabel=new AutoSizedLabel}};__decorateClass([TempValidate38(STRING21,{optional:!0})],SunburstSeriesTileHighlightStyle.prototype,"fill",2),__decorateClass([TempValidate38(RATIO28,{optional:!0})],SunburstSeriesTileHighlightStyle.prototype,"fillOpacity",2),__decorateClass([TempValidate38(COLOR_STRING25,{optional:!0})],SunburstSeriesTileHighlightStyle.prototype,"stroke",2),__decorateClass([TempValidate38(POSITIVE_NUMBER26,{optional:!0})],SunburstSeriesTileHighlightStyle.prototype,"strokeWidth",2),__decorateClass([TempValidate38(RATIO28,{optional:!0})],SunburstSeriesTileHighlightStyle.prototype,"strokeOpacity",2),__decorateClass([TempValidate38(OBJECT28)],SunburstSeriesTileHighlightStyle.prototype,"label",2),__decorateClass([TempValidate38(OBJECT28)],SunburstSeriesTileHighlightStyle.prototype,"secondaryLabel",2);var SunburstSeriesProperties=class extends HierarchySeriesProperties{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=0,this.strokeOpacity=1,this.cornerRadius=0,this.highlightStyle=new SunburstSeriesTileHighlightStyle,this.label=new AutoSizedLabel,this.secondaryLabel=new AutoSizedSecondaryLabel,this.tooltip=new SeriesTooltip23}};__decorateClass([TempValidate38(STRING21,{optional:!0})],SunburstSeriesProperties.prototype,"sizeName",2),__decorateClass([TempValidate38(STRING21,{optional:!0})],SunburstSeriesProperties.prototype,"labelKey",2),__decorateClass([TempValidate38(STRING21,{optional:!0})],SunburstSeriesProperties.prototype,"secondaryLabelKey",2),__decorateClass([TempValidate38(RATIO28)],SunburstSeriesProperties.prototype,"fillOpacity",2),__decorateClass([TempValidate38(POSITIVE_NUMBER26)],SunburstSeriesProperties.prototype,"strokeWidth",2),__decorateClass([TempValidate38(RATIO28)],SunburstSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([TempValidate38(POSITIVE_NUMBER26)],SunburstSeriesProperties.prototype,"cornerRadius",2),__decorateClass([TempValidate38(NUMBER14,{optional:!0})],SunburstSeriesProperties.prototype,"sectorSpacing",2),__decorateClass([TempValidate38(NUMBER14,{optional:!0})],SunburstSeriesProperties.prototype,"padding",2),__decorateClass([TempValidate38(FUNCTION18,{optional:!0})],SunburstSeriesProperties.prototype,"itemStyler",2),__decorateClass([TempValidate38(OBJECT28)],SunburstSeriesProperties.prototype,"highlightStyle",2),__decorateClass([TempValidate38(OBJECT28)],SunburstSeriesProperties.prototype,"label",2),__decorateClass([TempValidate38(OBJECT28)],SunburstSeriesProperties.prototype,"secondaryLabel",2),__decorateClass([TempValidate38(OBJECT28)],SunburstSeriesProperties.prototype,"tooltip",2);var{fromToMotion:fromToMotion6,normalizeAngle360:normalizeAngle3608,createDatumId:createDatumId23,Sector:Sector7,Group:Group17,ScalableGroup:ScalableGroup2,Selection:Selection15,TransformableText:TransformableText3,BBox:BBox18,applyShapeStyle:applyShapeStyle13,getShapeStyle:getShapeStyle19}=import_ag_charts_community166._ModuleSupport,SunburstNode=class extends import_ag_charts_community166._ModuleSupport.HierarchyNode{constructor(){super(...arguments),this.label=void 0,this.secondaryLabel=void 0,this.contentHeight=0,this.bbox=void 0,this.startAngle=0,this.endAngle=0}};function setAngleData(e,t=0,i=2*Math.PI/e.sumSize){for(const o of e.children){const a=t+o.sumSize*i;o.startAngle=t,o.endAngle=a,setAngleData(o,t,i),t=a}}var SunburstSeries=class extends import_ag_charts_community166._ModuleSupport.HierarchySeries{constructor(){super(...arguments),this.NodeClass=SunburstNode,this.properties=new SunburstSeriesProperties,this.scalingGroup=this.contentGroup.appendChild(new ScalableGroup2),this.sectorGroup=this.scalingGroup.appendChild(new Group17),this.sectorLabelGroup=this.scalingGroup.appendChild(new Group17),this.highlightSectorGroup=this.scalingGroup.appendChild(new Group17),this.datumSelection=Selection15.select(this.sectorGroup,Sector7),this.labelSelection=Selection15.select(this.sectorLabelGroup,Group17),this.highlightSelection=Selection15.select(this.highlightSectorGroup,Sector7)}processData(){super.processData(),setAngleData(this.rootNode)}updateSelections(){const e=this.ctx.highlightManager?.getActiveHighlight();if(this.highlightSelection.update(e!=null?[e]:[],void 0,s=>this.getDatumId(s)),!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{chart:t}=this;if(t==null||t.seriesRect==null)return;const o=Array.from(this.rootNode),a=s=>{s.append([new TransformableText3({tag:0}),new TransformableText3({tag:1})])};this.datumSelection.update(o,void 0,s=>this.getDatumId(s)),this.labelSelection.update(o,a,s=>this.getDatumId(s))}getItemBaseStyle(e){const{properties:t}=this,i=e?t.highlightStyle:void 0;return getShapeStyle19({fill:i?.fill,fillOpacity:i?.fillOpacity??t.fillOpacity,stroke:i?.stroke,strokeWidth:i?.strokeWidth??this.getStrokeWidth(t.strokeWidth),strokeOpacity:i?.strokeOpacity??t.strokeOpacity},t.fillGradientDefaults,t.fillPatternDefaults)}getItemStyleOverrides(e,t,i,o,a,s){const{id:r,properties:n,colorScale:l}=this,{fills:c,strokes:p,itemStyler:h}=n,u=e[0],d=a.fill??c[u%c.length],f=a.stroke??p[u%p.length],g={};if(s||(g.fill=o!=null?l.convert(o):d,g.stroke=f),h!=null){const m=this.cachedDatumCallback(createDatumId23(e.join(":"),s?"highlight":"node"),()=>this.callWithContext(h,{seriesId:r,datum:t,depth:i,highlighted:s,fill:d,stroke:f,...a}));Object.assign(g,m)}return getShapeStyle19(g,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults)}updateNodes(){const{chart:e,data:t,maxDepth:i}=this;if(e==null||t==null)return;const{width:o,height:a}=e.seriesRect,{sectorSpacing:s=0,padding:r=0,cornerRadius:n,childrenKey:l,colorKey:c,colorName:p,labelKey:h,secondaryLabelKey:u,sizeKey:d,sizeName:f}=this.properties;this.contentGroup.translationX=o/2,this.contentGroup.translationY=a/2;const g=s*.5,m=Math.min(o,a)/2,y=m/(i+1),b=-Math.PI/2,S={series:new BBox18(-m,-m,2*m,2*m),axis:new BBox18(-m,-m,2*m,2*m)};this.rootNode?.walk(N=>{const{startAngle:O,endAngle:_}=N;if(N.depth!=null){const R=(O+_)/2+b,I=(N.depth+.5)*y;N.midPoint.x=Math.cos(R)*I,N.midPoint.y=Math.sin(R)*I}}),this.rootNode?.walk(N=>{const{datum:O,depth:_,startAngle:R,endAngle:I,parent:T,sumSize:C}=N;N.label=void 0,N.secondaryLabel=void 0,N.contentHeight=0;let M;if(O!=null&&_!=null&&h!=null){const J=O[h];M=this.getLabelText(this.properties.label,{depth:_,datum:O,childrenKey:l,colorKey:c,colorName:p,labelKey:h,secondaryLabelKey:u,sizeKey:d,sizeName:f,value:J})}M===""&&(M=void 0);let P;if(O!=null&&_!=null&&u!=null){const J=O[u];P=this.getLabelText(this.properties.secondaryLabel,{depth:_,datum:O,childrenKey:l,colorKey:c,colorName:p,labelKey:h,secondaryLabelKey:u,sizeKey:d,sizeName:f,value:J})}if(P===""&&(P=void 0),_==null)return;const B=_*y+g,L=(_+1)*y-g,w=B>g?g/B:g,E=L>g?g/L:g,G=R+w,V=I+w-G,W=R+E,q=I+E-W,Y=J=>{if(_===0&&T?.sumSize===C)return{width:2*Math.sqrt(L**2-(J*.5)**2),height:J,meta:0};const ie=J,se=2*Math.sqrt(L**2-(B+ie)**2),re=V<Math.PI?2*B*Math.tan(V*.5):1/0,ne=Math.min(se,re),pe=Math.PI/4;let le,ce;return _===0?(le=J,ce=Math.sqrt(L**2-(le/2)**2)-J/(2*Math.tan(q*.5))):normalizeAngle3608(V)<pe?(le=2*B*Math.tan(V*.5),ce=Math.sqrt(L**2-(le/2)**2)-B):(ce=0,le=0),ne>=ce?{width:ne,height:ie,meta:1}:{width:ce,height:le,meta:2}},X=formatLabels(M,this.properties.label,P,this.properties.secondaryLabel,{padding:r},Y);if(X==null)return;const{width:U,height:H,meta:$,label:j,secondaryLabel:Z}=X,z=b+(R+I)/2,oe=Math.sin(z)>=0,ae=Math.cos(z)>=0,Q=(oe?3:12)&(ae?6:9);let te;switch($){case 0:te=0;break;case 1:{const ee=L-(y-H)*.58,ie=Math.sqrt((L-r)**2-(U/2)**2);te=Math.min(ee,ie);break}case 2:if(_===0){const J=H/(2*Math.tan(V*.5))+U*.5,ee=Math.sqrt(L**2-(H*.5)**2)-U*.5;te=(J+ee)*.5}else te=(B+L)*.5;break}if(j!=null){const{fontStyle:J="normal",fontFamily:ee,fontWeight:ie="normal",color:se="black"}=this.properties.label;N.label={...j,fontStyle:J,fontFamily:ee,fontWeight:ie,color:se,labelPlacement:$,circleQuarter:Q,radius:te,theta:z}}if(Z!=null){const{fontStyle:J="normal",fontFamily:ee,fontWeight:ie="normal",color:se="black"}=this.properties.secondaryLabel;N.secondaryLabel={...Z,fontStyle:J,fontFamily:ee,fontWeight:ie,color:se,labelPlacement:$,circleQuarter:Q,radius:te,theta:z}}N.contentHeight=X.height});const D=(N,O,_,R)=>{const{datum:I,datumIndex:T,depth:C,colorValue:M,startAngle:P,endAngle:B}=N;if(C==null){O.visible=!1;return}O.visible=!0;const L=this.getItemStyleOverrides(T,I,C,M,_,R),w=L.fill??_.fill,E=L.strokeWidth??_.strokeWidth,G=import_ag_charts_community166._ModuleSupport.isGradientFill(w)&&w.bounds!=="item"?S:void 0;applyShapeStyle13(O,_,L,G),O.centerX=0,O.centerY=0,O.innerRadius=C*y,O.outerRadius=(C+1)*y,O.startAngle=P+b,O.endAngle=B+b,O.inset=g+E*.5,O.cornerRadius=n},k=this.getItemBaseStyle(!1);this.datumSelection.each((N,O)=>{D(O,N,k,!1)});const A=this.getItemBaseStyle(!0);this.highlightSelection.each((N,O)=>{D(O,N,A,!0)});const x=(N,O,_,R)=>{const{depth:I,contentHeight:T}=N,C=_===0,M=C?N.label:N.secondaryLabel;if(I==null||M==null){O.visible=!1;return}const{labelPlacement:P,circleQuarter:B,radius:L,theta:w}=M;let E;switch(R&&(E=(C?this.properties.highlightStyle.label:this.properties.highlightStyle.secondaryLabel).color),O.text=M.text,O.fontSize=M.fontSize,O.lineHeight=M.lineHeight,O.fontStyle=M.fontStyle,O.fontFamily=M.fontFamily,O.fontWeight=M.fontWeight,O.fill=E??M.color,P){case 0:O.textAlign="center",O.textBaseline="top",O.translationX=0,O.translationY=(C?0:T-M.height)-T*.5,O.rotation=0;break;case 1:{const G=(B&3)!==0,F=C===!G?L:L-(T-M.height);O.textAlign="center",O.textBaseline=G?"bottom":"top",O.translationX=Math.cos(w)*F,O.translationY=Math.sin(w)*F,O.rotation=G?w-Math.PI*.5:w+Math.PI*.5;break}case 2:{const G=(B&6)!==0,F=C===!G?(T-M.height)*.5:(M.height-T)*.5;O.textAlign="center",O.textBaseline="middle",O.translationX=Math.cos(w)*L+Math.cos(w+Math.PI/2)*F,O.translationY=Math.sin(w)*L+Math.sin(w+Math.PI/2)*F,O.rotation=G?w:w+Math.PI;break}}O.visible=!0},v=this.ctx.highlightManager?.getActiveHighlight();this.labelSelection.selectByClass(TransformableText3).forEach(N=>{const O=N.closestDatum();x(O,N,N.tag,O===v)})}getTooltipContent(e){const{id:t,properties:i}=this,{labelKey:o,secondaryLabelKey:a,childrenKey:s,sizeKey:r,sizeName:n,colorKey:l,colorName:c,tooltip:p}=i,h=e.reduce((D,k)=>D?.children[k],this.rootNode);if(h==null)return;const{datum:u,depth:d}=h;if(u==null||d==null)return;const f=[],g=r!=null?u[r]:void 0;g!=null&&f.push({label:n,fallbackLabel:r,value:g});const m=l!=null?u[l]:void 0;m!=null&&f.push({label:c,fallbackLabel:l,value:m});const y=this.getItemBaseStyle(!1);Object.assign(y,this.getItemStyleOverrides(e,u,d,m,y,!1));const b=y.fill,S=getShapeStyle19({shape:"square",fill:b,fillOpacity:1,stroke:void 0,strokeWidth:0,strokeOpacity:1,lineDash:[0],lineDashOffset:0},i.fillGradientDefaults,i.fillPatternDefaults);return import_ag_charts_community166._ModuleSupport.isGradientFill(S.fill)&&(S.fill={...S.fill,gradient:"linear",rotation:0,reverse:!1}),p.formatTooltip(i,{title:o!=null?u[o]:void 0,symbol:{marker:S},data:f},{seriesId:t,datum:u,title:void 0,depth:d,labelKey:o,secondaryLabelKey:a,childrenKey:s,sizeKey:r,sizeName:n,colorKey:l,colorName:c,...y})}createNodeData(){}pickNodeClosestDatum(e){return this.pickNodeNearestDistantObject(e,this.datumSelection.selectByClass(Sector7))}animateEmptyUpdateReady(){fromToMotion6(this.id,"nodes",this.ctx.animationManager,[this.scalingGroup],{toFn(){return{scalingX:1,scalingY:1}},fromFn(){return{scalingX:0,scalingY:0}}})}computeFocusBounds(e){return e}};SunburstSeries.className="SunburstSeries",SunburstSeries.type="sunburst";var import_ag_charts_community167=require("ag-charts-community"),import_ag_charts_core56=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs24,autoSizedLabelOptionsDefs:autoSizedLabelOptionsDefs5,tooltipOptionsDefs:tooltipOptionsDefs23,without:without6}=import_ag_charts_community167._ModuleSupport,sunburstSeriesOptionsDef={type:(0,import_ag_charts_core56.required)((0,import_ag_charts_core56.constant)("sunburst")),labelKey:import_ag_charts_core56.string,secondaryLabelKey:import_ag_charts_core56.string,childrenKey:import_ag_charts_core56.string,sizeKey:import_ag_charts_core56.string,colorKey:import_ag_charts_core56.string,sizeName:import_ag_charts_core56.string,colorName:import_ag_charts_core56.string,fills:(0,import_ag_charts_core56.arrayOf)(import_ag_charts_core56.colorUnion),strokes:(0,import_ag_charts_core56.arrayOf)(import_ag_charts_core56.color),colorRange:(0,import_ag_charts_core56.arrayOf)(import_ag_charts_core56.color),sectorSpacing:import_ag_charts_core56.positiveNumber,cornerRadius:import_ag_charts_core56.positiveNumber,padding:import_ag_charts_core56.positiveNumber,itemStyler:import_ag_charts_core56.callback,label:{spacing:import_ag_charts_core56.positiveNumber,...autoSizedLabelOptionsDefs5},secondaryLabel:autoSizedLabelOptionsDefs5,tooltip:tooltipOptionsDefs23,...commonSeriesOptionsDefs24,...without6(import_ag_charts_core56.fillOptionsDef,["fill"]),...without6(import_ag_charts_core56.strokeOptionsDef,["stroke"]),highlightStyle:{label:{color:import_ag_charts_core56.color},secondaryLabel:{color:import_ag_charts_core56.color},...import_ag_charts_core56.fillOptionsDef,...import_ag_charts_core56.strokeOptionsDef}},{FONT_SIZE_RATIO:FONT_SIZE_RATIO2}=import_ag_charts_community168._ModuleSupport,SunburstModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["hierarchy"],identifier:"sunburst",moduleFactory:e=>new SunburstSeries(e),tooltipDefaults:{range:"exact"},solo:!0,themeTemplate:{series:{fills:{$palette:"fills"},strokes:{$palette:"strokes"},colorRange:{$palette:"divergingColors"},fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"series",colorStops:{$palette:"gradient"},rotation:0,reverse:!0},fillPatternDefaults:import_ag_charts_community168._ModuleSupport.FILL_PATTERN_DEFAULTS,label:{fontFamily:{$ref:"fontFamily"},fontSize:{$rem:[FONT_SIZE_RATIO2.LARGE]},minimumFontSize:{$round:[{$mul:[{$ref:"fontSize"},9/12]}]},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"},overflowStrategy:"ellipsis",wrapping:"never",spacing:2},secondaryLabel:{fontFamily:{$ref:"fontFamily"},fontSize:{$rem:[FONT_SIZE_RATIO2.SMALLEST]},minimumFontSize:{$round:[{$mul:[{$ref:"fontSize"},7/12]}]},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"},overflowStrategy:"ellipsis",wrapping:"never"},sectorSpacing:2,padding:3,highlightStyle:{label:{color:{$ref:"backgroundColor"}},secondaryLabel:{color:{$ref:"backgroundColor"}},fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}},gradientLegend:{enabled:!0}}},SunburstSeriesModule={type:"series",name:"sunburst",chartType:"hierarchy",enterprise:!0,options:sunburstSeriesOptionsDef,create:e=>new SunburstSeries(e)},import_ag_charts_community172=require("ag-charts-community"),import_ag_charts_community170=require("ag-charts-community"),import_ag_charts_core57=require("ag-charts-core"),import_ag_charts_community169=require("ag-charts-community"),{BaseProperties:BaseProperties12,HierarchySeriesProperties:HierarchySeriesProperties2,HighlightStyle:HighlightStyle2,SeriesTooltip:SeriesTooltip24,TempValidate:TempValidate39,BOOLEAN:BOOLEAN12,COLOR_STRING:COLOR_STRING26,FUNCTION:FUNCTION19,NUMBER:NUMBER15,OBJECT:OBJECT29,POSITIVE_NUMBER:POSITIVE_NUMBER27,RATIO:RATIO29,STRING:STRING22,STRING_ARRAY,TEXT_ALIGN:TEXT_ALIGN2,VERTICAL_ALIGN:VERTICAL_ALIGN2,COLOR_GRADIENT:COLOR_GRADIENT17,COLOR_PATTERN:COLOR_PATTERN17,OR:OR19,Label:Label16}=import_ag_charts_community169._ModuleSupport,TreemapGroupLabel=class extends Label16{constructor(){super(...arguments),this.spacing=0}};__decorateClass([TempValidate39(NUMBER15)],TreemapGroupLabel.prototype,"spacing",2);var TreemapSeriesGroup=class extends BaseProperties12{constructor(){super(...arguments),this.fill=void 0,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.cornerRadius=0,this.textAlign="center",this.gap=0,this.padding=0,this.interactive=!0,this.label=new TreemapGroupLabel}};__decorateClass([TempValidate39(OR19(COLOR_GRADIENT17,COLOR_STRING26,COLOR_PATTERN17),{optional:!0})],TreemapSeriesGroup.prototype,"fill",2),__decorateClass([TempValidate39(RATIO29)],TreemapSeriesGroup.prototype,"fillOpacity",2),__decorateClass([TempValidate39(COLOR_STRING26,{optional:!0})],TreemapSeriesGroup.prototype,"stroke",2),__decorateClass([TempValidate39(POSITIVE_NUMBER27)],TreemapSeriesGroup.prototype,"strokeWidth",2),__decorateClass([TempValidate39(RATIO29)],TreemapSeriesGroup.prototype,"strokeOpacity",2),__decorateClass([TempValidate39(POSITIVE_NUMBER27)],TreemapSeriesGroup.prototype,"cornerRadius",2),__decorateClass([TempValidate39(TEXT_ALIGN2)],TreemapSeriesGroup.prototype,"textAlign",2),__decorateClass([TempValidate39(POSITIVE_NUMBER27)],TreemapSeriesGroup.prototype,"gap",2),__decorateClass([TempValidate39(POSITIVE_NUMBER27)],TreemapSeriesGroup.prototype,"padding",2),__decorateClass([TempValidate39(BOOLEAN12)],TreemapSeriesGroup.prototype,"interactive",2),__decorateClass([TempValidate39(OBJECT29)],TreemapSeriesGroup.prototype,"label",2);var TreemapSeriesTile=class extends BaseProperties12{constructor(){super(...arguments),this.fill=void 0,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.cornerRadius=0,this.textAlign="center",this.verticalAlign="middle",this.gap=0,this.padding=0,this.label=new AutoSizedLabel,this.secondaryLabel=new AutoSizedSecondaryLabel}};__decorateClass([TempValidate39(OR19(COLOR_GRADIENT17,COLOR_STRING26,COLOR_PATTERN17),{optional:!0})],TreemapSeriesTile.prototype,"fill",2),__decorateClass([TempValidate39(RATIO29)],TreemapSeriesTile.prototype,"fillOpacity",2),__decorateClass([TempValidate39(COLOR_STRING26,{optional:!0})],TreemapSeriesTile.prototype,"stroke",2),__decorateClass([TempValidate39(POSITIVE_NUMBER27,{optional:!0})],TreemapSeriesTile.prototype,"strokeWidth",2),__decorateClass([TempValidate39(RATIO29)],TreemapSeriesTile.prototype,"strokeOpacity",2),__decorateClass([TempValidate39(POSITIVE_NUMBER27)],TreemapSeriesTile.prototype,"cornerRadius",2),__decorateClass([TempValidate39(TEXT_ALIGN2)],TreemapSeriesTile.prototype,"textAlign",2),__decorateClass([TempValidate39(VERTICAL_ALIGN2)],TreemapSeriesTile.prototype,"verticalAlign",2),__decorateClass([TempValidate39(POSITIVE_NUMBER27)],TreemapSeriesTile.prototype,"gap",2),__decorateClass([TempValidate39(POSITIVE_NUMBER27)],TreemapSeriesTile.prototype,"padding",2),__decorateClass([TempValidate39(OBJECT29)],TreemapSeriesTile.prototype,"label",2),__decorateClass([TempValidate39(OBJECT29)],TreemapSeriesTile.prototype,"secondaryLabel",2);var TreemapSeriesGroupHighlightStyle=class extends BaseProperties12{constructor(){super(...arguments),this.label=new AutoSizedLabel}};__decorateClass([TempValidate39(STRING22,{optional:!0})],TreemapSeriesGroupHighlightStyle.prototype,"fill",2),__decorateClass([TempValidate39(RATIO29,{optional:!0})],TreemapSeriesGroupHighlightStyle.prototype,"fillOpacity",2),__decorateClass([TempValidate39(COLOR_STRING26,{optional:!0})],TreemapSeriesGroupHighlightStyle.prototype,"stroke",2),__decorateClass([TempValidate39(POSITIVE_NUMBER27,{optional:!0})],TreemapSeriesGroupHighlightStyle.prototype,"strokeWidth",2),__decorateClass([TempValidate39(RATIO29,{optional:!0})],TreemapSeriesGroupHighlightStyle.prototype,"strokeOpacity",2),__decorateClass([TempValidate39(OBJECT29)],TreemapSeriesGroupHighlightStyle.prototype,"label",2);var TreemapSeriesTileHighlightStyle=class extends BaseProperties12{constructor(){super(...arguments),this.label=new AutoSizedLabel,this.secondaryLabel=new AutoSizedSecondaryLabel}};__decorateClass([TempValidate39(STRING22,{optional:!0})],TreemapSeriesTileHighlightStyle.prototype,"fill",2),__decorateClass([TempValidate39(RATIO29,{optional:!0})],TreemapSeriesTileHighlightStyle.prototype,"fillOpacity",2),__decorateClass([TempValidate39(COLOR_STRING26,{optional:!0})],TreemapSeriesTileHighlightStyle.prototype,"stroke",2),__decorateClass([TempValidate39(POSITIVE_NUMBER27,{optional:!0})],TreemapSeriesTileHighlightStyle.prototype,"strokeWidth",2),__decorateClass([TempValidate39(RATIO29,{optional:!0})],TreemapSeriesTileHighlightStyle.prototype,"strokeOpacity",2),__decorateClass([TempValidate39(OBJECT29)],TreemapSeriesTileHighlightStyle.prototype,"label",2),__decorateClass([TempValidate39(OBJECT29)],TreemapSeriesTileHighlightStyle.prototype,"secondaryLabel",2);var TreemapSeriesHighlightStyle=class extends HighlightStyle2{constructor(){super(...arguments),this.group=new TreemapSeriesGroupHighlightStyle,this.tile=new TreemapSeriesTileHighlightStyle}};__decorateClass([TempValidate39(OBJECT29)],TreemapSeriesHighlightStyle.prototype,"group",2),__decorateClass([TempValidate39(OBJECT29)],TreemapSeriesHighlightStyle.prototype,"tile",2);var TreemapSeriesProperties=class extends HierarchySeriesProperties2{constructor(){super(...arguments),this.highlightStyle=new TreemapSeriesHighlightStyle,this.tooltip=new SeriesTooltip24,this.group=new TreemapSeriesGroup,this.tile=new TreemapSeriesTile,this.undocumentedGroupFills=[],this.undocumentedGroupStrokes=[]}};__decorateClass([TempValidate39(STRING22,{optional:!0})],TreemapSeriesProperties.prototype,"sizeName",2),__decorateClass([TempValidate39(STRING22,{optional:!0})],TreemapSeriesProperties.prototype,"labelKey",2),__decorateClass([TempValidate39(STRING22,{optional:!0})],TreemapSeriesProperties.prototype,"secondaryLabelKey",2),__decorateClass([TempValidate39(FUNCTION19,{optional:!0})],TreemapSeriesProperties.prototype,"itemStyler",2),__decorateClass([TempValidate39(OBJECT29)],TreemapSeriesProperties.prototype,"highlightStyle",2),__decorateClass([TempValidate39(OBJECT29)],TreemapSeriesProperties.prototype,"tooltip",2),__decorateClass([TempValidate39(OBJECT29)],TreemapSeriesProperties.prototype,"group",2),__decorateClass([TempValidate39(OBJECT29)],TreemapSeriesProperties.prototype,"tile",2),__decorateClass([TempValidate39(STRING_ARRAY)],TreemapSeriesProperties.prototype,"undocumentedGroupFills",2),__decorateClass([TempValidate39(STRING_ARRAY)],TreemapSeriesProperties.prototype,"undocumentedGroupStrokes",2);var{TextUtils:TextUtils7,TextWrapper:TextWrapper5,createDatumId:createDatumId24,Rect:Rect8,Group:Group18,BBox:BBox19,Selection:Selection16,Text:Text8,Transformable:Transformable4,applyShapeStyle:applyShapeStyle14,getShapeStyle:getShapeStyle20}=import_ag_charts_community170._ModuleSupport,TreemapNode=class extends import_ag_charts_community170._ModuleSupport.HierarchyNode{constructor(){super(...arguments),this.labelValue=void 0,this.secondaryLabelValue=void 0,this.label=void 0,this.secondaryLabel=void 0,this.bbox=void 0,this.padding=void 0}},tempText=new Text8;function getTextSize(e,t){const{fontStyle:i,fontWeight:o,fontSize:a,fontFamily:s}=t;tempText.setProperties({text:e,fontStyle:i,fontWeight:o,fontSize:a,fontFamily:s,textAlign:"left",textBaseline:"top"});const{width:r,height:n}=tempText.getBBox();return{width:r,height:n}}function nodeSize(e){return e.children.length>0?e.sumSize-e.sizeValue:e.sizeValue}var textAlignFactors2={left:0,center:.5,right:1},verticalAlignFactors4={top:0,middle:.5,bottom:1},DistantGroup=class extends import_ag_charts_community170._ModuleSupport.Group{distanceSquared(e,t){return this.getBBox().distanceSquared(e,t)}},TreemapSeries=class extends import_ag_charts_community170._ModuleSupport.HierarchySeries{constructor(){super(...arguments),this.NodeClass=TreemapNode,this.properties=new TreemapSeriesProperties,this.rectGroup=this.contentGroup.appendChild(new Group18),this.datumSelection=Selection16.select(this.rectGroup,Rect8),this.labelSelection=Selection16.select(this.labelGroup,Group18),this.highlightSelection=Selection16.select(this.rectGroup,Rect8)}groupTitleHeight(e,t){const{labelValue:i}=e,{label:o}=this.properties.group,a=3;if(i!=null){if(o.fontSize>t.width/a||o.fontSize>t.height/a)return;{const{height:s}=getTextSize(i,o);return Math.max(s,o.fontSize)}}}getNodePadding(e,t){if(e.parent==null)return{top:0,right:0,bottom:0,left:0};if(e.children.length===0){const{padding:r}=this.properties.tile;return{top:r,right:r,bottom:r,left:r}}const{label:{spacing:i},padding:o}=this.properties.group,a=this.groupTitleHeight(e,t),s=a!=null?a+i:0;return{top:o+s,right:o,bottom:o,left:o}}sortChildren({children:e}){const t=Array.from(e,(o,a)=>a).filter(o=>nodeSize(e[o])>0).sort((o,a)=>nodeSize(e[a])-nodeSize(e[o]));return{sortedChildrenIndices:t,childAt:o=>{const a=t[o];return e[a]}}}squarify(e,t){const{datum:i,children:o}=e;if(t.width<=0||t.height<=0){e.bbox=void 0,e.padding=void 0,e.midPoint.x=NaN,e.midPoint.y=NaN;return}const a=i!=null?this.getNodePadding(e,t):{top:0,right:0,bottom:0,left:0};e.parent==null?(e.bbox=void 0,e.padding=void 0,e.midPoint.x=NaN,e.midPoint.y=NaN):(e.bbox=t,e.padding=a,e.midPoint.x=t.x+t.width/2,e.midPoint.y=t.y);const{sortedChildrenIndices:s,childAt:r}=this.sortChildren(e),n=s.every(k=>o[k].children.length===0),l=1,c=t.width-a.left-a.right,p=t.height-a.top-a.bottom;if(c<=0||p<=0)return;const h=s.length;let u=0,d=0,f=1/0,g=s.reduce((k,A)=>k+nodeSize(o[A]),0);const m=new BBox19(t.x+a.left,t.y+a.top,c,p),y=m.clone();let b=0;for(;b<h;){const k=nodeSize(r(b)),A=nodeSize(r(d)),x=y.width<y.height;u+=k;const v=x?y.height:y.width,N=x?y.width:y.height,O=N*A/u;let _=v*u/g;const R=Math.max(O,_)/Math.min(O,_),I=Math.abs(l-R);if(I<f){f=I,b++;continue}u-=k,_=v*u/g;let T=x?y.x:y.y;for(let C=d;C<b;C++){const M=r(C),P=nodeSize(M),B=x?T:y.x,L=x?y.y:T,w=N*P/u,E=x?w:_,G=x?_:w,F=new BBox19(B,L,E,G);this.applyGap(m,F,n),this.squarify(M,F),g-=P,T+=w}x?(y.y+=_,y.height-=_):(y.x+=_,y.width-=_),d=b,u=0,f=1/0}const S=y.width<y.height;let D=S?y.x:y.y;for(let k=d;k<h;k++){const A=r(k),x=S?D:y.x,v=S?y.y:D,N=nodeSize(A)/g,O=y.width*(S?N:1),_=y.height*(S?1:N),R=new BBox19(x,v,O,_);this.applyGap(m,R,n),this.squarify(A,R),D+=S?O:_}}applyGap(e,t,i){const o=i?this.properties.tile.gap*.5:this.properties.group.gap*.5,a=l=>({left:l.x,top:l.y,right:l.x+l.width,bottom:l.y+l.height}),s=a(e),r=a(t);["top","right","bottom","left"].forEach(l=>{(0,import_ag_charts_core57.isNumberEqual)(s[l],r[l])||t.shrink(o,l)})}createNodeData(){}getGroupBaseStyle(e){const{properties:t}=this,{group:i}=t,o=e?t.highlightStyle.group:void 0;return getShapeStyle20({fill:o?.fill??i.fill,fillOpacity:o?.fillOpacity??i.fillOpacity,stroke:o?.stroke??i.stroke,strokeWidth:o?.strokeWidth??i.strokeWidth,strokeOpacity:o?.strokeOpacity??i.strokeOpacity},t.fillGradientDefaults,t.fillPatternDefaults)}getGroupStyleOverrides(e,t,i,o,a){const{id:s,properties:r}=this,{undocumentedGroupFills:n,undocumentedGroupStrokes:l,itemStyler:c}=r,p=o.fill??n[Math.min(i??0,n.length)],h=o.stroke??l[Math.min(i??0,l.length)],u={};if(a||(u.fill=p,u.stroke=h),c!=null){const d=this.cachedDatumCallback(createDatumId24(e.join(":"),a?"highlight":"node"),()=>this.callWithContext(c,{seriesId:s,datum:t,depth:i,highlighted:a,fill:p,stroke:h,...o}));Object.assign(u,d)}return getShapeStyle20(u,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults)}getTileBaseStyle(e){const{properties:t}=this,{tile:i}=t,o=e?t.highlightStyle.tile:void 0;return getShapeStyle20({fill:o?.fill??i.fill,fillOpacity:o?.fillOpacity??i.fillOpacity,stroke:o?.stroke??i.stroke,strokeWidth:o?.strokeWidth??i.strokeWidth,strokeOpacity:o?.strokeOpacity??i.strokeOpacity},t.fillGradientDefaults,t.fillPatternDefaults)}getTileStyleOverrides(e,t,i,o,a,s){const{id:r,properties:n,colorScale:l}=this,{fills:c,strokes:p,itemStyler:h}=n,u=e[0],d=a.fill??c[u%c.length],f=a.stroke??p[u%p.length],g={};if(s||(g.fill=o!=null?l.convert(o):d,g.stroke=f),h!=null){const m=this.cachedDatumCallback(createDatumId24(e.join(":"),s?"highlight":"node"),()=>this.callWithContext(h,{seriesId:r,datum:t,depth:i,highlighted:s,fill:d,stroke:f,...a}));Object.assign(g,m)}return getShapeStyle20(g,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults)}updateSelections(){let e=this.ctx.highlightManager?.getActiveHighlight();if(e!=null&&!this.properties.group.interactive&&e.children.length!==0&&(e=void 0),this.highlightSelection.update(e!=null?[e]:[],void 0,a=>this.getDatumId(a)),!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{seriesRect:t}=this.chart??{};if(!t)return;const i=Array.from(this.rootNode),o=a=>{a.append([new Text8({tag:0}),new Text8({tag:1})])};this.datumSelection.update(i,void 0,a=>this.getDatumId(a)),this.labelSelection.update(i,o,a=>this.getDatumId(a))}updateNodes(){const{rootNode:e,data:t}=this,{childrenKey:i,colorKey:o,colorName:a,labelKey:s,secondaryLabelKey:r,sizeKey:n,sizeName:l,highlightStyle:c,tile:p,group:h}=this.properties,{seriesRect:u}=this.chart??{};if(!u||!t)return;this.rootNode?.walk(x=>{const{datum:v,depth:N,children:O}=x,_=O.length===0,R=_?p.label:h.label;let I;if(v!=null&&N!=null&&s!=null){const C=v[s];I=this.getLabelText(R,{depth:N,datum:v,childrenKey:i,colorKey:o,colorName:a,labelKey:s,secondaryLabelKey:r,sizeKey:n,sizeName:l,value:C})}I===""&&(I=void 0);let T;if(_&&v!=null&&N!=null&&r!=null){const C=v[r];T=this.getLabelText(p.secondaryLabel,{depth:N,datum:v,childrenKey:i,colorKey:o,colorName:a,labelKey:s,secondaryLabelKey:r,sizeKey:n,sizeName:l,value:C})}T===""&&(T=void 0),x.labelValue=I,x.secondaryLabelValue=T});const{width:d,height:f}=u;this.squarify(e,new BBox19(0,0,d,f)),this.rootNode?.walk(x=>{const{bbox:v,children:N,labelValue:O,secondaryLabelValue:_}=x;if(x.label=void 0,x.secondaryLabel=void 0,v!=null)if(N.length===0){const R={width:v.width,height:v.height,meta:null},I=formatLabels(O,this.properties.tile.label,_,this.properties.tile.secondaryLabel,{padding:p.padding},()=>R);if(I==null)return;const{height:T,label:C,secondaryLabel:M}=I,{textAlign:P,verticalAlign:B,padding:L}=p,w=textAlignFactors2[P]??.5,E=v.x+L+(v.width-2*L)*w,G=verticalAlignFactors4[B]??.5,F=v.y+L+T*.5+(v.height-2*L-T)*G;if(C!=null){const{fontStyle:V="normal",fontFamily:W,fontWeight:K="normal",color:q="black"}=this.properties.tile.label;x.label={text:C.text,fontSize:C.fontSize,lineHeight:C.lineHeight,fontStyle:V,fontFamily:W,fontWeight:K,color:q,textAlign:P,verticalAlign:"middle",x:E,y:F-(T-C.height)*.5}}if(M!=null){const{fontStyle:V="normal",fontFamily:W,fontWeight:K="normal",color:q="black"}=this.properties.tile.secondaryLabel;x.secondaryLabel={text:M.text,fontSize:M.fontSize,lineHeight:M.fontSize,fontStyle:V,fontFamily:W,fontWeight:K,color:q,textAlign:P,verticalAlign:"middle",x:E,y:F+(T-M.height)*.5}}}else{if(O==null)return;{const{padding:R,textAlign:I}=h,T=this.groupTitleHeight(x,v);if(T==null)return;const C=v.width-2*R,M=TextWrapper5.wrapText(O,{maxWidth:v.width-2*R,font:h.label,textWrap:"never"}),P=textAlignFactors2[I]??.5,{fontStyle:B="normal",fontFamily:L,fontWeight:w="normal",color:E="black"}=this.properties.group.label;x.label={text:M,fontSize:h.label.fontSize,lineHeight:TextUtils7.getLineHeight(h.label.fontSize),fontStyle:B,fontFamily:L,fontWeight:w,color:E,textAlign:I,verticalAlign:"middle",x:v.x+R+C*P,y:v.y+R+T*.5}}}});const g={series:new BBox19(0,0,d,f),axis:new BBox19(0,0,d,f)},m=(x,v,N,O,_)=>{const{bbox:R}=x;if(R==null){v.visible=!1;return}const{datum:I,depth:T=-1,datumIndex:C,colorValue:M}=x,P=x.children.length===0,B=P?O:N,L=P?this.getTileStyleOverrides(C,I,T,M,B,_):this.getGroupStyleOverrides(C,I,T,B,_);v.crisp=!0,applyShapeStyle14(v,B,L,g),v.cornerRadius=P?p.cornerRadius:h.cornerRadius,v.zIndex=[0,T,_?1:0];const w=x.parent?.children.every(F=>F.children.length===0),E=x.parent!=null?x.parent.bbox:void 0,G=x.parent!=null?x.parent.padding:void 0;w===!0&&E!=null&&G!=null?(v.clipBBox=R,v.x=E.x+G.left,v.y=E.y+G.top,v.width=E.width-(G.left+G.right),v.height=E.height-(G.top+G.bottom)):(v.clipBBox=void 0,v.x=R.x,v.y=R.y,v.width=R.width,v.height=R.height),v.visible=!0},y=this.getGroupBaseStyle(!1),b=this.getTileBaseStyle(!1);this.datumSelection.each((x,v)=>m(v,x,y,b,!1));const S=this.getGroupBaseStyle(!0),D=this.getTileBaseStyle(!0);this.highlightSelection.each((x,v)=>{m(v,x,S,D,!0)});const k=(x,v,N,O)=>{const _=x.children.length===0,R=N===0?x.label:x.secondaryLabel;if(R==null){v.visible=!1;return}let I;if(O){const{tile:T,group:C}=c;I=T.secondaryLabel.color,_?N===0&&(I=T.label.color):I=C.label.color}v.text=R.text,v.fontSize=R.fontSize,v.lineHeight=R.lineHeight,v.fontStyle=R.fontStyle,v.fontFamily=R.fontFamily,v.fontWeight=R.fontWeight,v.fill=I??R.color,v.textAlign=R.textAlign,v.textBaseline=R.verticalAlign,v.x=R.x,v.y=R.y,v.visible=!0,v.zIndex=1},A=this.ctx.highlightManager?.getActiveHighlight();this.labelSelection.selectByClass(Text8).forEach(x=>{const v=x.closestDatum();k(v,x,x.tag,v===A)})}pickNodesExactShape(e){const t=super.pickNodesExactShape(e);return t.sort((i,o)=>o.datumIndex.length-i.datumIndex.length),t}pickNodeClosestDatum(e){const t=this.pickNodesExactShape(e);return t.length!==0?{datum:t[0],distance:0}:this.pickNodeNearestDistantObject(e,this.datumSelection.nodes())}getTooltipContent(e){const{id:t,properties:i}=this,{labelKey:o,secondaryLabelKey:a,childrenKey:s,sizeKey:r,sizeName:n,colorKey:l,colorName:c,tooltip:p}=i,h=e.reduce((x,v)=>x?.children[v],this.rootNode);if(h==null)return;const{datum:u,depth:d,children:f}=h;if(u==null||d==null)return;const g=f.length===0,m=[],y=r!=null?u[r]:void 0;y!=null&&m.push({label:n,fallbackLabel:r,value:y});const b=l!=null?u[l]:void 0;b!=null&&m.push({label:c,fallbackLabel:l,value:b});let S;g?(S=this.getTileBaseStyle(!1),Object.assign(S,this.getTileStyleOverrides(e,u,d,b,S,!1))):(S=this.getGroupBaseStyle(!1),Object.assign(S,this.getGroupStyleOverrides(e,u,d,S,!1)));const D=S.fill,k=getShapeStyle20({shape:"square",fill:D,fillOpacity:1,stroke:void 0,strokeWidth:0,strokeOpacity:1,lineDash:[0],lineDashOffset:0},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults);import_ag_charts_community170._ModuleSupport.isGradientFill(k.fill)&&(k.fill={...k.fill,gradient:"linear",rotation:0,reverse:!1});const A=g?{marker:k}:void 0;return p.formatTooltip(this.properties,{title:o!=null?u[o]:void 0,symbol:A,data:m},{seriesId:t,datum:u,title:void 0,depth:d,labelKey:o,secondaryLabelKey:a,childrenKey:s,sizeKey:r,sizeName:n,colorKey:l,colorName:c,...S})}computeFocusBounds(e){return Transformable4.toCanvas(this.contentGroup,e.getBBox())}};TreemapSeries.className="TreemapSeries",TreemapSeries.type="treemap";var import_ag_charts_community171=require("ag-charts-community"),import_ag_charts_core58=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs25,seriesLabelOptionsDefs:seriesLabelOptionsDefs18,tooltipOptionsDefs:tooltipOptionsDefs24}=import_ag_charts_community171._ModuleSupport,treemapSeriesOptionsDef={type:(0,import_ag_charts_core58.required)((0,import_ag_charts_core58.constant)("treemap")),labelKey:import_ag_charts_core58.string,secondaryLabelKey:import_ag_charts_core58.string,childrenKey:import_ag_charts_core58.string,sizeKey:import_ag_charts_core58.string,colorKey:import_ag_charts_core58.string,sizeName:import_ag_charts_core58.string,colorName:import_ag_charts_core58.string,fills:(0,import_ag_charts_core58.arrayOf)(import_ag_charts_core58.colorUnion),strokes:(0,import_ag_charts_core58.arrayOf)(import_ag_charts_core58.color),colorRange:(0,import_ag_charts_core58.arrayOf)(import_ag_charts_core58.color),itemStyler:import_ag_charts_core58.callback,group:{gap:import_ag_charts_core58.positiveNumber,padding:import_ag_charts_core58.positiveNumber,cornerRadius:import_ag_charts_core58.positiveNumber,textAlign:(0,import_ag_charts_core58.union)("left","center","right"),interactive:import_ag_charts_core58.boolean,label:{...seriesLabelOptionsDefs18,spacing:import_ag_charts_core58.positiveNumber},...import_ag_charts_core58.fillOptionsDef,...import_ag_charts_core58.strokeOptionsDef},tile:{gap:import_ag_charts_core58.positiveNumber,padding:import_ag_charts_core58.positiveNumber,cornerRadius:import_ag_charts_core58.positiveNumber,textAlign:(0,import_ag_charts_core58.union)("left","center","right"),verticalAlign:(0,import_ag_charts_core58.union)("top","middle","bottom"),label:{...seriesLabelOptionsDefs18,spacing:import_ag_charts_core58.positiveNumber,lineHeight:import_ag_charts_core58.positiveNumber,minimumFontSize:import_ag_charts_core58.positiveNumber,wrapping:(0,import_ag_charts_core58.union)("never","always","hyphenate","on-space"),overflowStrategy:(0,import_ag_charts_core58.union)("ellipsis","hide")},secondaryLabel:{...seriesLabelOptionsDefs18,lineHeight:import_ag_charts_core58.positiveNumber,minimumFontSize:import_ag_charts_core58.positiveNumber,wrapping:(0,import_ag_charts_core58.union)("never","always","hyphenate","on-space"),overflowStrategy:(0,import_ag_charts_core58.union)("ellipsis","hide")},...import_ag_charts_core58.fillOptionsDef,...import_ag_charts_core58.strokeOptionsDef},tooltip:tooltipOptionsDefs24,...commonSeriesOptionsDefs25,highlightStyle:{group:{label:{color:import_ag_charts_core58.color},...import_ag_charts_core58.fillOptionsDef,...import_ag_charts_core58.strokeOptionsDef},tile:{label:{color:import_ag_charts_core58.color},secondaryLabel:{color:import_ag_charts_core58.color},...import_ag_charts_core58.fillOptionsDef,...import_ag_charts_core58.strokeOptionsDef}}};treemapSeriesOptionsDef.fillGradientDefaults=import_ag_charts_core58.fillGradientDefaults,treemapSeriesOptionsDef.fillPatternDefaults=import_ag_charts_core58.fillPatternDefaults,treemapSeriesOptionsDef.undocumentedGroupFills=(0,import_ag_charts_core58.arrayOf)(import_ag_charts_core58.color),treemapSeriesOptionsDef.undocumentedGroupStrokes=(0,import_ag_charts_core58.arrayOf)(import_ag_charts_core58.color);var{FONT_SIZE_RATIO:FONT_SIZE_RATIO3}=import_ag_charts_community172._ModuleSupport,TreemapModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["hierarchy"],identifier:"treemap",moduleFactory:e=>new TreemapSeries(e),tooltipDefaults:{range:"exact"},solo:!0,themeTemplate:{series:{fills:{$palette:"fills"},strokes:{$palette:"strokes"},colorRange:{$palette:"divergingColors"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community172._ModuleSupport.FILL_PATTERN_DEFAULTS,undocumentedGroupFills:{$palette:"hierarchyColors"},undocumentedGroupStrokes:{$palette:"secondHierarchyColors"},group:{label:{enabled:!0,color:{$ref:"textColor"},fontStyle:void 0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},spacing:4},fill:void 0,stroke:void 0,strokeWidth:1,padding:4,gap:2,textAlign:"left"},tile:{label:{enabled:!0,color:{$ref:"backgroundColor"},fontStyle:void 0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.5]},minimumFontSize:{$rem:[FONT_SIZE_RATIO3.SMALLER]},fontFamily:{$ref:"fontFamily"},wrapping:"on-space",overflowStrategy:"ellipsis",spacing:2},secondaryLabel:{enabled:!0,color:{$ref:"backgroundColor"},fontStyle:void 0,fontWeight:void 0,fontSize:{$ref:"fontSize"},minimumFontSize:{$rem:[FONT_SIZE_RATIO3.SMALLER]},fontFamily:{$ref:"fontFamily"},wrapping:"never",overflowStrategy:"ellipsis"},fill:void 0,stroke:void 0,strokeWidth:0,padding:3,gap:1},highlightStyle:{group:{label:{color:{$ref:"textColor"}},fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2},tile:{label:{color:{$ref:"backgroundColor"}},secondaryLabel:{color:{$ref:"backgroundColor"}},fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}}},gradientLegend:{enabled:!0}}},TreemapSeriesModule={type:"series",name:"treemap",chartType:"hierarchy",enterprise:!0,options:treemapSeriesOptionsDef,create:e=>new TreemapSeries(e)},ModuleRegistry=import_ag_charts_community173._ModuleSupport.ModuleRegistry,AllCartesianEnterpriseModules=[OrdinalTimeAxisModule,BoxPlotSeriesModule,CandlestickSeriesModule,ConeFunnelSeriesModule,FunnelSeriesModule,HeatmapSeriesModule,OhlcSeriesModule,RangeAreaSeriesModule,RangeBarSeriesModule,WaterfallSeriesModule],AllPolarEnterpriseModules=[AngleNumberAxisModule,AngleCategoryAxisModule,RadiusNumberAxisModule,RadiusCategoryAxisModule,NightingaleSeriesModule,RadarAreaSeriesModule,RadarLineSeriesModule,RadialBarSeriesModule,RadialColumnSeriesModule],AllFlowProportionEnterpriseModules=[FlowProportionChartModule,ChordSeriesModule,SankeySeriesModule],AllGaugeEnterpriseModules=[GaugeChartModule,LinearGaugeSeriesModule,RadialGaugeSeriesModule],AllHierarchyEnterpriseModules=[HierarchyChartModule,SunburstSeriesModule,TreemapSeriesModule],AllStandaloneEnterpriseModules=[StandaloneChartModule,PyramidSeriesModule],AllTopologyEnterpriseModules=[TopologyChartModule,MapLineSeriesModule,MapLineBackgroundSeriesModule,MapMarkerSeriesModule,MapShapeSeriesModule,MapShapeBackgroundSeriesModule],AllEnterpriseModules=[...AllCartesianEnterpriseModules,...AllPolarEnterpriseModules,...AllFlowProportionEnterpriseModules,...AllGaugeEnterpriseModules,...AllHierarchyEnterpriseModules,...AllStandaloneEnterpriseModules,...AllTopologyEnterpriseModules,AnnotationsModule,NavigatorModule,InitialStateModule];
